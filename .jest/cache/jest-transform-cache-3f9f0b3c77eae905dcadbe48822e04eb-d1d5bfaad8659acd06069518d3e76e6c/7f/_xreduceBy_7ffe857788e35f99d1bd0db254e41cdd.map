{"version":3,"sources":["_xreduceBy.js"],"names":["_curryN","require","_has","_xfBase","XReduceBy","valueFn","valueAcc","keyFn","xf","inputs","prototype","init","result","key","input","_xreduceBy","module","exports"],"mappings":"AAAA,IAAIA,OAAO,GAAgBC,OAAO,aAAlC;;AAEA,IAAIC,IAAI,GAAgBD,OAAO,UAA/B;;AAEA,IAAIE,OAAO,GAAgBF,OAAO,aAAlC;;AAEA,IAAIG,SAAS,GAAgB,YAAY;AAEvC,WAASA,SAAT,CAAmBC,OAAnB,EAA4BC,QAA5B,EAAsCC,KAAtC,EAA6CC,EAA7C,EAAiD;AAC/C,SAAKH,OAAL,GAAeA,OAAf;AACA,SAAKC,QAAL,GAAgBA,QAAhB;AACA,SAAKC,KAAL,GAAaA,KAAb;AACA,SAAKC,EAAL,GAAUA,EAAV;AACA,SAAKC,MAAL,GAAc,EAAd;AACD;;AACDL,EAAAA,SAAS,CAACM,SAAV,CAAoB,mBAApB,IAA2CP,OAAO,CAACQ,IAAnD;;AACAP,EAAAA,SAAS,CAACM,SAAV,CAAoB,qBAApB,IAA6C,UAAUE,MAAV,EAAkB;AAC7D,QAAIC,GAAJ;;AACA,SAAKA,GAAL,IAAY,KAAKJ,MAAjB,EAAyB;AACvB,UAAIP,IAAI,CAACW,GAAD,EAAM,KAAKJ,MAAX,CAAR,EAA4B;AAC1BG,QAAAA,MAAM,GAAG,KAAKJ,EAAL,CAAQ,mBAAR,EAA6BI,MAA7B,EAAqC,KAAKH,MAAL,CAAYI,GAAZ,CAArC,CAAT;;AACA,YAAID,MAAM,CAAC,sBAAD,CAAV,EAAoC;AAClCA,UAAAA,MAAM,GAAGA,MAAM,CAAC,oBAAD,CAAf;AACA;AACD;AACF;AACF;;AACD,SAAKH,MAAL,GAAc,IAAd;AACA,WAAO,KAAKD,EAAL,CAAQ,qBAAR,EAA+BI,MAA/B,CAAP;AACD,GAbD;;AAcAR,EAAAA,SAAS,CAACM,SAAV,CAAoB,mBAApB,IAA2C,UAAUE,MAAV,EAAkBE,KAAlB,EAAyB;AAClE,QAAID,GAAG,GAAG,KAAKN,KAAL,CAAWO,KAAX,CAAV;AACA,SAAKL,MAAL,CAAYI,GAAZ,IAAmB,KAAKJ,MAAL,CAAYI,GAAZ,KAAoB,CAACA,GAAD,EAAM,KAAKP,QAAX,CAAvC;AACA,SAAKG,MAAL,CAAYI,GAAZ,EAAiB,CAAjB,IAAsB,KAAKR,OAAL,CAAa,KAAKI,MAAL,CAAYI,GAAZ,EAAiB,CAAjB,CAAb,EAAkCC,KAAlC,CAAtB;AACA,WAAOF,MAAP;AACD,GALD;;AAOA,SAAOR,SAAP;AACD,CAhC4B,EAA7B;;AAkCA,IAAIW,UAAU,GAAgBf,OAAO,CAAC,CAAD,EAAI,EAAJ,EAAQ,SAASe,UAAT,CAAoBV,OAApB,EAA6BC,QAA7B,EAAuCC,KAAvC,EAA8CC,EAA9C,EAAkD;AAC7F,SAAO,IAAIJ,SAAJ,CAAcC,OAAd,EAAuBC,QAAvB,EAAiCC,KAAjC,EAAwCC,EAAxC,CAAP;AACD,CAFoC,CAArC;;AAGAQ,MAAM,CAACC,OAAP,GAAiBF,UAAjB","sourcesContent":["var _curryN = /*#__PURE__*/require('./_curryN');\n\nvar _has = /*#__PURE__*/require('./_has');\n\nvar _xfBase = /*#__PURE__*/require('./_xfBase');\n\nvar XReduceBy = /*#__PURE__*/function () {\n\n  function XReduceBy(valueFn, valueAcc, keyFn, xf) {\n    this.valueFn = valueFn;\n    this.valueAcc = valueAcc;\n    this.keyFn = keyFn;\n    this.xf = xf;\n    this.inputs = {};\n  }\n  XReduceBy.prototype['@@transducer/init'] = _xfBase.init;\n  XReduceBy.prototype['@@transducer/result'] = function (result) {\n    var key;\n    for (key in this.inputs) {\n      if (_has(key, this.inputs)) {\n        result = this.xf['@@transducer/step'](result, this.inputs[key]);\n        if (result['@@transducer/reduced']) {\n          result = result['@@transducer/value'];\n          break;\n        }\n      }\n    }\n    this.inputs = null;\n    return this.xf['@@transducer/result'](result);\n  };\n  XReduceBy.prototype['@@transducer/step'] = function (result, input) {\n    var key = this.keyFn(input);\n    this.inputs[key] = this.inputs[key] || [key, this.valueAcc];\n    this.inputs[key][1] = this.valueFn(this.inputs[key][1], input);\n    return result;\n  };\n\n  return XReduceBy;\n}();\n\nvar _xreduceBy = /*#__PURE__*/_curryN(4, [], function _xreduceBy(valueFn, valueAcc, keyFn, xf) {\n  return new XReduceBy(valueFn, valueAcc, keyFn, xf);\n});\nmodule.exports = _xreduceBy;"]}