c7c1980eddbe62f3e385b6a41d8a9565
"use strict";

exports.__esModule = true;
exports.getLocalName = getLocalName;
exports.isElement = isElement;
exports.isHTMLTableCaptionElement = isHTMLTableCaptionElement;
exports.isHTMLInputElement = isHTMLInputElement;
exports.isHTMLOptGroupElement = isHTMLOptGroupElement;
exports.isHTMLSelectElement = isHTMLSelectElement;
exports.isHTMLTableElement = isHTMLTableElement;
exports.isHTMLTextAreaElement = isHTMLTextAreaElement;
exports.safeWindow = safeWindow;
exports.isHTMLFieldSetElement = isHTMLFieldSetElement;
exports.isHTMLLegendElement = isHTMLLegendElement;
exports.isHTMLSlotElement = isHTMLSlotElement;
exports.isSVGElement = isSVGElement;
exports.isSVGSVGElement = isSVGSVGElement;
exports.isSVGTitleElement = isSVGTitleElement;
exports.queryIdRefs = queryIdRefs;
exports.hasAnyConcreteRoles = hasAnyConcreteRoles;

var _getRole = _interopRequireDefault(require("./getRole"));

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}

function getLocalName(element) {
  var _element$localName;

  return (_element$localName = element.localName) !== null && _element$localName !== void 0 ? _element$localName : element.tagName.toLowerCase();
}

function isElement(node) {
  return node !== null && node.nodeType === node.ELEMENT_NODE;
}

function isHTMLTableCaptionElement(node) {
  return isElement(node) && getLocalName(node) === "caption";
}

function isHTMLInputElement(node) {
  return isElement(node) && getLocalName(node) === "input";
}

function isHTMLOptGroupElement(node) {
  return isElement(node) && getLocalName(node) === "optgroup";
}

function isHTMLSelectElement(node) {
  return isElement(node) && getLocalName(node) === "select";
}

function isHTMLTableElement(node) {
  return isElement(node) && getLocalName(node) === "table";
}

function isHTMLTextAreaElement(node) {
  return isElement(node) && getLocalName(node) === "textarea";
}

function safeWindow(node) {
  var _ref = node.ownerDocument === null ? node : node.ownerDocument,
      defaultView = _ref.defaultView;

  if (defaultView === null) {
    throw new TypeError("no window available");
  }

  return defaultView;
}

function isHTMLFieldSetElement(node) {
  return isElement(node) && getLocalName(node) === "fieldset";
}

function isHTMLLegendElement(node) {
  return isElement(node) && getLocalName(node) === "legend";
}

function isHTMLSlotElement(node) {
  return isElement(node) && getLocalName(node) === "slot";
}

function isSVGElement(node) {
  return isElement(node) && node.ownerSVGElement !== undefined;
}

function isSVGSVGElement(node) {
  return isElement(node) && getLocalName(node) === "svg";
}

function isSVGTitleElement(node) {
  return isSVGElement(node) && getLocalName(node) === "title";
}

function queryIdRefs(node, attributeName) {
  if (isElement(node) && node.hasAttribute(attributeName)) {
    var ids = node.getAttribute(attributeName).split(" ");
    return ids.map(function (id) {
      return node.ownerDocument.getElementById(id);
    }).filter(function (element) {
      return element !== null;
    });
  }

  return [];
}

function hasAnyConcreteRoles(node, roles) {
  if (isElement(node)) {
    return roles.indexOf((0, _getRole.default)(node)) !== -1;
  }

  return false;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NvdXJjZXMvdXRpbC50cyJdLCJuYW1lcyI6WyJlbGVtZW50Iiwibm9kZSIsImlzRWxlbWVudCIsImdldExvY2FsTmFtZSIsImRlZmF1bHRWaWV3IiwiaXNTVkdFbGVtZW50IiwiaWRzIiwicm9sZXMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUEsUUFBQSxHQUFBLHNCQUFBLENBQUEsT0FBQSxhQUFBLENBQUE7Ozs7Ozs7O0FBTU8sU0FBQSxZQUFBLENBQUEsT0FBQSxFQUFnRDtBQUFBLE1BQUEsa0JBQUE7O0FBQ3RELFNBQUEsQ0FBQSxrQkFBQSxHQUVDQSxPQUFPLENBRlIsU0FBQSxNQUFBLElBQUEsSUFBQSxrQkFBQSxLQUFBLEtBQUEsQ0FBQSxHQUFBLGtCQUFBLEdBSUNBLE9BQU8sQ0FBUEEsT0FBQUEsQ0FBQUEsV0FBQUEsRUFKRDtBQU1BOztBQUVNLFNBQUEsU0FBQSxDQUFBLElBQUEsRUFBdUQ7QUFDN0QsU0FBT0MsSUFBSSxLQUFKQSxJQUFBQSxJQUFpQkEsSUFBSSxDQUFKQSxRQUFBQSxLQUFrQkEsSUFBSSxDQUE5QyxZQUFBO0FBQ0E7O0FBRU0sU0FBQSx5QkFBQSxDQUFBLElBQUEsRUFFNEI7QUFDbEMsU0FBT0MsU0FBUyxDQUFUQSxJQUFTLENBQVRBLElBQW1CQyxZQUFZLENBQVpBLElBQVksQ0FBWkEsS0FBMUIsU0FBQTtBQUNBOztBQUVNLFNBQUEsa0JBQUEsQ0FBQSxJQUFBLEVBRXFCO0FBQzNCLFNBQU9ELFNBQVMsQ0FBVEEsSUFBUyxDQUFUQSxJQUFtQkMsWUFBWSxDQUFaQSxJQUFZLENBQVpBLEtBQTFCLE9BQUE7QUFDQTs7QUFFTSxTQUFBLHFCQUFBLENBQUEsSUFBQSxFQUV3QjtBQUM5QixTQUFPRCxTQUFTLENBQVRBLElBQVMsQ0FBVEEsSUFBbUJDLFlBQVksQ0FBWkEsSUFBWSxDQUFaQSxLQUExQixVQUFBO0FBQ0E7O0FBRU0sU0FBQSxtQkFBQSxDQUFBLElBQUEsRUFFc0I7QUFDNUIs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QUNBOztBQUNELFNBQUEsS0FBQTtBQUNBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGdldFJvbGUgZnJvbSBcIi4vZ2V0Um9sZVwiO1xuXG4vKipcbiAqIFNhZmUgRWxlbWVudC5sb2NhbE5hbWUgZm9yIGFsbCBzdXBwb3J0ZWQgZW52aXJvbm1lbnRzXG4gKiBAcGFyYW0gZWxlbWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9jYWxOYW1lKGVsZW1lbnQ6IEVsZW1lbnQpOiBzdHJpbmcge1xuXHRyZXR1cm4gKFxuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXByb3BlcnRpZXMgLS0gYWN0dWFsIGd1YXJkIGZvciBlbnZpcm9ubWVudHMgd2l0aG91dCBsb2NhbE5hbWVcblx0XHRlbGVtZW50LmxvY2FsTmFtZSA/P1xuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXByb3BlcnRpZXMgLS0gcmVxdWlyZWQgZm9yIHRoZSBmYWxsYmFja1xuXHRcdGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpXG5cdCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0VsZW1lbnQobm9kZTogTm9kZSB8IG51bGwpOiBub2RlIGlzIEVsZW1lbnQge1xuXHRyZXR1cm4gbm9kZSAhPT0gbnVsbCAmJiBub2RlLm5vZGVUeXBlID09PSBub2RlLkVMRU1FTlRfTk9ERTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSFRNTFRhYmxlQ2FwdGlvbkVsZW1lbnQoXG5cdG5vZGU6IE5vZGUgfCBudWxsXG4pOiBub2RlIGlzIEhUTUxUYWJsZUNhcHRpb25FbGVtZW50IHtcblx0cmV0dXJuIGlzRWxlbWVudChub2RlKSAmJiBnZXRMb2NhbE5hbWUobm9kZSkgPT09IFwiY2FwdGlvblwiO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNIVE1MSW5wdXRFbGVtZW50KFxuXHRub2RlOiBOb2RlIHwgbnVsbFxuKTogbm9kZSBpcyBIVE1MSW5wdXRFbGVtZW50IHtcblx0cmV0dXJuIGlzRWxlbWVudChub2RlKSAmJiBnZXRMb2NhbE5hbWUobm9kZSkgPT09IFwiaW5wdXRcIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSFRNTE9wdEdyb3VwRWxlbWVudChcblx0bm9kZTogTm9kZSB8IG51bGxcbik6IG5vZGUgaXMgSFRNTE9wdEdyb3VwRWxlbWVudCB7XG5cdHJldHVybiBpc0VsZW1lbnQobm9kZSkgJiYgZ2V0TG9jYWxOYW1lKG5vZGUpID09PSBcIm9wdGdyb3VwXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0hUTUxTZWxlY3RFbGVtZW50KFxuXHRub2RlOiBOb2RlIHwgbnVsbFxuKTogbm9kZSBpcyBIVE1MU2VsZWN0RWxlbWVudCB7XG5cdHJldHVybiBpc0VsZW1lbnQobm9kZSkgJiYgZ2V0TG9jYWxOYW1lKG5vZGUpID09PSBcInNlbGVjdFwiO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNIVE1MVGFibGVFbGVtZW50KFxuXHRub2RlOiBOb2RlIHwgbnVsbFxuKTogbm9kZSBpcyBIVE1MVGFibGVFbGVtZW50IHtcblx0cmV0dXJuIGlzRWxlbWVudChub2RlKSAmJiBnZXRMb2NhbE5hbWUobm9kZSkgPT09IFwidGFibGVcIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSFRNTFRleHRBcmVhRWxlbWVudChcblx0bm9kZTogTm9kZSB8IG51bGxcbik6IG5vZGUgaXMgSFRNTFRleHRBcmVhRWxlbWVudCB7XG5cdHJldHVybiBpc0VsZW1lbnQobm9kZSkgJiYgZ2V0TG9jYWxOYW1lKG5vZGUpID09PSBcInRleHRhcmVhXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYWZlV2luZG93KG5vZGU6IE5vZGUpOiBXaW5kb3cge1xuXHRjb25zdCB7IGRlZmF1bHRWaWV3IH0gPVxuXHRcdG5vZGUub3duZXJEb2N1bWVudCA9PT0gbnVsbCA/IChub2RlIGFzIERvY3VtZW50KSA6IG5vZGUub3duZXJEb2N1bWVudDtcblxuXHRpZiAoZGVmYXVsdFZpZXcgPT09IG51bGwpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwibm8gd2luZG93IGF2YWlsYWJsZVwiKTtcblx0fVxuXHRyZXR1cm4gZGVmYXVsdFZpZXc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0hUTUxGaWVsZFNldEVsZW1lbnQoXG5cdG5vZGU6IE5vZGUgfCBudWxsXG4pOiBub2RlIGlzIEhUTUxGaWVsZFNldEVsZW1lbnQge1xuXHRyZXR1cm4gaXNFbGVtZW50KG5vZGUpICYmIGdldExvY2FsTmFtZShub2RlKSA9PT0gXCJmaWVsZHNldFwiO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNIVE1MTGVnZW5kRWxlbWVudChcblx0bm9kZTogTm9kZSB8IG51bGxcbik6IG5vZGUgaXMgSFRNTExlZ2VuZEVsZW1lbnQge1xuXHRyZXR1cm4gaXNFbGVtZW50KG5vZGUpICYmIGdldExvY2FsTmFtZShub2RlKSA9PT0gXCJsZWdlbmRcIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSFRNTFNsb3RFbGVtZW50KG5vZGU6IE5vZGUgfCBudWxsKTogbm9kZSBpcyBIVE1MU2xvdEVsZW1lbnQge1xuXHRyZXR1cm4gaXNFbGVtZW50KG5vZGUpICYmIGdldExvY2FsTmFtZShub2RlKSA9PT0gXCJzbG90XCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1NWR0VsZW1lbnQobm9kZTogTm9kZSB8IG51bGwpOiBub2RlIGlzIFNWR0VsZW1lbnQge1xuXHRyZXR1cm4gaXNFbGVtZW50KG5vZGUpICYmIChub2RlIGFzIFNWR0VsZW1lbnQpLm93bmVyU1ZHRWxlbWVudCAhPT0gdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNTVkdTVkdFbGVtZW50KG5vZGU6IE5vZGUgfCBudWxsKTogbm9kZSBpcyBTVkdTVkdFbGVtZW50IHtcblx0cmV0dXJuIGlzRWxlbWVudChub2RlKSAmJiBnZXRMb2NhbE5hbWUobm9kZSkgPT09IFwic3ZnXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1NWR1RpdGxlRWxlbWVudChub2RlOiBOb2RlIHwgbnVsbCk6IG5vZGUgaXMgU1ZHVGl0bGVFbGVtZW50IHtcblx0cmV0dXJuIGlzU1ZHRWxlbWVudChub2RlKSAmJiBnZXRMb2NhbE5hbWUobm9kZSkgPT09IFwidGl0bGVcIjtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHtOb2RlfSBub2RlIC1cbiAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGVOYW1lIC1cbiAqIEByZXR1cm5zIHtFbGVtZW50W119IC1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5SWRSZWZzKG5vZGU6IE5vZGUsIGF0dHJpYnV0ZU5hbWU6IHN0cmluZyk6IEVsZW1lbnRbXSB7XG5cdGlmIChpc0VsZW1lbnQobm9kZSkgJiYgbm9kZS5oYXNBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSkpIHtcblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvbiAtLSBzYWZlIGR1ZSB0byBoYXNBdHRyaWJ1dGUgY2hlY2tcblx0XHRjb25zdCBpZHMgPSBub2RlLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKSEuc3BsaXQoXCIgXCIpO1xuXG5cdFx0cmV0dXJuIGlkc1xuXHRcdFx0Lm1hcCgoaWQpID0+IG5vZGUub3duZXJEb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkpXG5cdFx0XHQuZmlsdGVyKFxuXHRcdFx0XHQoZWxlbWVudDogRWxlbWVudCB8IG51bGwpOiBlbGVtZW50IGlzIEVsZW1lbnQgPT4gZWxlbWVudCAhPT0gbnVsbFxuXHRcdFx0XHQvLyBUT0RPOiB3aHkgZG9lcyB0aGlzIG5vdCBuYXJyb3c/XG5cdFx0XHQpIGFzIEVsZW1lbnRbXTtcblx0fVxuXG5cdHJldHVybiBbXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhc0FueUNvbmNyZXRlUm9sZXMoXG5cdG5vZGU6IE5vZGUsXG5cdHJvbGVzOiBBcnJheTxzdHJpbmcgfCBudWxsPlxuKTogbm9kZSBpcyBFbGVtZW50IHtcblx0aWYgKGlzRWxlbWVudChub2RlKSkge1xuXHRcdHJldHVybiByb2xlcy5pbmRleE9mKGdldFJvbGUobm9kZSkpICE9PSAtMTtcblx0fVxuXHRyZXR1cm4gZmFsc2U7XG59XG4iXX0=