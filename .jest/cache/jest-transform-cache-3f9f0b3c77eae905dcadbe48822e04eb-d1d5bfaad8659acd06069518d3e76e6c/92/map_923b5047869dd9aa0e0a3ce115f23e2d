2db3daa51058e1cdc59620b39ef8f6db
var _curry2 = require("./internal/_curry2");

var _dispatchable = require("./internal/_dispatchable");

var _map = require("./internal/_map");

var _reduce = require("./internal/_reduce");

var _xmap = require("./internal/_xmap");

var curryN = require("./curryN");

var keys = require("./keys");

var map = _curry2(_dispatchable(['fantasy-land/map', 'map'], _xmap, function map(fn, functor) {
  switch (Object.prototype.toString.call(functor)) {
    case '[object Function]':
      return curryN(functor.length, function () {
        return fn.call(this, functor.apply(this, arguments));
      });

    case '[object Object]':
      return _reduce(function (acc, key) {
        acc[key] = fn(functor[key]);
        return acc;
      }, {}, keys(functor));

    default:
      return _map(fn, functor);
  }
}));

module.exports = map;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hcC5qcyJdLCJuYW1lcyI6WyJfY3VycnkyIiwicmVxdWlyZSIsIl9kaXNwYXRjaGFibGUiLCJfbWFwIiwiX3JlZHVjZSIsIl94bWFwIiwiY3VycnlOIiwia2V5cyIsIm1hcCIsImZuIiwiZnVuY3RvciIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsImxlbmd0aCIsImFwcGx5IiwiYXJndW1lbnRzIiwiYWNjIiwia2V5IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSUEsT0FBTyxHQUFnQkMsT0FBTyxzQkFBbEM7O0FBRUEsSUFBSUMsYUFBYSxHQUFnQkQsT0FBTyw0QkFBeEM7O0FBRUEsSUFBSUUsSUFBSSxHQUFnQkYsT0FBTyxtQkFBL0I7O0FBRUEsSUFBSUcsT0FBTyxHQUFnQkgsT0FBTyxzQkFBbEM7O0FBRUEsSUFBSUksS0FBSyxHQUFnQkosT0FBTyxvQkFBaEM7O0FBRUEsSUFBSUssTUFBTSxHQUFnQkwsT0FBTyxZQUFqQzs7QUFFQSxJQUFJTSxJQUFJLEdBQWdCTixPQUFPLFVBQS9COztBQXVDQSxJQUFJTyxHQUFHLEdBQWdCUixPQUFPLENBQWVFLGFBQWEsQ0FBQyxDQUFDLGtCQUFELEVBQXFCLEtBQXJCLENBQUQsRUFBOEJHLEtBQTlCLEVBQXFDLFNBQVNHLEdBQVQsQ0FBYUMsRUFBYixFQUFpQkMsT0FBakIsRUFBMEI7QUFDdkgsVUFBUUMsTUFBTSxDQUFDQyxTQUFQLENBQWlCQyxRQUFqQixDQUEwQkMsSUFBMUIsQ0FBK0JKLE9BQS9CLENBQVI7QUFDRSxTQUFLLG1CQUFMO0FBQ0UsYUFBT0osTUFBTSxDQUFDSSxPQUFPLENBQUNLLE1BQVQsRUFBaUIsWUFBWTtBQUN4QyxlQUFPTixFQUFFLENBQUNLLElBQUgsQ0FBUSxJQUFSLEVBQWNKLE9BQU8sQ0FBQ00sS0FBUixDQUFjLElBQWQsRUFBb0JDLFNBQXBCLENBQWQsQ0FBUDtBQUNELE9BRlksQ0FBYjs7QUFHRixTQUFLLGlCQUFMO0FBQ0UsYUFBT2IsT0FBTyxDQUFDLFVBQVVjLEdBQVYsRUFBZUMsR0FBZixFQUFvQjtBQUNqQ0QsUUFBQUEsR0FBRyxDQUFDQyxHQUFELENBQUgsR0FBV1YsRUFBRSxDQUFDQyxPQUFPLENBQUNTLEdBQUQsQ0FBUixDQUFiO0FBQ0EsZUFBT0QsR0FBUDtBQUNELE9BSGEsRUFHWCxFQUhXLEVBR1BYLElBQUksQ0FBQ0csT0FBRCxDQUhHLENBQWQ7O0FBSUY7QUFDRSxhQUFPUCxJQUFJLENBQUNNLEVBQUQsRUFBS0MsT0FBTCxDQUFYO0FBWEo7QUFhRCxDQWR5RCxDQUE1QixDQUE5Qjs7QUFlQVUsTUFBTSxDQUFDQyxPQUFQLEdBQWlCYixHQUFqQiIsInNvdXJjZXNDb250ZW50IjpbInZhciBfY3VycnkyID0gLyojX19QVVJFX18qL3JlcXVpcmUoJy4vaW50ZXJuYWwvX2N1cnJ5MicpO1xuXG52YXIgX2Rpc3BhdGNoYWJsZSA9IC8qI19fUFVSRV9fKi9yZXF1aXJlKCcuL2ludGVybmFsL19kaXNwYXRjaGFibGUnKTtcblxudmFyIF9tYXAgPSAvKiNfX1BVUkVfXyovcmVxdWlyZSgnLi9pbnRlcm5hbC9fbWFwJyk7XG5cbnZhciBfcmVkdWNlID0gLyojX19QVVJFX18qL3JlcXVpcmUoJy4vaW50ZXJuYWwvX3JlZHVjZScpO1xuXG52YXIgX3htYXAgPSAvKiNfX1BVUkVfXyovcmVxdWlyZSgnLi9pbnRlcm5hbC9feG1hcCcpO1xuXG52YXIgY3VycnlOID0gLyojX19QVVJFX18qL3JlcXVpcmUoJy4vY3VycnlOJyk7XG5cbnZhciBrZXlzID0gLyojX19QVVJFX18qL3JlcXVpcmUoJy4va2V5cycpO1xuXG4vKipcbiAqIFRha2VzIGEgZnVuY3Rpb24gYW5kXG4gKiBhIFtmdW5jdG9yXShodHRwczovL2dpdGh1Yi5jb20vZmFudGFzeWxhbmQvZmFudGFzeS1sYW5kI2Z1bmN0b3IpLFxuICogYXBwbGllcyB0aGUgZnVuY3Rpb24gdG8gZWFjaCBvZiB0aGUgZnVuY3RvcidzIHZhbHVlcywgYW5kIHJldHVybnNcbiAqIGEgZnVuY3RvciBvZiB0aGUgc2FtZSBzaGFwZS5cbiAqXG4gKiBSYW1kYSBwcm92aWRlcyBzdWl0YWJsZSBgbWFwYCBpbXBsZW1lbnRhdGlvbnMgZm9yIGBBcnJheWAgYW5kIGBPYmplY3RgLFxuICogc28gdGhpcyBmdW5jdGlvbiBtYXkgYmUgYXBwbGllZCB0byBgWzEsIDIsIDNdYCBvciBge3g6IDEsIHk6IDIsIHo6IDN9YC5cbiAqXG4gKiBEaXNwYXRjaGVzIHRvIHRoZSBgbWFwYCBtZXRob2Qgb2YgdGhlIHNlY29uZCBhcmd1bWVudCwgaWYgcHJlc2VudC5cbiAqXG4gKiBBY3RzIGFzIGEgdHJhbnNkdWNlciBpZiBhIHRyYW5zZm9ybWVyIGlzIGdpdmVuIGluIGxpc3QgcG9zaXRpb24uXG4gKlxuICogQWxzbyB0cmVhdHMgZnVuY3Rpb25zIGFzIGZ1bmN0b3JzIGFuZCB3aWxsIGNvbXBvc2UgdGhlbSB0b2dldGhlci5cbiAqXG4gKiBAZnVuY1xuICogQG1lbWJlck9mIFJcbiAqIEBzaW5jZSB2MC4xLjBcbiAqIEBjYXRlZ29yeSBMaXN0XG4gKiBAc2lnIEZ1bmN0b3IgZiA9PiAoYSAtPiBiKSAtPiBmIGEgLT4gZiBiXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uIGV2ZXJ5IGVsZW1lbnQgb2YgdGhlIGlucHV0IGBsaXN0YC5cbiAqIEBwYXJhbSB7QXJyYXl9IGxpc3QgVGhlIGxpc3QgdG8gYmUgaXRlcmF0ZWQgb3Zlci5cbiAqIEByZXR1cm4ge0FycmF5fSBUaGUgbmV3IGxpc3QuXG4gKiBAc2VlIFIudHJhbnNkdWNlLCBSLmFkZEluZGV4XG4gKiBAZXhhbXBsZVxuICpcbiAqICAgICAgY29uc3QgZG91YmxlID0geCA9PiB4ICogMjtcbiAqXG4gKiAgICAgIFIubWFwKGRvdWJsZSwgWzEsIDIsIDNdKTsgLy89PiBbMiwgNCwgNl1cbiAqXG4gKiAgICAgIFIubWFwKGRvdWJsZSwge3g6IDEsIHk6IDIsIHo6IDN9KTsgLy89PiB7eDogMiwgeTogNCwgejogNn1cbiAqIEBzeW1iIFIubWFwKGYsIFthLCBiXSkgPSBbZihhKSwgZihiKV1cbiAqIEBzeW1iIFIubWFwKGYsIHsgeDogYSwgeTogYiB9KSA9IHsgeDogZihhKSwgeTogZihiKSB9XG4gKiBAc3ltYiBSLm1hcChmLCBmdW5jdG9yX28pID0gZnVuY3Rvcl9vLm1hcChmKVxuICovXG5cblxudmFyIG1hcCA9IC8qI19fUFVSRV9fKi9fY3VycnkyKCAvKiNfX1BVUkVfXyovX2Rpc3BhdGNoYWJsZShbJ2ZhbnRhc3ktbGFuZC9tYXAnLCAnbWFwJ10sIF94bWFwLCBmdW5jdGlvbiBtYXAoZm4sIGZ1bmN0b3IpIHtcbiAgc3dpdGNoIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZnVuY3RvcikpIHtcbiAgICBjYXNlICdbb2JqZWN0IEZ1bmN0aW9uXSc6XG4gICAgICByZXR1cm4gY3VycnlOKGZ1bmN0b3IubGVuZ3RoLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIGZ1bmN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgICB9KTtcbiAgICBjYXNlICdbb2JqZWN0IE9iamVjdF0nOlxuICAgICAgcmV0dXJuIF9yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG4gICAgICAgIGFjY1trZXldID0gZm4oZnVuY3RvcltrZXldKTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH0sIHt9LCBrZXlzKGZ1bmN0b3IpKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIF9tYXAoZm4sIGZ1bmN0b3IpO1xuICB9XG59KSk7XG5tb2R1bGUuZXhwb3J0cyA9IG1hcDsiXX0=