f749d6f62cbf499091fc76646c165568
var _curry2 = require("./_curry2");

var _xfBase = require("./_xfBase");

var XFindLastIndex = function () {
  function XFindLastIndex(f, xf) {
    this.xf = xf;
    this.f = f;
    this.idx = -1;
    this.lastIdx = -1;
  }

  XFindLastIndex.prototype['@@transducer/init'] = _xfBase.init;

  XFindLastIndex.prototype['@@transducer/result'] = function (result) {
    return this.xf['@@transducer/result'](this.xf['@@transducer/step'](result, this.lastIdx));
  };

  XFindLastIndex.prototype['@@transducer/step'] = function (result, input) {
    this.idx += 1;

    if (this.f(input)) {
      this.lastIdx = this.idx;
    }

    return result;
  };

  return XFindLastIndex;
}();

var _xfindLastIndex = _curry2(function _xfindLastIndex(f, xf) {
  return new XFindLastIndex(f, xf);
});

module.exports = _xfindLastIndex;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl94ZmluZExhc3RJbmRleC5qcyJdLCJuYW1lcyI6WyJfY3VycnkyIiwicmVxdWlyZSIsIl94ZkJhc2UiLCJYRmluZExhc3RJbmRleCIsImYiLCJ4ZiIsImlkeCIsImxhc3RJZHgiLCJwcm90b3R5cGUiLCJpbml0IiwicmVzdWx0IiwiaW5wdXQiLCJfeGZpbmRMYXN0SW5kZXgiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxJQUFJQSxPQUFPLEdBQWdCQyxPQUFPLGFBQWxDOztBQUVBLElBQUlDLE9BQU8sR0FBZ0JELE9BQU8sYUFBbEM7O0FBRUEsSUFBSUUsY0FBYyxHQUFnQixZQUFZO0FBRTVDLFdBQVNBLGNBQVQsQ0FBd0JDLENBQXhCLEVBQTJCQyxFQUEzQixFQUErQjtBQUM3QixTQUFLQSxFQUFMLEdBQVVBLEVBQVY7QUFDQSxTQUFLRCxDQUFMLEdBQVNBLENBQVQ7QUFDQSxTQUFLRSxHQUFMLEdBQVcsQ0FBQyxDQUFaO0FBQ0EsU0FBS0MsT0FBTCxHQUFlLENBQUMsQ0FBaEI7QUFDRDs7QUFDREosRUFBQUEsY0FBYyxDQUFDSyxTQUFmLENBQXlCLG1CQUF6QixJQUFnRE4sT0FBTyxDQUFDTyxJQUF4RDs7QUFDQU4sRUFBQUEsY0FBYyxDQUFDSyxTQUFmLENBQXlCLHFCQUF6QixJQUFrRCxVQUFVRSxNQUFWLEVBQWtCO0FBQ2xFLFdBQU8sS0FBS0wsRUFBTCxDQUFRLHFCQUFSLEVBQStCLEtBQUtBLEVBQUwsQ0FBUSxtQkFBUixFQUE2QkssTUFBN0IsRUFBcUMsS0FBS0gsT0FBMUMsQ0FBL0IsQ0FBUDtBQUNELEdBRkQ7O0FBR0FKLEVBQUFBLGNBQWMsQ0FBQ0ssU0FBZixDQUF5QixtQkFBekIsSUFBZ0QsVUFBVUUsTUFBVixFQUFrQkMsS0FBbEIsRUFBeUI7QUFDdkUsU0FBS0wsR0FBTCxJQUFZLENBQVo7O0FBQ0EsUUFBSSxLQUFLRixDQUFMLENBQU9PLEtBQVAsQ0FBSixFQUFtQjtBQUNqQixXQUFLSixPQUFMLEdBQWUsS0FBS0QsR0FBcEI7QUFDRDs7QUFDRCxXQUFPSSxNQUFQO0FBQ0QsR0FORDs7QUFRQSxTQUFPUCxjQUFQO0FBQ0QsQ0FyQmlDLEVBQWxDOztBQXVCQSxJQUFJUyxlQUFlLEdBQWdCWixPQUFPLENBQUMsU0FBU1ksZUFBVCxDQUF5QlIsQ0FBekIsRUFBNEJDLEVBQTVCLEVBQWdDO0FBQ3pFLFNBQU8sSUFBSUYsY0FBSixDQUFtQkMsQ0FBbkIsRUFBc0JDLEVBQXRCLENBQVA7QUFDRCxDQUZ5QyxDQUExQzs7QUFHQVEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCRixlQUFqQiIsInNvdXJjZXNDb250ZW50IjpbInZhciBfY3VycnkyID0gLyojX19QVVJFX18qL3JlcXVpcmUoJy4vX2N1cnJ5MicpO1xuXG52YXIgX3hmQmFzZSA9IC8qI19fUFVSRV9fKi9yZXF1aXJlKCcuL194ZkJhc2UnKTtcblxudmFyIFhGaW5kTGFzdEluZGV4ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcblxuICBmdW5jdGlvbiBYRmluZExhc3RJbmRleChmLCB4Zikge1xuICAgIHRoaXMueGYgPSB4ZjtcbiAgICB0aGlzLmYgPSBmO1xuICAgIHRoaXMuaWR4ID0gLTE7XG4gICAgdGhpcy5sYXN0SWR4ID0gLTE7XG4gIH1cbiAgWEZpbmRMYXN0SW5kZXgucHJvdG90eXBlWydAQHRyYW5zZHVjZXIvaW5pdCddID0gX3hmQmFzZS5pbml0O1xuICBYRmluZExhc3RJbmRleC5wcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9yZXN1bHQnXSA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICByZXR1cm4gdGhpcy54ZlsnQEB0cmFuc2R1Y2VyL3Jlc3VsdCddKHRoaXMueGZbJ0BAdHJhbnNkdWNlci9zdGVwJ10ocmVzdWx0LCB0aGlzLmxhc3RJZHgpKTtcbiAgfTtcbiAgWEZpbmRMYXN0SW5kZXgucHJvdG90eXBlWydAQHRyYW5zZHVjZXIvc3RlcCddID0gZnVuY3Rpb24gKHJlc3VsdCwgaW5wdXQpIHtcbiAgICB0aGlzLmlkeCArPSAxO1xuICAgIGlmICh0aGlzLmYoaW5wdXQpKSB7XG4gICAgICB0aGlzLmxhc3RJZHggPSB0aGlzLmlkeDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICByZXR1cm4gWEZpbmRMYXN0SW5kZXg7XG59KCk7XG5cbnZhciBfeGZpbmRMYXN0SW5kZXggPSAvKiNfX1BVUkVfXyovX2N1cnJ5MihmdW5jdGlvbiBfeGZpbmRMYXN0SW5kZXgoZiwgeGYpIHtcbiAgcmV0dXJuIG5ldyBYRmluZExhc3RJbmRleChmLCB4Zik7XG59KTtcbm1vZHVsZS5leHBvcnRzID0gX3hmaW5kTGFzdEluZGV4OyJdfQ==