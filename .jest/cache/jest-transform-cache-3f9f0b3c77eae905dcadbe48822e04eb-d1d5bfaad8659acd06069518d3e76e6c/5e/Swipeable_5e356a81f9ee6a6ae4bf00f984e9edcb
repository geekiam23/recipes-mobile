92706c5bc3fae462710af0bce3d3caea
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _extends3 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var React = _interopRequireWildcard(require("react"));

var _reactNative = require("react-native");

var _gestureHandlers = require("../handlers/gestureHandlers");

var _State = require("../State");

function _getRequireWildcardCache() {
  if (typeof WeakMap !== "function") return null;
  var cache = new WeakMap();

  _getRequireWildcardCache = function _getRequireWildcardCache() {
    return cache;
  };

  return cache;
}

function _interopRequireWildcard(obj) {
  if (obj && obj.__esModule) {
    return obj;
  }

  if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
    return {
      default: obj
    };
  }

  var cache = _getRequireWildcardCache();

  if (cache && cache.has(obj)) {
    return cache.get(obj);
  }

  var newObj = {};
  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;

  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) {
      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;

      if (desc && (desc.get || desc.set)) {
        Object.defineProperty(newObj, key, desc);
      } else {
        newObj[key] = obj[key];
      }
    }
  }

  newObj.default = obj;

  if (cache) {
    cache.set(obj, newObj);
  }

  return newObj;
}

function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

var DRAG_TOSS = 0.05;

var Swipeable = function (_React$Component) {
  (0, _inherits2.default)(Swipeable, _React$Component);

  var _super = _createSuper(Swipeable);

  function Swipeable(_props) {
    var _this;

    (0, _classCallCheck2.default)(this, Swipeable);
    _this = _super.call(this, _props);

    _defineProperty((0, _assertThisInitialized2.default)(_this), "onGestureEvent", void 0);

    _defineProperty((0, _assertThisInitialized2.default)(_this), "transX", void 0);

    _defineProperty((0, _assertThisInitialized2.default)(_this), "showLeftAction", void 0);

    _defineProperty((0, _assertThisInitialized2.default)(_this), "leftActionTranslate", void 0);

    _defineProperty((0, _assertThisInitialized2.default)(_this), "showRightAction", void 0);

    _defineProperty((0, _assertThisInitialized2.default)(_this), "rightActionTranslate", void 0);

    _defineProperty((0, _assertThisInitialized2.default)(_this), "updateAnimatedEvent", function (props, state) {
      var friction = props.friction,
          overshootFriction = props.overshootFriction;
      var dragX = state.dragX,
          rowTranslation = state.rowTranslation,
          _state$leftWidth = state.leftWidth,
          leftWidth = _state$leftWidth === void 0 ? 0 : _state$leftWidth,
          _state$rowWidth = state.rowWidth,
          rowWidth = _state$rowWidth === void 0 ? 0 : _state$rowWidth;
      var _state$rightOffset = state.rightOffset,
          rightOffset = _state$rightOffset === void 0 ? rowWidth : _state$rightOffset;
      var rightWidth = Math.max(0, rowWidth - rightOffset);
      var _props$overshootLeft = props.overshootLeft,
          overshootLeft = _props$overshootLeft === void 0 ? leftWidth > 0 : _props$overshootLeft,
          _props$overshootRight = props.overshootRight,
          overshootRight = _props$overshootRight === void 0 ? rightWidth > 0 : _props$overshootRight;

      var transX = _reactNative.Animated.add(rowTranslation, dragX.interpolate({
        inputRange: [0, friction],
        outputRange: [0, 1]
      })).interpolate({
        inputRange: [-rightWidth - (overshootRight ? 1 : overshootFriction), -rightWidth, leftWidth, leftWidth + (overshootLeft ? 1 : overshootFriction)],
        outputRange: [-rightWidth - (overshootRight || overshootFriction > 1 ? 1 : 0), -rightWidth, leftWidth, leftWidth + (overshootLeft || overshootFriction > 1 ? 1 : 0)]
      });

      _this.transX = transX;
      _this.showLeftAction = leftWidth > 0 ? transX.interpolate({
        inputRange: [-1, 0, leftWidth],
        outputRange: [0, 0, 1]
      }) : new _reactNative.Animated.Value(0);
      _this.leftActionTranslate = _this.showLeftAction.interpolate({
        inputRange: [0, Number.MIN_VALUE],
        outputRange: [-10000, 0],
        extrapolate: 'clamp'
      });
      _this.showRightAction = rightWidth > 0 ? transX.interpolate({
        inputRange: [-rightWidth, 0, 1],
        outputRange: [1, 0, 0]
      }) : new _reactNative.Animated.Value(0);
      _this.rightActionTranslate = _this.showRightAction.interpolate({
        inputRange: [0, Number.MIN_VALUE],
        outputRange: [-10000, 0],
        extrapolate: 'clamp'
      });
    });

    _defineProperty((0, _assertThisInitialized2.default)(_this), "onTapHandlerStateChange", function (_ref) {
      var nativeEvent = _ref.nativeEvent;

      if (nativeEvent.oldState === _State.State.ACTIVE) {
        _this.close();
      }
    });

    _defineProperty((0, _assertThisInitialized2.default)(_this), "onHandlerStateChange", function (ev) {
      if (ev.nativeEvent.oldState === _State.State.ACTIVE) {
        _this.handleRelease(ev);
      }
    });

    _defineProperty((0, _assertThisInitialized2.default)(_this), "handleRelease", function (ev) {
      var _ev$nativeEvent = ev.nativeEvent,
          velocityX = _ev$nativeEvent.velocityX,
          dragX = _ev$nativeEvent.translationX;
      var _this$state = _this.state,
          _this$state$leftWidth = _this$state.leftWidth,
          leftWidth = _this$state$leftWidth === void 0 ? 0 : _this$state$leftWidth,
          _this$state$rowWidth = _this$state.rowWidth,
          rowWidth = _this$state$rowWidth === void 0 ? 0 : _this$state$rowWidth,
          rowState = _this$state.rowState;
      var _this$state$rightOffs = _this.state.rightOffset,
          rightOffset = _this$state$rightOffs === void 0 ? rowWidth : _this$state$rightOffs;
      var rightWidth = rowWidth - rightOffset;
      var _this$props5 = _this.props,
          friction = _this$props5.friction,
          _this$props5$leftThre = _this$props5.leftThreshold,
          leftThreshold = _this$props5$leftThre === void 0 ? leftWidth / 2 : _this$props5$leftThre,
          _this$props5$rightThr = _this$props5.rightThreshold,
          rightThreshold = _this$props5$rightThr === void 0 ? rightWidth / 2 : _this$props5$rightThr;
      var startOffsetX = _this.currentOffset() + dragX / friction;
      var translationX = (dragX + DRAG_TOSS * velocityX) / friction;
      var toValue = 0;

      if (rowState === 0) {
        if (translationX > leftThreshold) {
          toValue = leftWidth;
        } else if (translationX < -rightThreshold) {
          toValue = -rightWidth;
        }
      } else if (rowState === 1) {
        if (translationX > -leftThreshold) {
          toValue = leftWidth;
        }
      } else {
        if (translationX < rightThreshold) {
          toValue = -rightWidth;
        }
      }

      _this.animateRow(startOffsetX, toValue, velocityX / friction);
    });

    _defineProperty((0, _assertThisInitialized2.default)(_this), "animateRow", function (fromValue, toValue, velocityX) {
      var _this$state2 = _this.state,
          dragX = _this$state2.dragX,
          rowTranslation = _this$state2.rowTranslation;
      dragX.setValue(0);
      rowTranslation.setValue(fromValue);

      _this.setState({
        rowState: Math.sign(toValue)
      });

      _reactNative.Animated.spring(rowTranslation, (0, _extends3.default)({
        restSpeedThreshold: 1.7,
        restDisplacementThreshold: 0.4,
        velocity: velocityX,
        bounciness: 0,
        toValue: toValue,
        useNativeDriver: _this.props.useNativeAnimations
      }, _this.props.animationOptions)).start(function (_ref2) {
        var finished = _ref2.finished;

        if (finished) {
          if (toValue > 0 && _this.props.onSwipeableLeftOpen) {
            _this.props.onSwipeableLeftOpen();
          } else if (toValue < 0 && _this.props.onSwipeableRightOpen) {
            _this.props.onSwipeableRightOpen();
          }

          if (toValue === 0) {
            var _this$props$onSwipeab, _this$props;

            (_this$props$onSwipeab = (_this$props = _this.props).onSwipeableClose) === null || _this$props$onSwipeab === void 0 ? void 0 : _this$props$onSwipeab.call(_this$props);
          } else {
            var _this$props$onSwipeab2, _this$props2;

            (_this$props$onSwipeab2 = (_this$props2 = _this.props).onSwipeableOpen) === null || _this$props$onSwipeab2 === void 0 ? void 0 : _this$props$onSwipeab2.call(_this$props2);
          }
        }
      });

      if (toValue > 0 && _this.props.onSwipeableLeftWillOpen) {
        _this.props.onSwipeableLeftWillOpen();
      } else if (toValue < 0 && _this.props.onSwipeableRightWillOpen) {
        _this.props.onSwipeableRightWillOpen();
      }

      if (toValue === 0) {
        var _this$props$onSwipeab3, _this$props3;

        (_this$props$onSwipeab3 = (_this$props3 = _this.props).onSwipeableWillClose) === null || _this$props$onSwipeab3 === void 0 ? void 0 : _this$props$onSwipeab3.call(_this$props3);
      } else {
        var _this$props$onSwipeab4, _this$props4;

        (_this$props$onSwipeab4 = (_this$props4 = _this.props).onSwipeableWillOpen) === null || _this$props$onSwipeab4 === void 0 ? void 0 : _this$props$onSwipeab4.call(_this$props4);
      }
    });

    _defineProperty((0, _assertThisInitialized2.default)(_this), "onRowLayout", function (_ref3) {
      var nativeEvent = _ref3.nativeEvent;

      _this.setState({
        rowWidth: nativeEvent.layout.width
      });
    });

    _defineProperty((0, _assertThisInitialized2.default)(_this), "currentOffset", function () {
      var _this$state3 = _this.state,
          _this$state3$leftWidt = _this$state3.leftWidth,
          leftWidth = _this$state3$leftWidt === void 0 ? 0 : _this$state3$leftWidt,
          _this$state3$rowWidth = _this$state3.rowWidth,
          rowWidth = _this$state3$rowWidth === void 0 ? 0 : _this$state3$rowWidth,
          rowState = _this$state3.rowState;
      var _this$state$rightOffs2 = _this.state.rightOffset,
          rightOffset = _this$state$rightOffs2 === void 0 ? rowWidth : _this$state$rightOffs2;
      var rightWidth = rowWidth - rightOffset;

      if (rowState === 1) {
        return leftWidth;
      } else if (rowState === -1) {
        return -rightWidth;
      }

      return 0;
    });

    _defineProperty((0, _assertThisInitialized2.default)(_this), "close", function () {
      _this.animateRow(_this.currentOffset(), 0);
    });

    _defineProperty((0, _assertThisInitialized2.default)(_this), "openLeft", function () {
      var _this$state$leftWidth2 = _this.state.leftWidth,
          leftWidth = _this$state$leftWidth2 === void 0 ? 0 : _this$state$leftWidth2;

      _this.animateRow(_this.currentOffset(), leftWidth);
    });

    _defineProperty((0, _assertThisInitialized2.default)(_this), "openRight", function () {
      var _this$state$rowWidth2 = _this.state.rowWidth,
          rowWidth = _this$state$rowWidth2 === void 0 ? 0 : _this$state$rowWidth2;
      var _this$state$rightOffs3 = _this.state.rightOffset,
          rightOffset = _this$state$rightOffs3 === void 0 ? rowWidth : _this$state$rightOffs3;
      var rightWidth = rowWidth - rightOffset;

      _this.animateRow(_this.currentOffset(), -rightWidth);
    });

    var _dragX = new _reactNative.Animated.Value(0);

    _this.state = {
      dragX: _dragX,
      rowTranslation: new _reactNative.Animated.Value(0),
      rowState: 0,
      leftWidth: undefined,
      rightOffset: undefined,
      rowWidth: undefined
    };

    _this.updateAnimatedEvent(_props, _this.state);

    _this.onGestureEvent = _reactNative.Animated.event([{
      nativeEvent: {
        translationX: _dragX
      }
    }], {
      useNativeDriver: _props.useNativeAnimations
    });
    return _this;
  }

  (0, _createClass2.default)(Swipeable, [{
    key: "UNSAFE_componentWillUpdate",
    value: function UNSAFE_componentWillUpdate(props, state) {
      if (this.props.friction !== props.friction || this.props.overshootLeft !== props.overshootLeft || this.props.overshootRight !== props.overshootRight || this.props.overshootFriction !== props.overshootFriction || this.state.leftWidth !== state.leftWidth || this.state.rightOffset !== state.rightOffset || this.state.rowWidth !== state.rowWidth) {
        this.updateAnimatedEvent(props, state);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var rowState = this.state.rowState;
      var _this$props6 = this.props,
          children = _this$props6.children,
          renderLeftActions = _this$props6.renderLeftActions,
          renderRightActions = _this$props6.renderRightActions;
      var left = renderLeftActions && React.createElement(_reactNative.Animated.View, {
        style: [styles.leftActions, {
          transform: [{
            translateX: this.leftActionTranslate
          }]
        }]
      }, renderLeftActions(this.showLeftAction, this.transX), React.createElement(_reactNative.View, {
        onLayout: function onLayout(_ref4) {
          var nativeEvent = _ref4.nativeEvent;
          return _this2.setState({
            leftWidth: nativeEvent.layout.x
          });
        }
      }));
      var right = renderRightActions && React.createElement(_reactNative.Animated.View, {
        style: [styles.rightActions, {
          transform: [{
            translateX: this.rightActionTranslate
          }]
        }]
      }, renderRightActions(this.showRightAction, this.transX), React.createElement(_reactNative.View, {
        onLayout: function onLayout(_ref5) {
          var nativeEvent = _ref5.nativeEvent;
          return _this2.setState({
            rightOffset: nativeEvent.layout.x
          });
        }
      }));
      return React.createElement(_gestureHandlers.PanGestureHandler, _extends({
        activeOffsetX: [-10, 10]
      }, this.props, {
        onGestureEvent: this.onGestureEvent,
        onHandlerStateChange: this.onHandlerStateChange
      }), React.createElement(_reactNative.Animated.View, {
        onLayout: this.onRowLayout,
        style: [styles.container, this.props.containerStyle]
      }, left, right, React.createElement(_gestureHandlers.TapGestureHandler, {
        enabled: rowState !== 0,
        onHandlerStateChange: this.onTapHandlerStateChange
      }, React.createElement(_reactNative.Animated.View, {
        pointerEvents: rowState === 0 ? 'auto' : 'box-only',
        style: [{
          transform: [{
            translateX: this.transX
          }]
        }, this.props.childrenContainerStyle]
      }, children))));
    }
  }]);
  return Swipeable;
}(React.Component);

exports.default = Swipeable;

_defineProperty(Swipeable, "defaultProps", {
  friction: 1,
  overshootFriction: 1,
  useNativeAnimations: true
});

var styles = _reactNative.StyleSheet.create({
  container: {
    overflow: 'hidden'
  },
  leftActions: (0, _extends3.default)({}, _reactNative.StyleSheet.absoluteFillObject, {
    flexDirection: _reactNative.I18nManager.isRTL ? 'row-reverse' : 'row'
  }),
  rightActions: (0, _extends3.default)({}, _reactNative.StyleSheet.absoluteFillObject, {
    flexDirection: _reactNative.I18nManager.isRTL ? 'row' : 'row-reverse'
  })
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlN3aXBlYWJsZS50c3giXSwibmFtZXMiOlsiRFJBR19UT1NTIiwiU3dpcGVhYmxlIiwiQ29tcG9uZW50IiwiZnJpY3Rpb24iLCJvdmVyc2hvb3RGcmljdGlvbiIsInVzZU5hdGl2ZUFuaW1hdGlvbnMiLCJjb25zdHJ1Y3RvciIsImRyYWdYIiwiQW5pbWF0ZWQiLCJyb3dUcmFuc2xhdGlvbiIsInJvd1N0YXRlIiwibGVmdFdpZHRoIiwicmlnaHRPZmZzZXQiLCJyb3dXaWR0aCIsInVuZGVmaW5lZCIsIm5hdGl2ZUV2ZW50IiwidHJhbnNsYXRpb25YIiwidXNlTmF0aXZlRHJpdmVyIiwicHJvcHMiLCJVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSIsInN0YXRlIiwicmlnaHRXaWR0aCIsIk1hdGgiLCJvdmVyc2hvb3RMZWZ0Iiwib3ZlcnNob290UmlnaHQiLCJ0cmFuc1giLCJpbnB1dFJhbmdlIiwib3V0cHV0UmFuZ2UiLCJOdW1iZXIiLCJleHRyYXBvbGF0ZSIsIlN0YXRlIiwiZXYiLCJsZWZ0VGhyZXNob2xkIiwicmlnaHRUaHJlc2hvbGQiLCJzdGFydE9mZnNldFgiLCJ0b1ZhbHVlIiwidmVsb2NpdHlYIiwicmVzdFNwZWVkVGhyZXNob2xkIiwicmVzdERpc3BsYWNlbWVudFRocmVzaG9sZCIsInZlbG9jaXR5IiwiYm91bmNpbmVzcyIsImFuaW1hdGlvbk9wdGlvbnMiLCJmaW5pc2hlZCIsIndpZHRoIiwicmVuZGVyIiwicmVuZGVyUmlnaHRBY3Rpb25zIiwibGVmdCIsInJlbmRlckxlZnRBY3Rpb25zIiwic3R5bGVzIiwidHJhbnNmb3JtIiwidHJhbnNsYXRlWCIsImxlZnRBY3Rpb25UcmFuc2xhdGUiLCJ4IiwicmlnaHQiLCJyaWdodEFjdGlvblRyYW5zbGF0ZSIsIm9uSGFuZGxlclN0YXRlQ2hhbmdlIiwib25UYXBIYW5kbGVyU3RhdGVDaGFuZ2UiLCJjb250YWluZXIiLCJvdmVyZmxvdyIsImxlZnRBY3Rpb25zIiwiU3R5bGVTaGVldCIsImZsZXhE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QUEsVUFBQUEsQ0FEUyxrQkFBRjtBQUVWQyxJQUFBQSxhQUFhLEVBQUVDLFlBQUFBLENBQUFBLFdBQUFBLENBQUFBLEtBQUFBLEdBQUFBLEtBQUFBLEdBQTRCO0FBRmpDO0FBUm1CLENBQWxCLENBQWYiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTaW1pbGFyaWx5IHRvIHRoZSBEcmF3ZXJMYXlvdXQgY29tcG9uZW50IHRoaXMgZGVzZXJ2ZXMgdG8gYmUgcHV0IGluIGFcbi8vIHNlcGFyYXRlIHJlcG8uIEFsdGhvdWdoLCBrZWVwaW5nIGl0IGhlcmUgZm9yIHRoZSB0aW1lIGJlaW5nIHdpbGwgYWxsb3cgdXNcbi8vIHRvIG1vdmUgZmFzdGVyIGFuZCBmaXggcG9zc2libGUgaXNzdWVzIHF1aWNrZXJcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtcbiAgQW5pbWF0ZWQsXG4gIFN0eWxlU2hlZXQsXG4gIFZpZXcsXG4gIEkxOG5NYW5hZ2VyLFxuICBMYXlvdXRDaGFuZ2VFdmVudCxcbiAgU3R5bGVQcm9wLFxuICBWaWV3U3R5bGUsXG59IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XG5cbmltcG9ydCB7XG4gIFBhbkdlc3R1cmVIYW5kbGVyLFxuICBUYXBHZXN0dXJlSGFuZGxlcixcbiAgUGFuR2VzdHVyZUhhbmRsZXJQcm9wcyxcbiAgR2VzdHVyZUV2ZW50LFxuICBQYW5HZXN0dXJlSGFuZGxlckV2ZW50UGF5bG9hZCxcbiAgSGFuZGxlclN0YXRlQ2hhbmdlRXZlbnQsXG4gIFRhcEdlc3R1cmVIYW5kbGVyRXZlbnRQYXlsb2FkLFxufSBmcm9tICcuLi9oYW5kbGVycy9nZXN0dXJlSGFuZGxlcnMnO1xuaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuLi9TdGF0ZSc7XG5cbmNvbnN0IERSQUdfVE9TUyA9IDAuMDU7XG5cbnR5cGUgU3dpcGVhYmxlRXhjbHVkZXMgPSBFeGNsdWRlPFxuICBrZXlvZiBQYW5HZXN0dXJlSGFuZGxlclByb3BzLFxuICAnb25HZXN0dXJlRXZlbnQnIHwgJ29uSGFuZGxlclN0YXRlQ2hhbmdlJ1xuPjtcblxuaW50ZXJmYWNlIFN3aXBlYWJsZVByb3BzXG4gIGV4dGVuZHMgUGljazxQYW5HZXN0dXJlSGFuZGxlclByb3BzLCBTd2lwZWFibGVFeGNsdWRlcz4ge1xuICBlbmFibGVUcmFja3BhZFR3b0Zpbmdlckdlc3R1cmU/OiBib29sZWFuO1xuICBmcmljdGlvbj86IG51bWJlcjtcbiAgbGVmdFRocmVzaG9sZD86IG51bWJlcjtcbiAgcmlnaHRUaHJlc2hvbGQ/OiBudW1iZXI7XG4gIG92ZXJzaG9vdExlZnQ/OiBib29sZWFuO1xuICBvdmVyc2hvb3RSaWdodD86IGJvb2xlYW47XG4gIG92ZXJzaG9vdEZyaWN0aW9uPzogbnVtYmVyO1xuICBvblN3aXBlYWJsZUxlZnRPcGVuPzogKCkgPT4gdm9pZDtcbiAgb25Td2lwZWFibGVSaWdodE9wZW4/OiAoKSA9PiB2b2lkO1xuICBvblN3aXBlYWJsZU9wZW4/OiAoKSA9PiB2b2lkO1xuICBvblN3aXBlYWJsZUNsb3NlPzogKCkgPT4gdm9pZDtcbiAgb25Td2lwZWFibGVMZWZ0V2lsbE9wZW4/OiAoKSA9PiB2b2lkO1xuICBvblN3aXBlYWJsZVJpZ2h0V2lsbE9wZW4/OiAoKSA9PiB2b2lkO1xuICBvblN3aXBlYWJsZVdpbGxPcGVuPzogKCkgPT4gdm9pZDtcbiAgb25Td2lwZWFibGVXaWxsQ2xvc2U/OiAoKSA9PiB2b2lkO1xuICAvKipcbiAgICpcbiAgICogVGhpcyBtYXAgZGVzY3JpYmVzIHRoZSB2YWx1ZXMgdG8gdXNlIGFzIGlucHV0UmFuZ2UgZm9yIGV4dHJhIGludGVycG9sYXRpb246XG4gICAqIEFuaW1hdGVkVmFsdWU6IFtzdGFydFZhbHVlLCBlbmRWYWx1ZV1cbiAgICpcbiAgICogcHJvZ3Jlc3NBbmltYXRlZFZhbHVlOiBbMCwgMV1cbiAgICogZHJhZ0FuaW1hdGVkVmFsdWU6IFswLCArXVxuICAgKlxuICAgKiBUbyBzdXBwb3J0IGBydGxgIGZsZXhib3ggbGF5b3V0cyB1c2UgYGZsZXhEaXJlY3Rpb25gIHN0eWxpbmcuXG4gICAqICovXG4gIHJlbmRlckxlZnRBY3Rpb25zPzogKFxuICAgIHByb2dyZXNzQW5pbWF0ZWRWYWx1ZTogQW5pbWF0ZWQuQW5pbWF0ZWRJbnRlcnBvbGF0aW9uLFxuICAgIGRyYWdBbmltYXRlZFZhbHVlOiBBbmltYXRlZC5BbmltYXRlZEludGVycG9sYXRpb25cbiAgKSA9PiBSZWFjdC5SZWFjdE5vZGU7XG4gIC8qKlxuICAgKlxuICAgKiBUaGlzIG1hcCBkZXNjcmliZXMgdGhlIHZhbHVlcyB0byB1c2UgYXMgaW5wdXRSYW5nZSBmb3IgZXh0cmEgaW50ZXJwb2xhdGlvbjpcbiAgICogQW5pbWF0ZWRWYWx1ZTogW3N0YXJ0VmFsdWUsIGVuZFZhbHVlXVxuICAgKlxuICAgKiBwcm9ncmVzc0FuaW1hdGVkVmFsdWU6IFswLCAxXVxuICAgKiBkcmFnQW5pbWF0ZWRWYWx1ZTogWzAsIC1dXG4gICAqXG4gICAqIFRvIHN1cHBvcnQgYHJ0bGAgZmxleGJveCBsYXlvdXRzIHVzZSBgZmxleERpcmVjdGlvbmAgc3R5bGluZy5cbiAgICogKi9cbiAgcmVuZGVyUmlnaHRBY3Rpb25zPzogKFxuICAgIHByb2dyZXNzQW5pbWF0ZWRWYWx1ZTogQW5pbWF0ZWQuQW5pbWF0ZWRJbnRlcnBvbGF0aW9uLFxuICAgIGRyYWdBbmltYXRlZFZhbHVlOiBBbmltYXRlZC5BbmltYXRlZEludGVycG9sYXRpb25cbiAgKSA9PiBSZWFjdC5SZWFjdE5vZGU7XG4gIHVzZU5hdGl2ZUFuaW1hdGlvbnM/OiBib29sZWFuO1xuICBhbmltYXRpb25PcHRpb25zPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gIGNvbnRhaW5lclN0eWxlPzogU3R5bGVQcm9wPFZpZXdTdHlsZT47XG4gIGNoaWxkcmVuQ29udGFpbmVyU3R5bGU/OiBTdHlsZVByb3A8Vmlld1N0eWxlPjtcbn1cblxudHlwZSBTd2lwZWFibGVTdGF0ZSA9IHtcbiAgZHJhZ1g6IEFuaW1hdGVkLlZhbHVlO1xuICByb3dUcmFuc2xhdGlvbjogQW5pbWF0ZWQuVmFsdWU7XG4gIHJvd1N0YXRlOiBudW1iZXI7XG4gIGxlZnRXaWR0aD86IG51bWJlcjtcbiAgcmlnaHRPZmZzZXQ/OiBudW1iZXI7XG4gIHJvd1dpZHRoPzogbnVtYmVyO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3dpcGVhYmxlIGV4dGVuZHMgQ29tcG9uZW50PFxuICBTd2lwZWFibGVQcm9wcyxcbiAgU3dpcGVhYmxlU3RhdGVcbj4ge1xuICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgIGZyaWN0aW9uOiAxLFxuICAgIG92ZXJzaG9vdEZyaWN0aW9uOiAxLFxuICAgIHVzZU5hdGl2ZUFuaW1hdGlvbnM6IHRydWUsXG4gIH07XG5cbiAgY29uc3RydWN0b3IocHJvcHM6IFN3aXBlYWJsZVByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIGNvbnN0IGRyYWdYID0gbmV3IEFuaW1hdGVkLlZhbHVlKDApO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBkcmFnWCxcbiAgICAgIHJvd1RyYW5zbGF0aW9uOiBuZXcgQW5pbWF0ZWQuVmFsdWUoMCksXG4gICAgICByb3dTdGF0ZTogMCxcbiAgICAgIGxlZnRXaWR0aDogdW5kZWZpbmVkLFxuICAgICAgcmlnaHRPZmZzZXQ6IHVuZGVmaW5lZCxcbiAgICAgIHJvd1dpZHRoOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgICB0aGlzLnVwZGF0ZUFuaW1hdGVkRXZlbnQocHJvcHMsIHRoaXMuc3RhdGUpO1xuXG4gICAgdGhpcy5vbkdlc3R1cmVFdmVudCA9IEFuaW1hdGVkLmV2ZW50KFxuICAgICAgW3sgbmF0aXZlRXZlbnQ6IHsgdHJhbnNsYXRpb25YOiBkcmFnWCB9IH1dLFxuICAgICAgeyB1c2VOYXRpdmVEcml2ZXI6IHByb3BzLnVzZU5hdGl2ZUFuaW1hdGlvbnMhIH1cbiAgICApO1xuICB9XG5cbiAgVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUocHJvcHM6IFN3aXBlYWJsZVByb3BzLCBzdGF0ZTogU3dpcGVhYmxlU3RhdGUpIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLnByb3BzLmZyaWN0aW9uICE9PSBwcm9wcy5mcmljdGlvbiB8fFxuICAgICAgdGhpcy5wcm9wcy5vdmVyc2hvb3RMZWZ0ICE9PSBwcm9wcy5vdmVyc2hvb3RMZWZ0IHx8XG4gICAgICB0aGlzLnByb3BzLm92ZXJzaG9vdFJpZ2h0ICE9PSBwcm9wcy5vdmVyc2hvb3RSaWdodCB8fFxuICAgICAgdGhpcy5wcm9wcy5vdmVyc2hvb3RGcmljdGlvbiAhPT0gcHJvcHMub3ZlcnNob290RnJpY3Rpb24gfHxcbiAgICAgIHRoaXMuc3RhdGUubGVmdFdpZHRoICE9PSBzdGF0ZS5sZWZ0V2lkdGggfHxcbiAgICAgIHRoaXMuc3RhdGUucmlnaHRPZmZzZXQgIT09IHN0YXRlLnJpZ2h0T2Zmc2V0IHx8XG4gICAgICB0aGlzLnN0YXRlLnJvd1dpZHRoICE9PSBzdGF0ZS5yb3dXaWR0aFxuICAgICkge1xuICAgICAgdGhpcy51cGRhdGVBbmltYXRlZEV2ZW50KHByb3BzLCBzdGF0ZSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBvbkdlc3R1cmVFdmVudD86IChcbiAgICBldmVudDogR2VzdHVyZUV2ZW50PFBhbkdlc3R1cmVIYW5kbGVyRXZlbnRQYXlsb2FkPlxuICApID0+IHZvaWQ7XG4gIHByaXZhdGUgdHJhbnNYPzogQW5pbWF0ZWQuQW5pbWF0ZWRJbnRlcnBvbGF0aW9uO1xuICBwcml2YXRlIHNob3dMZWZ0QWN0aW9uPzogQW5pbWF0ZWQuQW5pbWF0ZWRJbnRlcnBvbGF0aW9uIHwgQW5pbWF0ZWQuVmFsdWU7XG4gIHByaXZhdGUgbGVmdEFjdGlvblRyYW5zbGF0ZT86IEFuaW1hdGVkLkFuaW1hdGVkSW50ZXJwb2xhdGlvbjtcbiAgcHJpdmF0ZSBzaG93UmlnaHRBY3Rpb24/OiBBbmltYXRlZC5BbmltYXRlZEludGVycG9sYXRpb24gfCBBbmltYXRlZC5WYWx1ZTtcbiAgcHJpdmF0ZSByaWdodEFjdGlvblRyYW5zbGF0ZT86IEFuaW1hdGVkLkFuaW1hdGVkSW50ZXJwb2xhdGlvbjtcblxuICBwcml2YXRlIHVwZGF0ZUFuaW1hdGVkRXZlbnQgPSAoXG4gICAgcHJvcHM6IFN3aXBlYWJsZVByb3BzLFxuICAgIHN0YXRlOiBTd2lwZWFibGVTdGF0ZVxuICApID0+IHtcbiAgICBjb25zdCB7IGZyaWN0aW9uLCBvdmVyc2hvb3RGcmljdGlvbiB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyBkcmFnWCwgcm93VHJhbnNsYXRpb24sIGxlZnRXaWR0aCA9IDAsIHJvd1dpZHRoID0gMCB9ID0gc3RhdGU7XG4gICAgY29uc3QgeyByaWdodE9mZnNldCA9IHJvd1dpZHRoIH0gPSBzdGF0ZTtcbiAgICBjb25zdCByaWdodFdpZHRoID0gTWF0aC5tYXgoMCwgcm93V2lkdGggLSByaWdodE9mZnNldCk7XG5cbiAgICBjb25zdCB7XG4gICAgICBvdmVyc2hvb3RMZWZ0ID0gbGVmdFdpZHRoID4gMCxcbiAgICAgIG92ZXJzaG9vdFJpZ2h0ID0gcmlnaHRXaWR0aCA+IDAsXG4gICAgfSA9IHByb3BzO1xuXG4gICAgY29uc3QgdHJhbnNYID0gQW5pbWF0ZWQuYWRkKFxuICAgICAgcm93VHJhbnNsYXRpb24sXG4gICAgICBkcmFnWC5pbnRlcnBvbGF0ZSh7XG4gICAgICAgIGlucHV0UmFuZ2U6IFswLCBmcmljdGlvbiFdLFxuICAgICAgICBvdXRwdXRSYW5nZTogWzAsIDFdLFxuICAgICAgfSlcbiAgICApLmludGVycG9sYXRlKHtcbiAgICAgIGlucHV0UmFuZ2U6IFtcbiAgICAgICAgLXJpZ2h0V2lkdGggLSAob3ZlcnNob290UmlnaHQgPyAxIDogb3ZlcnNob290RnJpY3Rpb24hKSxcbiAgICAgICAgLXJpZ2h0V2lkdGgsXG4gICAgICAgIGxlZnRXaWR0aCxcbiAgICAgICAgbGVmdFdpZHRoICsgKG92ZXJzaG9vdExlZnQgPyAxIDogb3ZlcnNob290RnJpY3Rpb24hKSxcbiAgICAgIF0sXG4gICAgICBvdXRwdXRSYW5nZTogW1xuICAgICAgICAtcmlnaHRXaWR0aCAtIChvdmVyc2hvb3RSaWdodCB8fCBvdmVyc2hvb3RGcmljdGlvbiEgPiAxID8gMSA6IDApLFxuICAgICAgICAtcmlnaHRXaWR0aCxcbiAgICAgICAgbGVmdFdpZHRoLFxuICAgICAgICBsZWZ0V2lkdGggKyAob3ZlcnNob290TGVmdCB8fCBvdmVyc2hvb3RGcmljdGlvbiEgPiAxID8gMSA6IDApLFxuICAgICAgXSxcbiAgICB9KTtcbiAgICB0aGlzLnRyYW5zWCA9IHRyYW5zWDtcbiAgICB0aGlzLnNob3dMZWZ0QWN0aW9uID1cbiAgICAgIGxlZnRXaWR0aCA+IDBcbiAgICAgICAgPyB0cmFuc1guaW50ZXJwb2xhdGUoe1xuICAgICAgICAgICAgaW5wdXRSYW5nZTogWy0xLCAwLCBsZWZ0V2lkdGhdLFxuICAgICAgICAgICAgb3V0cHV0UmFuZ2U6IFswLCAwLCAxXSxcbiAgICAgICAgICB9KVxuICAgICAgICA6IG5ldyBBbmltYXRlZC5WYWx1ZSgwKTtcbiAgICB0aGlzLmxlZnRBY3Rpb25UcmFuc2xhdGUgPSB0aGlzLnNob3dMZWZ0QWN0aW9uLmludGVycG9sYXRlKHtcbiAgICAgIGlucHV0UmFuZ2U6IFswLCBOdW1iZXIuTUlOX1ZBTFVFXSxcbiAgICAgIG91dHB1dFJhbmdlOiBbLTEwMDAwLCAwXSxcbiAgICAgIGV4dHJhcG9sYXRlOiAnY2xhbXAnLFxuICAgIH0pO1xuICAgIHRoaXMuc2hvd1JpZ2h0QWN0aW9uID1cbiAgICAgIHJpZ2h0V2lkdGggPiAwXG4gICAgICAgID8gdHJhbnNYLmludGVycG9sYXRlKHtcbiAgICAgICAgICAgIGlucHV0UmFuZ2U6IFstcmlnaHRXaWR0aCwgMCwgMV0sXG4gICAgICAgICAgICBvdXRwdXRSYW5nZTogWzEsIDAsIDBdLFxuICAgICAgICAgIH0pXG4gICAgICAgIDogbmV3IEFuaW1hdGVkLlZhbHVlKDApO1xuICAgIHRoaXMucmlnaHRBY3Rpb25UcmFuc2xhdGUgPSB0aGlzLnNob3dSaWdodEFjdGlvbi5pbnRlcnBvbGF0ZSh7XG4gICAgICBpbnB1dFJhbmdlOiBbMCwgTnVtYmVyLk1JTl9WQUxVRV0sXG4gICAgICBvdXRwdXRSYW5nZTogWy0xMDAwMCwgMF0sXG4gICAgICBleHRyYXBvbGF0ZTogJ2NsYW1wJyxcbiAgICB9KTtcbiAgfTtcblxuICBwcml2YXRlIG9uVGFwSGFuZGxlclN0YXRlQ2hhbmdlID0gKHtcbiAgICBuYXRpdmVFdmVudCxcbiAgfTogSGFuZGxlclN0YXRlQ2hhbmdlRXZlbnQ8VGFwR2VzdHVyZUhhbmRsZXJFdmVudFBheWxvYWQ+KSA9PiB7XG4gICAgaWYgKG5hdGl2ZUV2ZW50Lm9sZFN0YXRlID09PSBTdGF0ZS5BQ1RJVkUpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSBvbkhhbmRsZXJTdGF0ZUNoYW5nZSA9IChcbiAgICBldjogSGFuZGxlclN0YXRlQ2hhbmdlRXZlbnQ8UGFuR2VzdHVyZUhhbmRsZXJFdmVudFBheWxvYWQ+XG4gICkgPT4ge1xuICAgIGlmIChldi5uYXRpdmVFdmVudC5vbGRTdGF0ZSA9PT0gU3RhdGUuQUNUSVZFKSB7XG4gICAgICB0aGlzLmhhbmRsZVJlbGVhc2UoZXYpO1xuICAgIH1cbiAgfTtcblxuICBwcml2YXRlIGhhbmRsZVJlbGVhc2UgPSAoXG4gICAgZXY6IEhhbmRsZXJTdGF0ZUNoYW5nZUV2ZW50PFBhbkdlc3R1cmVIYW5kbGVyRXZlbnRQYXlsb2FkPlxuICApID0+IHtcbiAgICBjb25zdCB7IHZlbG9jaXR5WCwgdHJhbnNsYXRpb25YOiBkcmFnWCB9ID0gZXYubmF0aXZlRXZlbnQ7XG4gICAgY29uc3QgeyBsZWZ0V2lkdGggPSAwLCByb3dXaWR0aCA9IDAsIHJvd1N0YXRlIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHsgcmlnaHRPZmZzZXQgPSByb3dXaWR0aCB9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCByaWdodFdpZHRoID0gcm93V2lkdGggLSByaWdodE9mZnNldDtcbiAgICBjb25zdCB7XG4gICAgICBmcmljdGlvbixcbiAgICAgIGxlZnRUaHJlc2hvbGQgPSBsZWZ0V2lkdGggLyAyLFxuICAgICAgcmlnaHRUaHJlc2hvbGQgPSByaWdodFdpZHRoIC8gMixcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIGNvbnN0IHN0YXJ0T2Zmc2V0WCA9IHRoaXMuY3VycmVudE9mZnNldCgpICsgZHJhZ1ggLyBmcmljdGlvbiE7XG4gICAgY29uc3QgdHJhbnNsYXRpb25YID0gKGRyYWdYICsgRFJBR19UT1NTICogdmVsb2NpdHlYKSAvIGZyaWN0aW9uITtcblxuICAgIGxldCB0b1ZhbHVlID0gMDtcbiAgICBpZiAocm93U3RhdGUgPT09IDApIHtcbiAgICAgIGlmICh0cmFuc2xhdGlvblggPiBsZWZ0VGhyZXNob2xkKSB7XG4gICAgICAgIHRvVmFsdWUgPSBsZWZ0V2lkdGg7XG4gICAgICB9IGVsc2UgaWYgKHRyYW5zbGF0aW9uWCA8IC1yaWdodFRocmVzaG9sZCkge1xuICAgICAgICB0b1ZhbHVlID0gLXJpZ2h0V2lkdGg7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChyb3dTdGF0ZSA9PT0gMSkge1xuICAgICAgLy8gc3dpcGVkIHRvIGxlZnRcbiAgICAgIGlmICh0cmFuc2xhdGlvblggPiAtbGVmdFRocmVzaG9sZCkge1xuICAgICAgICB0b1ZhbHVlID0gbGVmdFdpZHRoO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBzd2lwZWQgdG8gcmlnaHRcbiAgICAgIGlmICh0cmFuc2xhdGlvblggPCByaWdodFRocmVzaG9sZCkge1xuICAgICAgICB0b1ZhbHVlID0gLXJpZ2h0V2lkdGg7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5hbmltYXRlUm93KHN0YXJ0T2Zmc2V0WCwgdG9WYWx1ZSwgdmVsb2NpdHlYIC8gZnJpY3Rpb24hKTtcbiAgfTtcblxuICBwcml2YXRlIGFuaW1hdGVSb3cgPSAoXG4gICAgZnJvbVZhbHVlOiBudW1iZXIsXG4gICAgdG9WYWx1ZTogbnVtYmVyLFxuICAgIHZlbG9jaXR5WD86XG4gICAgICB8IG51bWJlclxuICAgICAgfCB7XG4gICAgICAgICAgeDogbnVtYmVyO1xuICAgICAgICAgIHk6IG51bWJlcjtcbiAgICAgICAgfVxuICApID0+IHtcbiAgICBjb25zdCB7IGRyYWdYLCByb3dUcmFuc2xhdGlvbiB9ID0gdGhpcy5zdGF0ZTtcbiAgICBkcmFnWC5zZXRWYWx1ZSgwKTtcbiAgICByb3dUcmFuc2xhdGlvbi5zZXRWYWx1ZShmcm9tVmFsdWUpO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHJvd1N0YXRlOiBNYXRoLnNpZ24odG9WYWx1ZSkgfSk7XG4gICAgQW5pbWF0ZWQuc3ByaW5nKHJvd1RyYW5zbGF0aW9uLCB7XG4gICAgICByZXN0U3BlZWRUaHJlc2hvbGQ6IDEuNyxcbiAgICAgIHJlc3REaXNwbGFjZW1lbnRUaHJlc2hvbGQ6IDAuNCxcbiAgICAgIHZlbG9jaXR5OiB2ZWxvY2l0eVgsXG4gICAgICBib3VuY2luZXNzOiAwLFxuICAgICAgdG9WYWx1ZSxcbiAgICAgIHVzZU5hdGl2ZURyaXZlcjogdGhpcy5wcm9wcy51c2VOYXRpdmVBbmltYXRpb25zISxcbiAgICAgIC4uLnRoaXMucHJvcHMuYW5pbWF0aW9uT3B0aW9ucyxcbiAgICB9KS5zdGFydCgoeyBmaW5pc2hlZCB9KSA9PiB7XG4gICAgICBpZiAoZmluaXNoZWQpIHtcbiAgICAgICAgaWYgKHRvVmFsdWUgPiAwICYmIHRoaXMucHJvcHMub25Td2lwZWFibGVMZWZ0T3Blbikge1xuICAgICAgICAgIHRoaXMucHJvcHMub25Td2lwZWFibGVMZWZ0T3BlbigpO1xuICAgICAgICB9IGVsc2UgaWYgKHRvVmFsdWUgPCAwICYmIHRoaXMucHJvcHMub25Td2lwZWFibGVSaWdodE9wZW4pIHtcbiAgICAgICAgICB0aGlzLnByb3BzLm9uU3dpcGVhYmxlUmlnaHRPcGVuKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodG9WYWx1ZSA9PT0gMCkge1xuICAgICAgICAgIHRoaXMucHJvcHMub25Td2lwZWFibGVDbG9zZT8uKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5wcm9wcy5vblN3aXBlYWJsZU9wZW4/LigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHRvVmFsdWUgPiAwICYmIHRoaXMucHJvcHMub25Td2lwZWFibGVMZWZ0V2lsbE9wZW4pIHtcbiAgICAgIHRoaXMucHJvcHMub25Td2lwZWFibGVMZWZ0V2lsbE9wZW4oKTtcbiAgICB9IGVsc2UgaWYgKHRvVmFsdWUgPCAwICYmIHRoaXMucHJvcHMub25Td2lwZWFibGVSaWdodFdpbGxPcGVuKSB7XG4gICAgICB0aGlzLnByb3BzLm9uU3dpcGVhYmxlUmlnaHRXaWxsT3BlbigpO1xuICAgIH1cblxuICAgIGlmICh0b1ZhbHVlID09PSAwKSB7XG4gICAgICB0aGlzLnByb3BzLm9uU3dpcGVhYmxlV2lsbENsb3NlPy4oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcm9wcy5vblN3aXBlYWJsZVdpbGxPcGVuPy4oKTtcbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSBvblJvd0xheW91dCA9ICh7IG5hdGl2ZUV2ZW50IH06IExheW91dENoYW5nZUV2ZW50KSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHJvd1dpZHRoOiBuYXRpdmVFdmVudC5sYXlvdXQud2lkdGggfSk7XG4gIH07XG5cbiAgcHJpdmF0ZSBjdXJyZW50T2Zmc2V0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgbGVmdFdpZHRoID0gMCwgcm93V2lkdGggPSAwLCByb3dTdGF0ZSB9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCB7IHJpZ2h0T2Zmc2V0ID0gcm93V2lkdGggfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgcmlnaHRXaWR0aCA9IHJvd1dpZHRoIC0gcmlnaHRPZmZzZXQ7XG4gICAgaWYgKHJvd1N0YXRlID09PSAxKSB7XG4gICAgICByZXR1cm4gbGVmdFdpZHRoO1xuICAgIH0gZWxzZSBpZiAocm93U3RhdGUgPT09IC0xKSB7XG4gICAgICByZXR1cm4gLXJpZ2h0V2lkdGg7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9O1xuXG4gIGNsb3NlID0gKCkgPT4ge1xuICAgIHRoaXMuYW5pbWF0ZVJvdyh0aGlzLmN1cnJlbnRPZmZzZXQoKSwgMCk7XG4gIH07XG5cbiAgb3BlbkxlZnQgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBsZWZ0V2lkdGggPSAwIH0gPSB0aGlzLnN0YXRlO1xuICAgIHRoaXMuYW5pbWF0ZVJvdyh0aGlzLmN1cnJlbnRPZmZzZXQoKSwgbGVmdFdpZHRoKTtcbiAgfTtcblxuICBvcGVuUmlnaHQgPSAoKSA9PiB7XG4gICAgY29uc3QgeyByb3dXaWR0aCA9IDAgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgeyByaWdodE9mZnNldCA9IHJvd1dpZHRoIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHJpZ2h0V2lkdGggPSByb3dXaWR0aCAtIHJpZ2h0T2Zmc2V0O1xuICAgIHRoaXMuYW5pbWF0ZVJvdyh0aGlzLmN1cnJlbnRPZmZzZXQoKSwgLXJpZ2h0V2lkdGgpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHJvd1N0YXRlIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHsgY2hpbGRyZW4sIHJlbmRlckxlZnRBY3Rpb25zLCByZW5kZXJSaWdodEFjdGlvbnMgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBjb25zdCBsZWZ0ID0gcmVuZGVyTGVmdEFjdGlvbnMgJiYgKFxuICAgICAgPEFuaW1hdGVkLlZpZXdcbiAgICAgICAgc3R5bGU9e1tcbiAgICAgICAgICBzdHlsZXMubGVmdEFjdGlvbnMsXG4gICAgICAgICAgLy8gYWxsIHRob3NlIGFuZCBiZWxvdyBwYXJhbWV0ZXJzIGNhbiBoYXZlICEgc2luY2UgdGhleSBhcmUgYWxsIGFzaWduZWQgaW4gY29uc3RydWN0b3IgaW4gYHVwZGF0ZUFuaW1hdGVkRXZlbnRgIGJ1dCBUUyBjYW5ub3Qgc3BvdCBpdCBmb3Igc29tZSByZWFzb25cbiAgICAgICAgICB7IHRyYW5zZm9ybTogW3sgdHJhbnNsYXRlWDogdGhpcy5sZWZ0QWN0aW9uVHJhbnNsYXRlISB9XSB9LFxuICAgICAgICBdfT5cbiAgICAgICAge3JlbmRlckxlZnRBY3Rpb25zKHRoaXMuc2hvd0xlZnRBY3Rpb24hLCB0aGlzLnRyYW5zWCEpfVxuICAgICAgICA8Vmlld1xuICAgICAgICAgIG9uTGF5b3V0PXsoeyBuYXRpdmVFdmVudCB9KSA9PlxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGxlZnRXaWR0aDogbmF0aXZlRXZlbnQubGF5b3V0LnggfSlcbiAgICAgICAgICB9XG4gICAgICAgIC8+XG4gICAgICA8L0FuaW1hdGVkLlZpZXc+XG4gICAgKTtcblxuICAgIGNvbnN0IHJpZ2h0ID0gcmVuZGVyUmlnaHRBY3Rpb25zICYmIChcbiAgICAgIDxBbmltYXRlZC5WaWV3XG4gICAgICAgIHN0eWxlPXtbXG4gICAgICAgICAgc3R5bGVzLnJpZ2h0QWN0aW9ucyxcbiAgICAgICAgICB7IHRyYW5zZm9ybTogW3sgdHJhbnNsYXRlWDogdGhpcy5yaWdodEFjdGlvblRyYW5zbGF0ZSEgfV0gfSxcbiAgICAgICAgXX0+XG4gICAgICAgIHtyZW5kZXJSaWdodEFjdGlvbnModGhpcy5zaG93UmlnaHRBY3Rpb24hLCB0aGlzLnRyYW5zWCEpfVxuICAgICAgICA8Vmlld1xuICAgICAgICAgIG9uTGF5b3V0PXsoeyBuYXRpdmVFdmVudCB9KSA9PlxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHJpZ2h0T2Zmc2V0OiBuYXRpdmVFdmVudC5sYXlvdXQueCB9KVxuICAgICAgICAgIH1cbiAgICAgICAgLz5cbiAgICAgIDwvQW5pbWF0ZWQuVmlldz5cbiAgICApO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxQYW5HZXN0dXJlSGFuZGxlclxuICAgICAgICBhY3RpdmVPZmZzZXRYPXtbLTEwLCAxMF19XG4gICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICBvbkdlc3R1cmVFdmVudD17dGhpcy5vbkdlc3R1cmVFdmVudH1cbiAgICAgICAgb25IYW5kbGVyU3RhdGVDaGFuZ2U9e3RoaXMub25IYW5kbGVyU3RhdGVDaGFuZ2V9PlxuICAgICAgICA8QW5pbWF0ZWQuVmlld1xuICAgICAgICAgIG9uTGF5b3V0PXt0aGlzLm9uUm93TGF5b3V0fVxuICAgICAgICAgIHN0eWxlPXtbc3R5bGVzLmNvbnRhaW5lciwgdGhpcy5wcm9wcy5jb250YWluZXJTdHlsZV19PlxuICAgICAgICAgIHtsZWZ0fVxuICAgICAgICAgIHtyaWdodH1cbiAgICAgICAgICA8VGFwR2VzdHVyZUhhbmRsZXJcbiAgICAgICAgICAgIGVuYWJsZWQ9e3Jvd1N0YXRlICE9PSAwfVxuICAgICAgICAgICAgb25IYW5kbGVyU3RhdGVDaGFuZ2U9e3RoaXMub25UYXBIYW5kbGVyU3RhdGVDaGFuZ2V9PlxuICAgICAgICAgICAgPEFuaW1hdGVkLlZpZXdcbiAgICAgICAgICAgICAgcG9pbnRlckV2ZW50cz17cm93U3RhdGUgPT09IDAgPyAnYXV0bycgOiAnYm94LW9ubHknfVxuICAgICAgICAgICAgICBzdHlsZT17W1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogW3sgdHJhbnNsYXRlWDogdGhpcy50cmFuc1ghIH1dLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlbkNvbnRhaW5lclN0eWxlLFxuICAgICAgICAgICAgICBdfT5cbiAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgPC9BbmltYXRlZC5WaWV3PlxuICAgICAgICAgIDwvVGFwR2VzdHVyZUhhbmRsZXI+XG4gICAgICAgIDwvQW5pbWF0ZWQuVmlldz5cbiAgICAgIDwvUGFuR2VzdHVyZUhhbmRsZXI+XG4gICAgKTtcbiAgfVxufVxuXG5jb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gIGNvbnRhaW5lcjoge1xuICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgfSxcbiAgbGVmdEFjdGlvbnM6IHtcbiAgICAuLi5TdHlsZVNoZWV0LmFic29sdXRlRmlsbE9iamVjdCxcbiAgICBmbGV4RGlyZWN0aW9uOiBJMThuTWFuYWdlci5pc1JUTCA/ICdyb3ctcmV2ZXJzZScgOiAncm93JyxcbiAgfSxcbiAgcmlnaHRBY3Rpb25zOiB7XG4gICAgLi4uU3R5bGVTaGVldC5hYnNvbHV0ZUZpbGxPYmplY3QsXG4gICAgZmxleERpcmVjdGlvbjogSTE4bk1hbmFnZXIuaXNSVEwgPyAncm93JyA6ICdyb3ctcmV2ZXJzZScsXG4gIH0sXG59KTtcbiJdfQ==