70438443bc060b90cdadbb08fa939564
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.findByTitle = exports.findAllByTitle = exports.getAllByTitle = exports.getByTitle = exports.queryAllByTitle = exports.queryByTitle = void 0;

var _queryHelpers = require("../query-helpers");

var _helpers = require("../helpers");

var _allUtils = require("./all-utils");

var isSvgTitle = function isSvgTitle(node) {
  var _node$parentElement;

  return node.tagName.toLowerCase() === 'title' && ((_node$parentElement = node.parentElement) == null ? void 0 : _node$parentElement.tagName.toLowerCase()) === 'svg';
};

var queryAllByTitle = function queryAllByTitle(container, text) {
  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},
      _ref$exact = _ref.exact,
      exact = _ref$exact === void 0 ? true : _ref$exact,
      collapseWhitespace = _ref.collapseWhitespace,
      trim = _ref.trim,
      normalizer = _ref.normalizer;

  (0, _helpers.checkContainerType)(container);
  var matcher = exact ? _allUtils.matches : _allUtils.fuzzyMatches;
  var matchNormalizer = (0, _allUtils.makeNormalizer)({
    collapseWhitespace: collapseWhitespace,
    trim: trim,
    normalizer: normalizer
  });
  return Array.from(container.querySelectorAll('[title], svg > title')).filter(function (node) {
    return matcher(node.getAttribute('title'), node, text, matchNormalizer) || isSvgTitle(node) && matcher((0, _allUtils.getNodeText)(node), node, text, matchNormalizer);
  });
};

var getMultipleError = function getMultipleError(c, title) {
  return "Found multiple elements with the title: " + title + ".";
};

var getMissingError = function getMissingError(c, title) {
  return "Unable to find an element with the title: " + title + ".";
};

var queryAllByTitleWithSuggestions = (0, _queryHelpers.wrapAllByQueryWithSuggestion)(queryAllByTitle, queryAllByTitle.name, 'queryAll');
exports.queryAllByTitle = queryAllByTitleWithSuggestions;

var _ref2 = (0, _allUtils.buildQueries)(queryAllByTitle, getMultipleError, getMissingError),
    _ref3 = (0, _slicedToArray2.default)(_ref2, 5),
    queryByTitle = _ref3[0],
    getAllByTitle = _ref3[1],
    getByTitle = _ref3[2],
    findAllByTitle = _ref3[3],
    findByTitle = _ref3[4];

exports.findByTitle = findByTitle;
exports.findAllByTitle = findAllByTitle;
exports.getByTitle = getByTitle;
exports.getAllByTitle = getAllByTitle;
exports.queryByTitle = queryByTitle;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRpdGxlLmpzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZmluZEJ5VGl0bGUiLCJmaW5kQWxsQnlUaXRsZSIsImdldEFsbEJ5VGl0bGUiLCJnZXRCeVRpdGxlIiwicXVlcnlBbGxCeVRpdGxlIiwicXVlcnlCeVRpdGxlIiwiX3F1ZXJ5SGVscGVycyIsInJlcXVpcmUiLCJfaGVscGVycyIsIl9hbGxVdGlscyIsImlzU3ZnVGl0bGUiLCJub2RlIiwiX25vZGUkcGFyZW50RWxlbWVudCIsInRhZ05hbWUiLCJ0b0xvd2VyQ2FzZSIsInBhcmVudEVsZW1lbnQiLCJjb250YWluZXIiLCJ0ZXh0IiwiZXhhY3QiLCJjb2xsYXBzZVdoaXRlc3BhY2UiLCJ0cmltIiwibm9ybWFsaXplciIsImNoZWNrQ29udGFpbmVyVHlwZSIsIm1hdGNoZXIiLCJtYXRjaGVzIiwiZnV6enlNYXRjaGVzIiwibWF0Y2hOb3JtYWxpemVyIiwibWFrZU5vcm1hbGl6ZXIiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiZmlsdGVyIiwiZ2V0QXR0cmlidXRlIiwiZ2V0Tm9kZVRleHQiLCJnZXRNdWx0aXBsZUVycm9yIiwiYyIsInRpdGxlIiwiZ2V0TWlzc2luZ0Vycm9yIiwicXVlcnlBbGxCeVRpdGxlV2l0aFN1Z2dlc3Rpb25zIiwid3JhcEFsbEJ5UXVlcnlXaXRoU3VnZ2VzdGlvbiIsIm5hbWUiLCJidWlsZFF1ZXJpZXMiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7QUFFQUEsTUFBTSxDQUFDQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QztBQUMzQ0MsRUFBQUEsS0FBSyxFQUFFO0FBRG9DLENBQTdDO0FBR0FELE9BQU8sQ0FBQ0UsV0FBUixHQUFzQkYsT0FBTyxDQUFDRyxjQUFSLEdBQXlCSCxPQUFPLENBQUNJLGFBQVIsR0FBd0JKLE9BQU8sQ0FBQ0ssVUFBUixHQUFxQkwsT0FBTyxDQUFDTSxl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LFdBQXRCO0FBQ0FGLE9BQU8sQ0FBQ0csY0FBUixHQUF5QkEsY0FBekI7QUFDQUgsT0FBTyxDQUFDSyxVQUFSLEdBQXFCQSxVQUFyQjtBQUNBTCxPQUFPLENBQUNJLGFBQVIsR0FBd0JBLGFBQXhCO0FBQ0FKLE9BQU8sQ0FBQ08sWUFBUixHQUF1QkEsWUFBdkIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZmluZEJ5VGl0bGUgPSBleHBvcnRzLmZpbmRBbGxCeVRpdGxlID0gZXhwb3J0cy5nZXRBbGxCeVRpdGxlID0gZXhwb3J0cy5nZXRCeVRpdGxlID0gZXhwb3J0cy5xdWVyeUFsbEJ5VGl0bGUgPSBleHBvcnRzLnF1ZXJ5QnlUaXRsZSA9IHZvaWQgMDtcblxudmFyIF9xdWVyeUhlbHBlcnMgPSByZXF1aXJlKFwiLi4vcXVlcnktaGVscGVyc1wiKTtcblxudmFyIF9oZWxwZXJzID0gcmVxdWlyZShcIi4uL2hlbHBlcnNcIik7XG5cbnZhciBfYWxsVXRpbHMgPSByZXF1aXJlKFwiLi9hbGwtdXRpbHNcIik7XG5cbmNvbnN0IGlzU3ZnVGl0bGUgPSBub2RlID0+IHtcbiAgdmFyIF9ub2RlJHBhcmVudEVsZW1lbnQ7XG5cbiAgcmV0dXJuIG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAndGl0bGUnICYmICgoX25vZGUkcGFyZW50RWxlbWVudCA9IG5vZGUucGFyZW50RWxlbWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9ub2RlJHBhcmVudEVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSA9PT0gJ3N2Zyc7XG59O1xuXG5jb25zdCBxdWVyeUFsbEJ5VGl0bGUgPSAoY29udGFpbmVyLCB0ZXh0LCB7XG4gIGV4YWN0ID0gdHJ1ZSxcbiAgY29sbGFwc2VXaGl0ZXNwYWNlLFxuICB0cmltLFxuICBub3JtYWxpemVyXG59ID0ge30pID0+IHtcbiAgKDAsIF9oZWxwZXJzLmNoZWNrQ29udGFpbmVyVHlwZSkoY29udGFpbmVyKTtcbiAgY29uc3QgbWF0Y2hlciA9IGV4YWN0ID8gX2FsbFV0aWxzLm1hdGNoZXMgOiBfYWxsVXRpbHMuZnV6enlNYXRjaGVzO1xuICBjb25zdCBtYXRjaE5vcm1hbGl6ZXIgPSAoMCwgX2FsbFV0aWxzLm1ha2VOb3JtYWxpemVyKSh7XG4gICAgY29sbGFwc2VXaGl0ZXNwYWNlLFxuICAgIHRyaW0sXG4gICAgbm9ybWFsaXplclxuICB9KTtcbiAgcmV0dXJuIEFycmF5LmZyb20oY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ1t0aXRsZV0sIHN2ZyA+IHRpdGxlJykpLmZpbHRlcihub2RlID0+IG1hdGNoZXIobm9kZS5nZXRBdHRyaWJ1dGUoJ3RpdGxlJyksIG5vZGUsIHRleHQsIG1hdGNoTm9ybWFsaXplcikgfHwgaXNTdmdUaXRsZShub2RlKSAmJiBtYXRjaGVyKCgwLCBfYWxsVXRpbHMuZ2V0Tm9kZVRleHQpKG5vZGUpLCBub2RlLCB0ZXh0LCBtYXRjaE5vcm1hbGl6ZXIpKTtcbn07XG5cbmNvbnN0IGdldE11bHRpcGxlRXJyb3IgPSAoYywgdGl0bGUpID0+IGBGb3VuZCBtdWx0aXBsZSBlbGVtZW50cyB3aXRoIHRoZSB0aXRsZTogJHt0aXRsZX0uYDtcblxuY29uc3QgZ2V0TWlzc2luZ0Vycm9yID0gKGMsIHRpdGxlKSA9PiBgVW5hYmxlIHRvIGZpbmQgYW4gZWxlbWVudCB3aXRoIHRoZSB0aXRsZTogJHt0aXRsZX0uYDtcblxuY29uc3QgcXVlcnlBbGxCeVRpdGxlV2l0aFN1Z2dlc3Rpb25zID0gKDAsIF9xdWVyeUhlbHBlcnMud3JhcEFsbEJ5UXVlcnlXaXRoU3VnZ2VzdGlvbikocXVlcnlBbGxCeVRpdGxlLCBxdWVyeUFsbEJ5VGl0bGUubmFtZSwgJ3F1ZXJ5QWxsJyk7XG5leHBvcnRzLnF1ZXJ5QWxsQnlUaXRsZSA9IHF1ZXJ5QWxsQnlUaXRsZVdpdGhTdWdnZXN0aW9ucztcbmNvbnN0IFtxdWVyeUJ5VGl0bGUsIGdldEFsbEJ5VGl0bGUsIGdldEJ5VGl0bGUsIGZpbmRBbGxCeVRpdGxlLCBmaW5kQnlUaXRsZV0gPSAoMCwgX2FsbFV0aWxzLmJ1aWxkUXVlcmllcykocXVlcnlBbGxCeVRpdGxlLCBnZXRNdWx0aXBsZUVycm9yLCBnZXRNaXNzaW5nRXJyb3IpO1xuZXhwb3J0cy5maW5kQnlUaXRsZSA9IGZpbmRCeVRpdGxlO1xuZXhwb3J0cy5maW5kQWxsQnlUaXRsZSA9IGZpbmRBbGxCeVRpdGxlO1xuZXhwb3J0cy5nZXRCeVRpdGxlID0gZ2V0QnlUaXRsZTtcbmV4cG9ydHMuZ2V0QWxsQnlUaXRsZSA9IGdldEFsbEJ5VGl0bGU7XG5leHBvcnRzLnF1ZXJ5QnlUaXRsZSA9IHF1ZXJ5QnlUaXRsZTsiXX0=