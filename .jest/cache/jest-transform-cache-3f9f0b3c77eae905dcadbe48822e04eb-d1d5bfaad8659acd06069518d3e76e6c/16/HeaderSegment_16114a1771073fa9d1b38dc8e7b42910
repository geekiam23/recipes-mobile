1a3744151abb9887808d35d56851f7f1
"use strict";

var _interopRequireDefault2 = require("@babel/runtime/helpers/interopRequireDefault");

var _objectWithoutProperties2 = _interopRequireDefault2(require("@babel/runtime/helpers/objectWithoutProperties"));

var _slicedToArray2 = _interopRequireDefault2(require("@babel/runtime/helpers/slicedToArray"));

var _excluded = ["height", "minHeight", "maxHeight", "backgroundColor", "borderBottomColor", "borderBottomEndRadius", "borderBottomLeftRadius", "borderBottomRightRadius", "borderBottomStartRadius", "borderBottomWidth", "borderColor", "borderEndColor", "borderEndWidth", "borderLeftColor", "borderLeftWidth", "borderRadius", "borderRightColor", "borderRightWidth", "borderStartColor", "borderStartWidth", "borderStyle", "borderTopColor", "borderTopEndRadius", "borderTopLeftRadius", "borderTopRightRadius", "borderTopStartRadius", "borderTopWidth", "borderWidth", "boxShadow", "elevation", "shadowColor", "shadowOffset", "shadowOpacity", "shadowRadius", "opacity", "transform"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = HeaderSegment;
exports.getDefaultHeaderHeight = void 0;

var React = _interopRequireWildcard(require("react"));

var _reactNative = require("react-native");

var _HeaderBackButton = _interopRequireDefault(require("./HeaderBackButton"));

var _HeaderBackground = _interopRequireDefault(require("./HeaderBackground"));

var _HeaderShownContext = _interopRequireDefault(require("../../utils/HeaderShownContext"));

var _memoize = _interopRequireDefault(require("../../utils/memoize"));

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}

function _getRequireWildcardCache() {
  if (typeof WeakMap !== "function") return null;
  var cache = new WeakMap();

  _getRequireWildcardCache = function _getRequireWildcardCache() {
    return cache;
  };

  return cache;
}

function _interopRequireWildcard(obj) {
  if (obj && obj.__esModule) {
    return obj;
  }

  if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
    return {
      default: obj
    };
  }

  var cache = _getRequireWildcardCache();

  if (cache && cache.has(obj)) {
    return cache.get(obj);
  }

  var newObj = {};
  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;

  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) {
      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;

      if (desc && (desc.get || desc.set)) {
        Object.defineProperty(newObj, key, desc);
      } else {
        newObj[key] = obj[key];
      }
    }
  }

  newObj.default = obj;

  if (cache) {
    cache.set(obj, newObj);
  }

  return newObj;
}

var warnIfHeaderStylesDefined = function warnIfHeaderStylesDefined(styles) {
  Object.keys(styles).forEach(function (styleProp) {
    var value = styles[styleProp];

    if (styleProp === 'position' && value === 'absolute') {
      console.warn("position: 'absolute' is not supported on headerStyle. If you would like to render content under the header, use the 'headerTransparent' navigationOption.");
    } else if (value !== undefined) {
      console.warn("".concat(styleProp, " was given a value of ").concat(value, ", this has no effect on headerStyle."));
    }
  });
};

var getDefaultHeaderHeight = function getDefaultHeaderHeight(layout, statusBarHeight) {
  var isLandscape = layout.width > layout.height;
  var headerHeight;

  if (_reactNative.Platform.OS === 'ios') {
    if (isLandscape && !_reactNative.Platform.isPad) {
      headerHeight = 32;
    } else {
      headerHeight = 44;
    }
  } else if (_reactNative.Platform.OS === 'android') {
    headerHeight = 56;
  } else {
    headerHeight = 64;
  }

  return headerHeight + statusBarHeight;
};

exports.getDefaultHeaderHeight = getDefaultHeaderHeight;

function HeaderSegment(props) {
  var _React$useState = React.useState(undefined),
      _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),
      leftLabelLayout = _React$useState2[0],
      setLeftLabelLayout = _React$useState2[1];

  var _React$useState3 = React.useState(undefined),
      _React$useState4 = (0, _slicedToArray2.default)(_React$useState3, 2),
      titleLayout = _React$useState4[0],
      setTitleLayout = _React$useState4[1];

  var isParentHeaderShown = React.useContext(_HeaderShownContext.default);

  var handleTitleLayout = function handleTitleLayout(e) {
    var _e$nativeEvent$layout = e.nativeEvent.layout,
        height = _e$nativeEvent$layout.height,
        width = _e$nativeEvent$layout.width;
    setTitleLayout(function (titleLayout) {
      if (titleLayout && height === titleLayout.height && width === titleLayout.width) {
        return titleLayout;
      }

      return {
        height: height,
        width: width
      };
    });
  };

  var handleLeftLabelLayout = function handleLeftLabelLayout(e) {
    var _e$nativeEvent$layout2 = e.nativeEvent.layout,
        height = _e$nativeEvent$layout2.height,
        width = _e$nativeEvent$layout2.width;

    if (leftLabelLayout && height === leftLabelLayout.height && width === leftLabelLayout.width) {
      return;
    }

    setLeftLabelLayout({
      height: height,
      width: width
    });
  };

  var getInterpolatedStyle = (0, _memoize.default)(function (styleInterpolator, layout, current, next, titleLayout, leftLabelLayout, headerHeight) {
    return styleInterpolator({
      current: {
        progress: current
      },
      next: next && {
        progress: next
      },
      layouts: {
        header: {
          height: headerHeight,
          width: layout.width
        },
        screen: layout,
        title: titleLayout,
        leftLabel: leftLabelLayout
      }
    });
  });
  var scene = props.scene,
      layout = props.layout,
      insets = props.insets,
      currentTitle = props.title,
      previousTitle = props.leftLabel,
      onGoBack = props.onGoBack,
      headerTitle = props.headerTitle,
      _props$headerTitleAli = props.headerTitleAlign,
      headerTitleAlign = _props$headerTitleAli === void 0 ? _reactNative.Platform.select({
    ios: 'center',
    default: 'left'
  }) : _props$headerTitleAli,
      _props$headerLeft = props.headerLeft,
      left = _props$headerLeft === void 0 ? onGoBack ? function (props) {
    return React.createElement(_HeaderBackButton.default, props);
  } : undefined : _props$headerLeft,
      headerTransparent = props.headerTransparent,
      headerTintColor = props.headerTintColor,
      headerBackground = props.headerBackground,
      right = props.headerRight,
      backImage = props.headerBackImage,
      leftLabel = props.headerBackTitle,
      headerBackTitleVisible = props.headerBackTitleVisible,
      truncatedLabel = props.headerTruncatedBackTitle,
      pressColorAndroid = props.headerPressColorAndroid,
      backAccessibilityLabel = props.headerBackAccessibilityLabel,
      backAllowFontScaling = props.headerBackAllowFontScaling,
      titleAllowFontScaling = props.headerTitleAllowFontScaling,
      customTitleStyle = props.headerTitleStyle,
      customLeftLabelStyle = props.headerBackTitleStyle,
      leftContainerStyle = props.headerLeftContainerStyle,
      rightContainerStyle = props.headerRightContainerStyle,
      titleContainerStyle = props.headerTitleContainerStyle,
      customHeaderStyle = props.headerStyle,
      _props$headerStatusBa = props.headerStatusBarHeight,
      headerStatusBarHeight = _props$headerStatusBa === void 0 ? isParentHeaderShown ? 0 : insets.top : _props$headerStatusBa,
      styleInterpolator = props.styleInterpolator;
  var defaultHeight = getDefaultHeaderHeight(layout, headerStatusBarHeight);

  var _reactNative$StyleShe = _reactNative.StyleSheet.flatten(customHeaderStyle || {}),
      _reactNative$StyleShe2 = _reactNative$StyleShe.height,
      height = _reactNative$StyleShe2 === void 0 ? defaultHeight : _reactNative$StyleShe2,
      minHeight = _reactNative$StyleShe.minHeight,
      maxHeight = _reactNative$StyleShe.maxHeight,
      backgroundColor = _reactNative$StyleShe.backgroundColor,
      borderBottomColor = _reactNative$StyleShe.borderBottomColor,
      borderBottomEndRadius = _reactNative$StyleShe.borderBottomEndRadius,
      borderBottomLeftRadius = _reactNative$StyleShe.borderBottomLeftRadius,
      borderBottomRightRadius = _reactNative$StyleShe.borderBottomRightRadius,
      borderBottomStartRadius = _reactNative$StyleShe.borderBottomStartRadius,
      borderBottomWidth = _reactNative$StyleShe.borderBottomWidth,
      borderColor = _reactNative$StyleShe.borderColor,
      borderEndColor = _reactNative$StyleShe.borderEndColor,
      borderEndWidth = _reactNative$StyleShe.borderEndWidth,
      borderLeftColor = _reactNative$StyleShe.borderLeftColor,
      borderLeftWidth = _reactNative$StyleShe.borderLeftWidth,
      borderRadius = _reactNative$StyleShe.borderRadius,
      borderRightColor = _reactNative$StyleShe.borderRightColor,
      borderRightWidth = _reactNative$StyleShe.borderRightWidth,
      borderStartColor = _reactNative$StyleShe.borderStartColor,
      borderStartWidth = _reactNative$StyleShe.borderStartWidth,
      borderStyle = _reactNative$StyleShe.borderStyle,
      borderTopColor = _reactNative$StyleShe.borderTopColor,
      borderTopEndRadius = _reactNative$StyleShe.borderTopEndRadius,
      borderTopLeftRadius = _reactNative$StyleShe.borderTopLeftRadius,
      borderTopRightRadius = _reactNative$StyleShe.borderTopRightRadius,
      borderTopStartRadius = _reactNative$StyleShe.borderTopStartRadius,
      borderTopWidth = _reactNative$StyleShe.borderTopWidth,
      borderWidth = _reactNative$StyleShe.borderWidth,
      boxShadow = _reactNative$StyleShe.boxShadow,
      elevation = _reactNative$StyleShe.elevation,
      shadowColor = _reactNative$StyleShe.shadowColor,
      shadowOffset = _reactNative$StyleShe.shadowOffset,
      shadowOpacity = _reactNative$StyleShe.shadowOpacity,
      shadowRadius = _reactNative$StyleShe.shadowRadius,
      opacity = _reactNative$StyleShe.opacity,
      transform = _reactNative$StyleShe.transform,
      unsafeStyles = (0, _objectWithoutProperties2.default)(_reactNative$StyleShe, _excluded);

  if (process.env.NODE_ENV !== 'production') {
    warnIfHeaderStylesDefined(unsafeStyles);
  }

  var safeStyles = {
    backgroundColor: backgroundColor,
    borderBottomColor: borderBottomColor,
    borderBottomEndRadius: borderBottomEndRadius,
    borderBottomLeftRadius: borderBottomLeftRadius,
    borderBottomRightRadius: borderBottomRightRadius,
    borderBottomStartRadius: borderBottomStartRadius,
    borderBottomWidth: borderBottomWidth,
    borderColor: borderColor,
    borderEndColor: borderEndColor,
    borderEndWidth: borderEndWidth,
    borderLeftColor: borderLeftColor,
    borderLeftWidth: borderLeftWidth,
    borderRadius: borderRadius,
    borderRightColor: borderRightColor,
    borderRightWidth: borderRightWidth,
    borderStartColor: borderStartColor,
    borderStartWidth: borderStartWidth,
    borderStyle: borderStyle,
    borderTopColor: borderTopColor,
    borderTopEndRadius: borderTopEndRadius,
    borderTopLeftRadius: borderTopLeftRadius,
    borderTopRightRadius: borderTopRightRadius,
    borderTopStartRadius: borderTopStartRadius,
    borderTopWidth: borderTopWidth,
    borderWidth: borderWidth,
    boxShadow: boxShadow,
    elevation: elevation,
    shadowColor: shadowColor,
    shadowOffset: shadowOffset,
    shadowOpacity: shadowOpacity,
    shadowRadius: shadowRadius,
    opacity: opacity,
    transform: transform
  };

  for (var styleProp in safeStyles) {
    if (safeStyles[styleProp] === undefined) {
      delete safeStyles[styleProp];
    }
  }

  var _getInterpolatedStyle = getInterpolatedStyle(styleInterpolator, layout, scene.progress.current, scene.progress.next, titleLayout, previousTitle ? leftLabelLayout : undefined, typeof height === 'number' ? height : defaultHeight),
      titleStyle = _getInterpolatedStyle.titleStyle,
      leftButtonStyle = _getInterpolatedStyle.leftButtonStyle,
      leftLabelStyle = _getInterpolatedStyle.leftLabelStyle,
      rightButtonStyle = _getInterpolatedStyle.rightButtonStyle,
      backgroundStyle = _getInterpolatedStyle.backgroundStyle;

  var leftButton = left ? left({
    backImage: backImage,
    pressColorAndroid: pressColorAndroid,
    accessibilityLabel: backAccessibilityLabel,
    allowFontScaling: backAllowFontScaling,
    onPress: onGoBack,
    labelVisible: headerBackTitleVisible,
    label: leftLabel !== undefined ? leftLabel : previousTitle,
    truncatedLabel: truncatedLabel,
    labelStyle: [leftLabelStyle, customLeftLabelStyle],
    onLabelLayout: handleLeftLabelLayout,
    screenLayout: layout,
    titleLayout: titleLayout,
    tintColor: headerTintColor,
    canGoBack: Boolean(onGoBack)
  }) : null;
  var rightButton = right ? right({
    tintColor: headerTintColor
  }) : null;
  return React.createElement(React.Fragment, null, React.createElement(_reactNative.Animated.View, {
    pointerEvents: "box-none",
    style: [_reactNative.StyleSheet.absoluteFill, {
      zIndex: 0
    }, backgroundStyle]
  }, headerBackground ? headerBackground({
    style: safeStyles
  }) : headerTransparent ? null : React.createElement(_HeaderBackground.default, {
    style: safeStyles
  })), React.createElement(_reactNative.Animated.View, {
    pointerEvents: "box-none",
    style: [{
      height: height,
      minHeight: minHeight,
      maxHeight: maxHeight,
      opacity: opacity,
      transform: transform
    }]
  }, React.createElement(_reactNative.View, {
    pointerEvents: "none",
    style: {
      height: headerStatusBarHeight
    }
  }), React.createElement(_reactNative.View, {
    pointerEvents: "box-none",
    style: styles.content
  }, leftButton ? React.createElement(_reactNative.Animated.View, {
    pointerEvents: "box-none",
    style: [styles.left, {
      left: insets.left
    }, leftButtonStyle, leftContainerStyle]
  }, leftButton) : null, React.createElement(_reactNative.Animated.View, {
    pointerEvents: "box-none",
    style: [headerTitleAlign === 'left' ? {
      position: 'absolute',
      left: (leftButton ? 72 : 16) + insets.left,
      right: (rightButton ? 72 : 16) + insets.right
    } : {
      marginHorizontal: (leftButton ? 32 : 16) + (leftButton && headerBackTitleVisible !== false ? 40 : 0) + Math.max(insets.left, insets.right)
    }, titleStyle, titleContainerStyle]
  }, headerTitle({
    children: currentTitle,
    onLayout: handleTitleLayout,
    allowFontScaling: titleAllowFontScaling,
    tintColor: headerTintColor,
    style: customTitleStyle
  })), rightButton ? React.createElement(_reactNative.Animated.View, {
    pointerEvents: "box-none",
    style: [styles.right, {
      right: insets.right
    }, rightButtonStyle, rightContainerStyle]
  }, rightButton) : null)));
}

var styles = _reactNative.StyleSheet.create({
  content: {
    flex: 1,
    flexDirection: 'row',
    alignItems: 'center',
    justifyContent: 'center'
  },
  left: {
    position: 'absolute',
    left: 0,
    top: 0,
    bottom: 0,
    justifyContent: 'center',
    alignItems: 'flex-start'
  },
  right: {
    position: 'absolute',
    right: 0,
    top: 0,
    bottom: 0,
    justifyContent: 'center',
    alignItems: 'flex-end'
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkhlYWRlclNlZ21lbnQudHN4Il0sIm5hbWVzIjpbIndhcm5JZkhlYWRlclN0eWxlc0RlZmluZWQiLCJzdHlsZXMiLCJPYmplY3QiLCJzdHlsZVByb3AiLCJ2YWx1ZSIsImNvbnNvbGUiLCJnZXREZWZhdWx0SGVhZGVySGVpZ2h0IiwiaXNMYW5kc2NhcGUiLCJsYXlvdXQiLCJQbGF0Zm9ybSIsImhlYWRlckhlaWdodCIsIlJlYWN0IiwiaXNQYXJlbnRIZWFkZXJTaG93biIsIkhlYWRlclNob3duQ29udGV4dCIsImhhbmRsZVRpdGxlTGF5b3V0IiwiZSIsIndpZHRoIiwic2V0VGl0bGVMYXlvdXQiLCJ0aXRsZUxheW91dCIsImhlaWdodCIsImhhbmRsZUxlZnRMYWJlbExheW91dCIsImxlZnRMYWJlbExheW91dCIsInNldExlZnRMYWJlbExheW91dCIsImdldEludGVycG9sYXRlZFN0eWxlIiwic3R5bGVJbnRlcnBvbGF0b3IiLCJjdXJyZW50IiwicHJvZ3Jlc3MiLCJuZXh0IiwibGF5b3V0cyIsImhlYWRlciIsInNjcmVlbiIsInRpdGxlIiwibGVmdExhYmVsIiwiaGVhZGVyVGl0bGVBbGlnbiIsImlvcyIsImRlZmF1bHQiLCJoZWFkZXJMZWZ0IiwibGVmdCIsIm9uR29CYWNrIiwicHJvcHMiLCJoZWFkZXJSaWdodCIsImhlYWRlckJhY2tJbWFnZSIsImhlYWRlckJhY2tUaXRsZSIsImhlYWRlclRydW5jYXRlZEJhY2tUaXRsZSIsImhlYWRlclByZXNzQ29sb3JBbmRyb2lkIiwiaGVhZGVyQmFja0FjY2Vzc2liaWxpdHlMYWJlbCIsImhlYWRlckJhY2tBbGxvd0ZvbnRTY2FsaW5nIiwiaGVhZGVyVGl0bGVBbGxvd0ZvbnRTY2FsaW5nIiwiaGVhZGVyVGl0bGVTdHlsZSIsImhlYWRlckJhY2tUaXRsZVN0eWxlIiwiaGVhZGVyTGVmdENvbnRhaW5lclN0eWxlIiwiaGVhZGVyUmlnaHRDb250YWluZXJTdHlsZSIsImhlYWRlclRpdGxlQ29udGFpbmVyU3R5bGUiLCJoZWFkZXJTdHlsZSIsImhlYWRlclN0YXR1c0JhckhlaWdodCIsImluc2V0cyIsImRlZmF1bHRIZWlnaHQiLCJ1bnNhZmVTdHlsZXMiLCJTdHlsZVNoZWV0IiwiY3VzdG9tSGVhZGVyU3R5bGUiLCJwcm9jZXNzIiwic2FmZVN0eWxlcyIsImJhY2tncm91bmRDb2xvciIsImJvcmRlckJvdHRvbUNvbG9yIiwiYm9yZGVyQm90dG9tRW5kUmFkaXVzIiwiYm9yZGVyQm90dG9tTGVmdFJhZGl1cyIsImJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzIiwiYm9yZGVyQm90dG9tU3RhcnRSYWRpdXMiLCJib3JkZXJCb3R0b21XaWR0aCIsImJvcmRlckNvbG9yIiwiYm9yZGVyRW5kQ29sb3IiLCJib3JkZXJFbmRXaWR0aCIsImJvcmRlckxlZnRDb2xvciIsImJvcmRlckxlZnRXaWR0aCIsImJvcmRlclJhZGl1cyIsImJvcmRlclJpZ2h0Q29sb3IiLCJib3JkZXJSaWdodFdpZHRoIiwiYm9yZGVyU3RhcnRDb2xvciIsImJvcmRlclN0YXJ0V2lkdGgiLCJib3JkZXJTdHlsZSIsImJvcmRlclRvcENvbG9yIiwiYm9yZGVyVG9wRW5kUmFkaXVzIiwiYm9yZGVyVG9wTGVmdFJhZGl1cyIsImJvcmRlclRvcFJpZ2h0UmFkaXVzIiwiYm9yZGVyVG9wU3RhcnRSYWRpdXMiLCJib3JkZXJUb3BXaWR0aCIsImJvcmRlcldpZHRoIiwiYm94U2hhZG93IiwiZWxldmF0aW9uIiwic2hhZG93Q29sb3IiLCJzaGFkb3dPZmZzZXQiLCJzaGFkb3dPcGFjaXR5Iiwic2hhZG93UmFkaXVzIiwib3BhY2l0eSIsInRyYW5zZm9ybSIsImJhY2tncm91bmRTdHlsZSIsInNjZW5lIiwicHJldmlvdXNUaXRsZSIsImxlZnRCdXR0b24iLCJiYWNrSW1hZ2UiLCJwcmVzc0NvbG9yQW5kcm9pZCIsImFjY2Vzc2liaWxpdHlMYWJlbCIsImFsbG93Rm9udFNjYWxpbmciLCJvblByZXNzIiwibGFiZWxWaXNpYmxlIiwibGFiZWwiLCJ0cnVuY2F0ZWRMYWJlbCIsImxhYmVsU3R5bGUiLCJvbkxhYmVsTGF5b3V0Iiwic2NyZWVuTGF5b3V0IiwidGludENvbG9yIiwiY2FuR29CYWNrIiwiQm9vbGVhbiIsInJpZ2h0QnV0dG9uIiwicmlnaHQiLCJoZWFkZXJUaW50Q29sb3IiLCJ6SW5kZXgiLCJoZWFkZXJCYWNrZ3JvdW5kIiwic3R5bGUiLCJoZWFkZXJUcmFuc3BhcmVudCIsIm1pbkhlaWdodCIsIm1heEhlaWdodCIsImNvbnRlbnQiLCJwb3NpdGlvbiIsIm1hcmdpbkhvcml6b250YWwiLCJoZWFkZXJCYWNrVGl0bGVWaXNpYmxlIiwiTWF0aCIsImhlYWRlclRpdGxlIiwiY2hpbGRyZW4iLCJvbkxheW91dCIsImN1c3RvbVRpdGxlU3R5bGUiLCJmbGV4IiwiZmxleERpcmVjdGlvbiIsImFsaWduSXRlbXMiLCJqdXN0aWZ5Q29udGVudCIsInRvcCIsImJvdHRvbSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBQSxLQUFBLEdBQUEsdUJBQUEsQ0FBQSxPQUFBLENBQUEsT0FBQSxDQUFBLENBQUE7O0FBQ0EsSUFBQSxZQUFBLEdBQUEsT0FBQSxDQUFBLGNBQUEsQ0FBQTs7QUFVQSxJQUFBLGlCQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFBLHNCQUFBLENBQUE7O0FBQ0EsSUFBQSxpQkFBQSxHQUFBLHNCQUFBLENBQUEsT0FBQSxzQkFBQSxDQUFBOztBQUNBLElBQUEsbUJBQUEsR0FBQSxzQkFBQSxDQUFBLE9BQUEsa0NBQUEsQ0FBQTs7QUFDQSxJQUFBLFFBQUEsR0FBQSxzQkFBQSxDQUFBLE9BQUEsdUJBQUEsQ0FBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBcUJBLElBQU1BLHlCQUF5QixHQUFJQyxTQUE3QkQseUJBQTZCQyxDQUFBQSxNQUFELEVBQWlDO0FBQ2pFQyxFQUFBQSxNQUFNLENBQU5BLElBQUFBLENBQUFBLE1BQUFBLEVBQUFBLE9BQUFBLENBQTZCQyxVQUFBQSxT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SUFBQUEsY0FBYyxFQUxWLFFBQUE7QUFNSkQsSUFBQUEsVUFBVSxFQUFFO0FBTlIsR0FQeUI7QUFlL0JuQixFQUFBQSxLQUFLLEVBQUU7QUFDTFMsSUFBQUEsUUFBUSxFQURILFVBQUE7QUFFTFQsSUFBQUEsS0FBSyxFQUZBLENBQUE7QUFHTHFCLElBQUFBLEdBQUcsRUFIRSxDQUFBO0FBSUxDLElBQUFBLE1BQU0sRUFKRCxDQUFBO0FBS0xGLElBQUFBLGNBQWMsRUFMVCxRQUFBO0FBTUxELElBQUFBLFVBQVUsRUFBRTtBQU5QO0FBZndCLENBQWxCLENBQWYiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge1xuICBBbmltYXRlZCxcbiAgVmlldyxcbiAgU3R5bGVTaGVldCxcbiAgTGF5b3V0Q2hhbmdlRXZlbnQsXG4gIFBsYXRmb3JtLFxuICBWaWV3U3R5bGUsXG59IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgdHlwZSB7IEVkZ2VJbnNldHMgfSBmcm9tICdyZWFjdC1uYXRpdmUtc2FmZS1hcmVhLWNvbnRleHQnO1xuaW1wb3J0IHR5cGUgeyBSb3V0ZSB9IGZyb20gJ0ByZWFjdC1uYXZpZ2F0aW9uL25hdGl2ZSc7XG5pbXBvcnQgSGVhZGVyQmFja0J1dHRvbiBmcm9tICcuL0hlYWRlckJhY2tCdXR0b24nO1xuaW1wb3J0IEhlYWRlckJhY2tncm91bmQgZnJvbSAnLi9IZWFkZXJCYWNrZ3JvdW5kJztcbmltcG9ydCBIZWFkZXJTaG93bkNvbnRleHQgZnJvbSAnLi4vLi4vdXRpbHMvSGVhZGVyU2hvd25Db250ZXh0JztcbmltcG9ydCBtZW1vaXplIGZyb20gJy4uLy4uL3V0aWxzL21lbW9pemUnO1xuaW1wb3J0IHR5cGUge1xuICBMYXlvdXQsXG4gIFN0YWNrSGVhZGVyU3R5bGVJbnRlcnBvbGF0b3IsXG4gIFN0YWNrSGVhZGVyTGVmdEJ1dHRvblByb3BzLFxuICBTdGFja0hlYWRlclRpdGxlUHJvcHMsXG4gIFN0YWNrSGVhZGVyT3B0aW9ucyxcbiAgU2NlbmUsXG59IGZyb20gJy4uLy4uL3R5cGVzJztcblxudHlwZSBQcm9wcyA9IFN0YWNrSGVhZGVyT3B0aW9ucyAmIHtcbiAgaGVhZGVyVGl0bGU6IChwcm9wczogU3RhY2tIZWFkZXJUaXRsZVByb3BzKSA9PiBSZWFjdC5SZWFjdE5vZGU7XG4gIGxheW91dDogTGF5b3V0O1xuICBpbnNldHM6IEVkZ2VJbnNldHM7XG4gIG9uR29CYWNrPzogKCkgPT4gdm9pZDtcbiAgdGl0bGU/OiBzdHJpbmc7XG4gIGxlZnRMYWJlbD86IHN0cmluZztcbiAgc2NlbmU6IFNjZW5lPFJvdXRlPHN0cmluZz4+O1xuICBzdHlsZUludGVycG9sYXRvcjogU3RhY2tIZWFkZXJTdHlsZUludGVycG9sYXRvcjtcbn07XG5cbmNvbnN0IHdhcm5JZkhlYWRlclN0eWxlc0RlZmluZWQgPSAoc3R5bGVzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSA9PiB7XG4gIE9iamVjdC5rZXlzKHN0eWxlcykuZm9yRWFjaCgoc3R5bGVQcm9wKSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBzdHlsZXNbc3R5bGVQcm9wXTtcblxuICAgIGlmIChzdHlsZVByb3AgPT09ICdwb3NpdGlvbicgJiYgdmFsdWUgPT09ICdhYnNvbHV0ZScpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgXCJwb3NpdGlvbjogJ2Fic29sdXRlJyBpcyBub3Qgc3VwcG9ydGVkIG9uIGhlYWRlclN0eWxlLiBJZiB5b3Ugd291bGQgbGlrZSB0byByZW5kZXIgY29udGVudCB1bmRlciB0aGUgaGVhZGVyLCB1c2UgdGhlICdoZWFkZXJUcmFuc3BhcmVudCcgbmF2aWdhdGlvbk9wdGlvbi5cIlxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgYCR7c3R5bGVQcm9wfSB3YXMgZ2l2ZW4gYSB2YWx1ZSBvZiAke3ZhbHVlfSwgdGhpcyBoYXMgbm8gZWZmZWN0IG9uIGhlYWRlclN0eWxlLmBcbiAgICAgICk7XG4gICAgfVxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXREZWZhdWx0SGVhZGVySGVpZ2h0ID0gKFxuICBsYXlvdXQ6IExheW91dCxcbiAgc3RhdHVzQmFySGVpZ2h0OiBudW1iZXJcbik6IG51bWJlciA9PiB7XG4gIGNvbnN0IGlzTGFuZHNjYXBlID0gbGF5b3V0LndpZHRoID4gbGF5b3V0LmhlaWdodDtcblxuICBsZXQgaGVhZGVySGVpZ2h0O1xuXG4gIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2lvcycpIHtcbiAgICBpZiAoaXNMYW5kc2NhcGUgJiYgIVBsYXRmb3JtLmlzUGFkKSB7XG4gICAgICBoZWFkZXJIZWlnaHQgPSAzMjtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVhZGVySGVpZ2h0ID0gNDQ7XG4gICAgfVxuICB9IGVsc2UgaWYgKFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcpIHtcbiAgICBoZWFkZXJIZWlnaHQgPSA1NjtcbiAgfSBlbHNlIHtcbiAgICBoZWFkZXJIZWlnaHQgPSA2NDtcbiAgfVxuXG4gIHJldHVybiBoZWFkZXJIZWlnaHQgKyBzdGF0dXNCYXJIZWlnaHQ7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBIZWFkZXJTZWdtZW50KHByb3BzOiBQcm9wcykge1xuICBjb25zdCBbbGVmdExhYmVsTGF5b3V0LCBzZXRMZWZ0TGFiZWxMYXlvdXRdID0gUmVhY3QudXNlU3RhdGU8XG4gICAgTGF5b3V0IHwgdW5kZWZpbmVkXG4gID4odW5kZWZpbmVkKTtcblxuICBjb25zdCBbdGl0bGVMYXlvdXQsIHNldFRpdGxlTGF5b3V0XSA9IFJlYWN0LnVzZVN0YXRlPExheW91dCB8IHVuZGVmaW5lZD4oXG4gICAgdW5kZWZpbmVkXG4gICk7XG5cbiAgY29uc3QgaXNQYXJlbnRIZWFkZXJTaG93biA9IFJlYWN0LnVzZUNvbnRleHQoSGVhZGVyU2hvd25Db250ZXh0KTtcblxuICBjb25zdCBoYW5kbGVUaXRsZUxheW91dCA9IChlOiBMYXlvdXRDaGFuZ2VFdmVudCkgPT4ge1xuICAgIGNvbnN0IHsgaGVpZ2h0LCB3aWR0aCB9ID0gZS5uYXRpdmVFdmVudC5sYXlvdXQ7XG5cbiAgICBzZXRUaXRsZUxheW91dCgodGl0bGVMYXlvdXQpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgdGl0bGVMYXlvdXQgJiZcbiAgICAgICAgaGVpZ2h0ID09PSB0aXRsZUxheW91dC5oZWlnaHQgJiZcbiAgICAgICAgd2lkdGggPT09IHRpdGxlTGF5b3V0LndpZHRoXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIHRpdGxlTGF5b3V0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4geyBoZWlnaHQsIHdpZHRoIH07XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlTGVmdExhYmVsTGF5b3V0ID0gKGU6IExheW91dENoYW5nZUV2ZW50KSA9PiB7XG4gICAgY29uc3QgeyBoZWlnaHQsIHdpZHRoIH0gPSBlLm5hdGl2ZUV2ZW50LmxheW91dDtcblxuICAgIGlmIChcbiAgICAgIGxlZnRMYWJlbExheW91dCAmJlxuICAgICAgaGVpZ2h0ID09PSBsZWZ0TGFiZWxMYXlvdXQuaGVpZ2h0ICYmXG4gICAgICB3aWR0aCA9PT0gbGVmdExhYmVsTGF5b3V0LndpZHRoXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0TGVmdExhYmVsTGF5b3V0KHsgaGVpZ2h0LCB3aWR0aCB9KTtcbiAgfTtcblxuICBjb25zdCBnZXRJbnRlcnBvbGF0ZWRTdHlsZSA9IG1lbW9pemUoXG4gICAgKFxuICAgICAgc3R5bGVJbnRlcnBvbGF0b3I6IFN0YWNrSGVhZGVyU3R5bGVJbnRlcnBvbGF0b3IsXG4gICAgICBsYXlvdXQ6IExheW91dCxcbiAgICAgIGN1cnJlbnQ6IEFuaW1hdGVkLkFuaW1hdGVkSW50ZXJwb2xhdGlvbixcbiAgICAgIG5leHQ6IEFuaW1hdGVkLkFuaW1hdGVkSW50ZXJwb2xhdGlvbiB8IHVuZGVmaW5lZCxcbiAgICAgIHRpdGxlTGF5b3V0OiBMYXlvdXQgfCB1bmRlZmluZWQsXG4gICAgICBsZWZ0TGFiZWxMYXlvdXQ6IExheW91dCB8IHVuZGVmaW5lZCxcbiAgICAgIGhlYWRlckhlaWdodDogbnVtYmVyXG4gICAgKSA9PlxuICAgICAgc3R5bGVJbnRlcnBvbGF0b3Ioe1xuICAgICAgICBjdXJyZW50OiB7IHByb2dyZXNzOiBjdXJyZW50IH0sXG4gICAgICAgIG5leHQ6IG5leHQgJiYgeyBwcm9ncmVzczogbmV4dCB9LFxuICAgICAgICBsYXlvdXRzOiB7XG4gICAgICAgICAgaGVhZGVyOiB7XG4gICAgICAgICAgICBoZWlnaHQ6IGhlYWRlckhlaWdodCxcbiAgICAgICAgICAgIHdpZHRoOiBsYXlvdXQud2lkdGgsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzY3JlZW46IGxheW91dCxcbiAgICAgICAgICB0aXRsZTogdGl0bGVMYXlvdXQsXG4gICAgICAgICAgbGVmdExhYmVsOiBsZWZ0TGFiZWxMYXlvdXQsXG4gICAgICAgIH0sXG4gICAgICB9KVxuICApO1xuXG4gIGNvbnN0IHtcbiAgICBzY2VuZSxcbiAgICBsYXlvdXQsXG4gICAgaW5zZXRzLFxuICAgIHRpdGxlOiBjdXJyZW50VGl0bGUsXG4gICAgbGVmdExhYmVsOiBwcmV2aW91c1RpdGxlLFxuICAgIG9uR29CYWNrLFxuICAgIGhlYWRlclRpdGxlLFxuICAgIGhlYWRlclRpdGxlQWxpZ24gPSBQbGF0Zm9ybS5zZWxlY3Qoe1xuICAgICAgaW9zOiAnY2VudGVyJyxcbiAgICAgIGRlZmF1bHQ6ICdsZWZ0JyxcbiAgICB9KSxcbiAgICBoZWFkZXJMZWZ0OiBsZWZ0ID0gb25Hb0JhY2tcbiAgICAgID8gKHByb3BzOiBTdGFja0hlYWRlckxlZnRCdXR0b25Qcm9wcykgPT4gPEhlYWRlckJhY2tCdXR0b24gey4uLnByb3BzfSAvPlxuICAgICAgOiB1bmRlZmluZWQsXG4gICAgaGVhZGVyVHJhbnNwYXJlbnQsXG4gICAgaGVhZGVyVGludENvbG9yLFxuICAgIGhlYWRlckJhY2tncm91bmQsXG4gICAgaGVhZGVyUmlnaHQ6IHJpZ2h0LFxuICAgIGhlYWRlckJhY2tJbWFnZTogYmFja0ltYWdlLFxuICAgIGhlYWRlckJhY2tUaXRsZTogbGVmdExhYmVsLFxuICAgIGhlYWRlckJhY2tUaXRsZVZpc2libGUsXG4gICAgaGVhZGVyVHJ1bmNhdGVkQmFja1RpdGxlOiB0cnVuY2F0ZWRMYWJlbCxcbiAgICBoZWFkZXJQcmVzc0NvbG9yQW5kcm9pZDogcHJlc3NDb2xvckFuZHJvaWQsXG4gICAgaGVhZGVyQmFja0FjY2Vzc2liaWxpdHlMYWJlbDogYmFja0FjY2Vzc2liaWxpdHlMYWJlbCxcbiAgICBoZWFkZXJCYWNrQWxsb3dGb250U2NhbGluZzogYmFja0FsbG93Rm9udFNjYWxpbmcsXG4gICAgaGVhZGVyVGl0bGVBbGxvd0ZvbnRTY2FsaW5nOiB0aXRsZUFsbG93Rm9udFNjYWxpbmcsXG4gICAgaGVhZGVyVGl0bGVTdHlsZTogY3VzdG9tVGl0bGVTdHlsZSxcbiAgICBoZWFkZXJCYWNrVGl0bGVTdHlsZTogY3VzdG9tTGVmdExhYmVsU3R5bGUsXG4gICAgaGVhZGVyTGVmdENvbnRhaW5lclN0eWxlOiBsZWZ0Q29udGFpbmVyU3R5bGUsXG4gICAgaGVhZGVyUmlnaHRDb250YWluZXJTdHlsZTogcmlnaHRDb250YWluZXJTdHlsZSxcbiAgICBoZWFkZXJUaXRsZUNvbnRhaW5lclN0eWxlOiB0aXRsZUNvbnRhaW5lclN0eWxlLFxuICAgIGhlYWRlclN0eWxlOiBjdXN0b21IZWFkZXJTdHlsZSxcbiAgICBoZWFkZXJTdGF0dXNCYXJIZWlnaHQgPSBpc1BhcmVudEhlYWRlclNob3duID8gMCA6IGluc2V0cy50b3AsXG4gICAgc3R5bGVJbnRlcnBvbGF0b3IsXG4gIH0gPSBwcm9wcztcblxuICBjb25zdCBkZWZhdWx0SGVpZ2h0ID0gZ2V0RGVmYXVsdEhlYWRlckhlaWdodChsYXlvdXQsIGhlYWRlclN0YXR1c0JhckhlaWdodCk7XG5cbiAgY29uc3Qge1xuICAgIGhlaWdodCA9IGRlZmF1bHRIZWlnaHQsXG4gICAgbWluSGVpZ2h0LFxuICAgIG1heEhlaWdodCxcbiAgICBiYWNrZ3JvdW5kQ29sb3IsXG4gICAgYm9yZGVyQm90dG9tQ29sb3IsXG4gICAgYm9yZGVyQm90dG9tRW5kUmFkaXVzLFxuICAgIGJvcmRlckJvdHRvbUxlZnRSYWRpdXMsXG4gICAgYm9yZGVyQm90dG9tUmlnaHRSYWRpdXMsXG4gICAgYm9yZGVyQm90dG9tU3RhcnRSYWRpdXMsXG4gICAgYm9yZGVyQm90dG9tV2lkdGgsXG4gICAgYm9yZGVyQ29sb3IsXG4gICAgYm9yZGVyRW5kQ29sb3IsXG4gICAgYm9yZGVyRW5kV2lkdGgsXG4gICAgYm9yZGVyTGVmdENvbG9yLFxuICAgIGJvcmRlckxlZnRXaWR0aCxcbiAgICBib3JkZXJSYWRpdXMsXG4gICAgYm9yZGVyUmlnaHRDb2xvcixcbiAgICBib3JkZXJSaWdodFdpZHRoLFxuICAgIGJvcmRlclN0YXJ0Q29sb3IsXG4gICAgYm9yZGVyU3RhcnRXaWR0aCxcbiAgICBib3JkZXJTdHlsZSxcbiAgICBib3JkZXJUb3BDb2xvcixcbiAgICBib3JkZXJUb3BFbmRSYWRpdXMsXG4gICAgYm9yZGVyVG9wTGVmdFJhZGl1cyxcbiAgICBib3JkZXJUb3BSaWdodFJhZGl1cyxcbiAgICBib3JkZXJUb3BTdGFydFJhZGl1cyxcbiAgICBib3JkZXJUb3BXaWR0aCxcbiAgICBib3JkZXJXaWR0aCxcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiB3ZWIgc3VwcG9ydCBmb3Igc2hhZG93XG4gICAgYm94U2hhZG93LFxuICAgIGVsZXZhdGlvbixcbiAgICBzaGFkb3dDb2xvcixcbiAgICBzaGFkb3dPZmZzZXQsXG4gICAgc2hhZG93T3BhY2l0eSxcbiAgICBzaGFkb3dSYWRpdXMsXG4gICAgb3BhY2l0eSxcbiAgICB0cmFuc2Zvcm0sXG4gICAgLi4udW5zYWZlU3R5bGVzXG4gIH0gPSBTdHlsZVNoZWV0LmZsYXR0ZW4oY3VzdG9tSGVhZGVyU3R5bGUgfHwge30pIGFzIFZpZXdTdHlsZTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHdhcm5JZkhlYWRlclN0eWxlc0RlZmluZWQodW5zYWZlU3R5bGVzKTtcbiAgfVxuXG4gIGNvbnN0IHNhZmVTdHlsZXM6IFZpZXdTdHlsZSA9IHtcbiAgICBiYWNrZ3JvdW5kQ29sb3IsXG4gICAgYm9yZGVyQm90dG9tQ29sb3IsXG4gICAgYm9yZGVyQm90dG9tRW5kUmFkaXVzLFxuICAgIGJvcmRlckJvdHRvbUxlZnRSYWRpdXMsXG4gICAgYm9yZGVyQm90dG9tUmlnaHRSYWRpdXMsXG4gICAgYm9yZGVyQm90dG9tU3RhcnRSYWRpdXMsXG4gICAgYm9yZGVyQm90dG9tV2lkdGgsXG4gICAgYm9yZGVyQ29sb3IsXG4gICAgYm9yZGVyRW5kQ29sb3IsXG4gICAgYm9yZGVyRW5kV2lkdGgsXG4gICAgYm9yZGVyTGVmdENvbG9yLFxuICAgIGJvcmRlckxlZnRXaWR0aCxcbiAgICBib3JkZXJSYWRpdXMsXG4gICAgYm9yZGVyUmlnaHRDb2xvcixcbiAgICBib3JkZXJSaWdodFdpZHRoLFxuICAgIGJvcmRlclN0YXJ0Q29sb3IsXG4gICAgYm9yZGVyU3RhcnRXaWR0aCxcbiAgICBib3JkZXJTdHlsZSxcbiAgICBib3JkZXJUb3BDb2xvcixcbiAgICBib3JkZXJUb3BFbmRSYWRpdXMsXG4gICAgYm9yZGVyVG9wTGVmdFJhZGl1cyxcbiAgICBib3JkZXJUb3BSaWdodFJhZGl1cyxcbiAgICBib3JkZXJUb3BTdGFydFJhZGl1cyxcbiAgICBib3JkZXJUb3BXaWR0aCxcbiAgICBib3JkZXJXaWR0aCxcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBib3hTaGFkb3cgaXMgb25seSBmb3IgV2ViXG4gICAgYm94U2hhZG93LFxuICAgIGVsZXZhdGlvbixcbiAgICBzaGFkb3dDb2xvcixcbiAgICBzaGFkb3dPZmZzZXQsXG4gICAgc2hhZG93T3BhY2l0eSxcbiAgICBzaGFkb3dSYWRpdXMsXG4gICAgb3BhY2l0eSxcbiAgICB0cmFuc2Zvcm0sXG4gIH07XG5cbiAgLy8gU2V0dGluZyBhIHByb3BlcnR5IHRvIHVuZGVmaW5lZCB0cmlnZ2VycyBkZWZhdWx0IHN0eWxlXG4gIC8vIFNvIHdlIG5lZWQgdG8gZmlsdGVyIHRoZW0gb3V0XG4gIC8vIFVzZXJzIGNhbiB1c2UgYG51bGxgIGluc3RlYWRcbiAgZm9yIChjb25zdCBzdHlsZVByb3AgaW4gc2FmZVN0eWxlcykge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHR5cGVzY3JpcHQgd3JvbmdseSBjb21wbGFpbnMgdGhhdCBzdHlsZVByb3AgY2Fubm90IGJlIHVzZWQgdG8gaW5kZXggc2FmZVN0eWxlc1xuICAgIGlmIChzYWZlU3R5bGVzW3N0eWxlUHJvcF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1keW5hbWljLWRlbGV0ZVxuICAgICAgZGVsZXRlIHNhZmVTdHlsZXNbc3R5bGVQcm9wXTtcbiAgICB9XG4gIH1cblxuICBjb25zdCB7XG4gICAgdGl0bGVTdHlsZSxcbiAgICBsZWZ0QnV0dG9uU3R5bGUsXG4gICAgbGVmdExhYmVsU3R5bGUsXG4gICAgcmlnaHRCdXR0b25TdHlsZSxcbiAgICBiYWNrZ3JvdW5kU3R5bGUsXG4gIH0gPSBnZXRJbnRlcnBvbGF0ZWRTdHlsZShcbiAgICBzdHlsZUludGVycG9sYXRvcixcbiAgICBsYXlvdXQsXG4gICAgc2NlbmUucHJvZ3Jlc3MuY3VycmVudCxcbiAgICBzY2VuZS5wcm9ncmVzcy5uZXh0LFxuICAgIHRpdGxlTGF5b3V0LFxuICAgIHByZXZpb3VzVGl0bGUgPyBsZWZ0TGFiZWxMYXlvdXQgOiB1bmRlZmluZWQsXG4gICAgdHlwZW9mIGhlaWdodCA9PT0gJ251bWJlcicgPyBoZWlnaHQgOiBkZWZhdWx0SGVpZ2h0XG4gICk7XG5cbiAgY29uc3QgbGVmdEJ1dHRvbiA9IGxlZnRcbiAgICA/IGxlZnQoe1xuICAgICAgICBiYWNrSW1hZ2UsXG4gICAgICAgIHByZXNzQ29sb3JBbmRyb2lkLFxuICAgICAgICBhY2Nlc3NpYmlsaXR5TGFiZWw6IGJhY2tBY2Nlc3NpYmlsaXR5TGFiZWwsXG4gICAgICAgIGFsbG93Rm9udFNjYWxpbmc6IGJhY2tBbGxvd0ZvbnRTY2FsaW5nLFxuICAgICAgICBvblByZXNzOiBvbkdvQmFjayxcbiAgICAgICAgbGFiZWxWaXNpYmxlOiBoZWFkZXJCYWNrVGl0bGVWaXNpYmxlLFxuICAgICAgICBsYWJlbDogbGVmdExhYmVsICE9PSB1bmRlZmluZWQgPyBsZWZ0TGFiZWwgOiBwcmV2aW91c1RpdGxlLFxuICAgICAgICB0cnVuY2F0ZWRMYWJlbCxcbiAgICAgICAgbGFiZWxTdHlsZTogW2xlZnRMYWJlbFN0eWxlLCBjdXN0b21MZWZ0TGFiZWxTdHlsZV0sXG4gICAgICAgIG9uTGFiZWxMYXlvdXQ6IGhhbmRsZUxlZnRMYWJlbExheW91dCxcbiAgICAgICAgc2NyZWVuTGF5b3V0OiBsYXlvdXQsXG4gICAgICAgIHRpdGxlTGF5b3V0LFxuICAgICAgICB0aW50Q29sb3I6IGhlYWRlclRpbnRDb2xvcixcbiAgICAgICAgY2FuR29CYWNrOiBCb29sZWFuKG9uR29CYWNrKSxcbiAgICAgIH0pXG4gICAgOiBudWxsO1xuXG4gIGNvbnN0IHJpZ2h0QnV0dG9uID0gcmlnaHQgPyByaWdodCh7IHRpbnRDb2xvcjogaGVhZGVyVGludENvbG9yIH0pIDogbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgIDxBbmltYXRlZC5WaWV3XG4gICAgICAgIHBvaW50ZXJFdmVudHM9XCJib3gtbm9uZVwiXG4gICAgICAgIHN0eWxlPXtbU3R5bGVTaGVldC5hYnNvbHV0ZUZpbGwsIHsgekluZGV4OiAwIH0sIGJhY2tncm91bmRTdHlsZV19XG4gICAgICA+XG4gICAgICAgIHtoZWFkZXJCYWNrZ3JvdW5kID8gKFxuICAgICAgICAgIGhlYWRlckJhY2tncm91bmQoeyBzdHlsZTogc2FmZVN0eWxlcyB9KVxuICAgICAgICApIDogaGVhZGVyVHJhbnNwYXJlbnQgPyBudWxsIDogKFxuICAgICAgICAgIDxIZWFkZXJCYWNrZ3JvdW5kIHN0eWxlPXtzYWZlU3R5bGVzfSAvPlxuICAgICAgICApfVxuICAgICAgPC9BbmltYXRlZC5WaWV3PlxuICAgICAgPEFuaW1hdGVkLlZpZXdcbiAgICAgICAgcG9pbnRlckV2ZW50cz1cImJveC1ub25lXCJcbiAgICAgICAgc3R5bGU9e1t7IGhlaWdodCwgbWluSGVpZ2h0LCBtYXhIZWlnaHQsIG9wYWNpdHksIHRyYW5zZm9ybSB9XX1cbiAgICAgID5cbiAgICAgICAgPFZpZXcgcG9pbnRlckV2ZW50cz1cIm5vbmVcIiBzdHlsZT17eyBoZWlnaHQ6IGhlYWRlclN0YXR1c0JhckhlaWdodCB9fSAvPlxuICAgICAgICA8VmlldyBwb2ludGVyRXZlbnRzPVwiYm94LW5vbmVcIiBzdHlsZT17c3R5bGVzLmNvbnRlbnR9PlxuICAgICAgICAgIHtsZWZ0QnV0dG9uID8gKFxuICAgICAgICAgICAgPEFuaW1hdGVkLlZpZXdcbiAgICAgICAgICAgICAgcG9pbnRlckV2ZW50cz1cImJveC1ub25lXCJcbiAgICAgICAgICAgICAgc3R5bGU9e1tcbiAgICAgICAgICAgICAgICBzdHlsZXMubGVmdCxcbiAgICAgICAgICAgICAgICB7IGxlZnQ6IGluc2V0cy5sZWZ0IH0sXG4gICAgICAgICAgICAgICAgbGVmdEJ1dHRvblN0eWxlLFxuICAgICAgICAgICAgICAgIGxlZnRDb250YWluZXJTdHlsZSxcbiAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2xlZnRCdXR0b259XG4gICAgICAgICAgICA8L0FuaW1hdGVkLlZpZXc+XG4gICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgPEFuaW1hdGVkLlZpZXdcbiAgICAgICAgICAgIHBvaW50ZXJFdmVudHM9XCJib3gtbm9uZVwiXG4gICAgICAgICAgICBzdHlsZT17W1xuICAgICAgICAgICAgICBoZWFkZXJUaXRsZUFsaWduID09PSAnbGVmdCdcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IChsZWZ0QnV0dG9uID8gNzIgOiAxNikgKyBpbnNldHMubGVmdCxcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IChyaWdodEJ1dHRvbiA/IDcyIDogMTYpICsgaW5zZXRzLnJpZ2h0LFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ib3Jpem9udGFsOlxuICAgICAgICAgICAgICAgICAgICAgIChsZWZ0QnV0dG9uID8gMzIgOiAxNikgK1xuICAgICAgICAgICAgICAgICAgICAgIChsZWZ0QnV0dG9uICYmIGhlYWRlckJhY2tUaXRsZVZpc2libGUgIT09IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IDQwXG4gICAgICAgICAgICAgICAgICAgICAgICA6IDApICtcbiAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heChpbnNldHMubGVmdCwgaW5zZXRzLnJpZ2h0KSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHRpdGxlU3R5bGUsXG4gICAgICAgICAgICAgIHRpdGxlQ29udGFpbmVyU3R5bGUsXG4gICAgICAgICAgICBdfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtoZWFkZXJUaXRsZSh7XG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBjdXJyZW50VGl0bGUsXG4gICAgICAgICAgICAgIG9uTGF5b3V0OiBoYW5kbGVUaXRsZUxheW91dCxcbiAgICAgICAgICAgICAgYWxsb3dGb250U2NhbGluZzogdGl0bGVBbGxvd0ZvbnRTY2FsaW5nLFxuICAgICAgICAgICAgICB0aW50Q29sb3I6IGhlYWRlclRpbnRDb2xvcixcbiAgICAgICAgICAgICAgc3R5bGU6IGN1c3RvbVRpdGxlU3R5bGUsXG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA8L0FuaW1hdGVkLlZpZXc+XG4gICAgICAgICAge3JpZ2h0QnV0dG9uID8gKFxuICAgICAgICAgICAgPEFuaW1hdGVkLlZpZXdcbiAgICAgICAgICAgICAgcG9pbnRlckV2ZW50cz1cImJveC1ub25lXCJcbiAgICAgICAgICAgICAgc3R5bGU9e1tcbiAgICAgICAgICAgICAgICBzdHlsZXMucmlnaHQsXG4gICAgICAgICAgICAgICAgeyByaWdodDogaW5zZXRzLnJpZ2h0IH0sXG4gICAgICAgICAgICAgICAgcmlnaHRCdXR0b25TdHlsZSxcbiAgICAgICAgICAgICAgICByaWdodENvbnRhaW5lclN0eWxlLFxuICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7cmlnaHRCdXR0b259XG4gICAgICAgICAgICA8L0FuaW1hdGVkLlZpZXc+XG4gICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgIDwvVmlldz5cbiAgICAgIDwvQW5pbWF0ZWQuVmlldz5cbiAgICA8L1JlYWN0LkZyYWdtZW50PlxuICApO1xufVxuXG5jb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gIGNvbnRlbnQ6IHtcbiAgICBmbGV4OiAxLFxuICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxuICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgfSxcbiAgbGVmdDoge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIGxlZnQ6IDAsXG4gICAgdG9wOiAwLFxuICAgIGJvdHRvbTogMCxcbiAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgYWxpZ25JdGVtczogJ2ZsZXgtc3RhcnQnLFxuICB9LFxuICByaWdodDoge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHJpZ2h0OiAwLFxuICAgIHRvcDogMCxcbiAgICBib3R0b206IDAsXG4gICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgIGFsaWduSXRlbXM6ICdmbGV4LWVuZCcsXG4gIH0sXG59KTtcbiJdfQ==