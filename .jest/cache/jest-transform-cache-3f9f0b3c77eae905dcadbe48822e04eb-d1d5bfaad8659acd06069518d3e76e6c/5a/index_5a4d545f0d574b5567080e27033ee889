28ad29056410478caaeacaaecf6d451a
'use strict';

var _interopRequireDefault2 = require("@babel/runtime/helpers/interopRequireDefault");

var _classCallCheck2 = _interopRequireDefault2(require("@babel/runtime/helpers/classCallCheck"));

var _inherits2 = _interopRequireDefault2(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault2(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault2(require("@babel/runtime/helpers/getPrototypeOf"));

var _wrapNativeSuper2 = _interopRequireDefault2(require("@babel/runtime/helpers/wrapNativeSuper"));

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var _ansiStyles = _interopRequireDefault(require('ansi-styles'));

var _collections = require("./collections");

var _AsymmetricMatcher = _interopRequireDefault(require("./plugins/AsymmetricMatcher"));

var _ConvertAnsi = _interopRequireDefault(require("./plugins/ConvertAnsi"));

var _DOMCollection = _interopRequireDefault(require("./plugins/DOMCollection"));

var _DOMElement = _interopRequireDefault(require("./plugins/DOMElement"));

var _Immutable = _interopRequireDefault(require("./plugins/Immutable"));

var _ReactElement = _interopRequireDefault(require("./plugins/ReactElement"));

var _ReactTestComponent = _interopRequireDefault(require("./plugins/ReactTestComponent"));

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}

var Symbol = global['jest-symbol-do-not-touch'] || global.Symbol;
var toString = Object.prototype.toString;
var toISOString = Date.prototype.toISOString;
var errorToString = Error.prototype.toString;
var regExpToString = RegExp.prototype.toString;
var symbolToString = Symbol.prototype.toString;

var getConstructorName = function getConstructorName(val) {
  return typeof val.constructor === 'function' && val.constructor.name || 'Object';
};

var isWindow = function isWindow(val) {
  return typeof window !== 'undefined' && val === window;
};

var SYMBOL_REGEXP = /^Symbol\((.*)\)(.*)$/;
var NEWLINE_REGEXP = /\n/gi;

var PrettyFormatPluginError = function (_Error) {
  (0, _inherits2.default)(PrettyFormatPluginError, _Error);

  var _super = _createSuper(PrettyFormatPluginError);

  function PrettyFormatPluginError(message, stack) {
    var _this;

    (0, _classCallCheck2.default)(this, PrettyFormatPluginError);
    _this = _super.call(this, message);
    _this.stack = stack;
    _this.name = _this.constructor.name;
    return _this;
  }

  return PrettyFormatPluginError;
}((0, _wrapNativeSuper2.default)(Error));

function isToStringedArrayType(toStringed) {
  return toStringed === '[object Array]' || toStringed === '[object ArrayBuffer]' || toStringed === '[object DataView]' || toStringed === '[object Float32Array]' || toStringed === '[object Float64Array]' || toStringed === '[object Int8Array]' || toStringed === '[object Int16Array]' || toStringed === '[object Int32Array]' || toStringed === '[object Uint8Array]' || toStringed === '[object Uint8ClampedArray]' || toStringed === '[object Uint16Array]' || toStringed === '[object Uint32Array]';
}

function printNumber(val) {
  return Object.is(val, -0) ? '-0' : String(val);
}

function printBigInt(val) {
  return String(val + "n");
}

function printFunction(val, printFunctionName) {
  if (!printFunctionName) {
    return '[Function]';
  }

  return '[Function ' + (val.name || 'anonymous') + ']';
}

function printSymbol(val) {
  return symbolToString.call(val).replace(SYMBOL_REGEXP, 'Symbol($1)');
}

function printError(val) {
  return '[' + errorToString.call(val) + ']';
}

function printBasicValue(val, printFunctionName, escapeRegex, escapeString) {
  if (val === true || val === false) {
    return '' + val;
  }

  if (val === undefined) {
    return 'undefined';
  }

  if (val === null) {
    return 'null';
  }

  var typeOf = typeof val;

  if (typeOf === 'number') {
    return printNumber(val);
  }

  if (typeOf === 'bigint') {
    return printBigInt(val);
  }

  if (typeOf === 'string') {
    if (escapeString) {
      return '"' + val.replace(/"|\\/g, '\\$&') + '"';
    }

    return '"' + val + '"';
  }

  if (typeOf === 'function') {
    return printFunction(val, printFunctionName);
  }

  if (typeOf === 'symbol') {
    return printSymbol(val);
  }

  var toStringed = toString.call(val);

  if (toStringed === '[object WeakMap]') {
    return 'WeakMap {}';
  }

  if (toStringed === '[object WeakSet]') {
    return 'WeakSet {}';
  }

  if (toStringed === '[object Function]' || toStringed === '[object GeneratorFunction]') {
    return printFunction(val, printFunctionName);
  }

  if (toStringed === '[object Symbol]') {
    return printSymbol(val);
  }

  if (toStringed === '[object Date]') {
    return isNaN(+val) ? 'Date { NaN }' : toISOString.call(val);
  }

  if (toStringed === '[object Error]') {
    return printError(val);
  }

  if (toStringed === '[object RegExp]') {
    if (escapeRegex) {
      return regExpToString.call(val).replace(/[\\^$*+?.()|[\]{}]/g, '\\$&');
    }

    return regExpToString.call(val);
  }

  if (val instanceof Error) {
    return printError(val);
  }

  return null;
}

function printComplexValue(val, config, indentation, depth, refs, hasCalledToJSON) {
  if (refs.indexOf(val) !== -1) {
    return '[Circular]';
  }

  refs = refs.slice();
  refs.push(val);
  var hitMaxDepth = ++depth > config.maxDepth;
  var min = config.min;

  if (config.callToJSON && !hitMaxDepth && val.toJSON && typeof val.toJSON === 'function' && !hasCalledToJSON) {
    return printer(val.toJSON(), config, indentation, depth, refs, true);
  }

  var toStringed = toString.call(val);

  if (toStringed === '[object Arguments]') {
    return hitMaxDepth ? '[Arguments]' : (min ? '' : 'Arguments ') + '[' + (0, _collections.printListItems)(val, config, indentation, depth, refs, printer) + ']';
  }

  if (isToStringedArrayType(toStringed)) {
    return hitMaxDepth ? '[' + val.constructor.name + ']' : (min ? '' : val.constructor.name + ' ') + '[' + (0, _collections.printListItems)(val, config, indentation, depth, refs, printer) + ']';
  }

  if (toStringed === '[object Map]') {
    return hitMaxDepth ? '[Map]' : 'Map {' + (0, _collections.printIteratorEntries)(val.entries(), config, indentation, depth, refs, printer, ' => ') + '}';
  }

  if (toStringed === '[object Set]') {
    return hitMaxDepth ? '[Set]' : 'Set {' + (0, _collections.printIteratorValues)(val.values(), config, indentation, depth, refs, printer) + '}';
  }

  return hitMaxDepth || isWindow(val) ? '[' + getConstructorName(val) + ']' : (min ? '' : getConstructorName(val) + ' ') + '{' + (0, _collections.printObjectProperties)(val, config, indentation, depth, refs, printer) + '}';
}

function isNewPlugin(plugin) {
  return plugin.serialize != null;
}

function printPlugin(plugin, val, config, indentation, depth, refs) {
  var printed;

  try {
    printed = isNewPlugin(plugin) ? plugin.serialize(val, config, indentation, depth, refs, printer) : plugin.print(val, function (valChild) {
      return printer(valChild, config, indentation, depth, refs);
    }, function (str) {
      var indentationNext = indentation + config.indent;
      return indentationNext + str.replace(NEWLINE_REGEXP, '\n' + indentationNext);
    }, {
      edgeSpacing: config.spacingOuter,
      min: config.min,
      spacing: config.spacingInner
    }, config.colors);
  } catch (error) {
    throw new PrettyFormatPluginError(error.message, error.stack);
  }

  if (typeof printed !== 'string') {
    throw new Error("pretty-format: Plugin must return type \"string\" but instead returned \"" + typeof printed + "\".");
  }

  return printed;
}

function findPlugin(plugins, val) {
  for (var p = 0; p < plugins.length; p++) {
    try {
      if (plugins[p].test(val)) {
        return plugins[p];
      }
    } catch (error) {
      throw new PrettyFormatPluginError(error.message, error.stack);
    }
  }

  return null;
}

function printer(val, config, indentation, depth, refs, hasCalledToJSON) {
  var plugin = findPlugin(config.plugins, val);

  if (plugin !== null) {
    return printPlugin(plugin, val, config, indentation, depth, refs);
  }

  var basicResult = printBasicValue(val, config.printFunctionName, config.escapeRegex, config.escapeString);

  if (basicResult !== null) {
    return basicResult;
  }

  return printComplexValue(val, config, indentation, depth, refs, hasCalledToJSON);
}

var DEFAULT_THEME = {
  comment: 'gray',
  content: 'reset',
  prop: 'yellow',
  tag: 'cyan',
  value: 'green'
};
var DEFAULT_THEME_KEYS = Object.keys(DEFAULT_THEME);
var DEFAULT_OPTIONS = {
  callToJSON: true,
  escapeRegex: false,
  escapeString: true,
  highlight: false,
  indent: 2,
  maxDepth: Infinity,
  min: false,
  plugins: [],
  printFunctionName: true,
  theme: DEFAULT_THEME
};

function validateOptions(options) {
  Object.keys(options).forEach(function (key) {
    if (!DEFAULT_OPTIONS.hasOwnProperty(key)) {
      throw new Error("pretty-format: Unknown option \"" + key + "\".");
    }
  });

  if (options.min && options.indent !== undefined && options.indent !== 0) {
    throw new Error('pretty-format: Options "min" and "indent" cannot be used together.');
  }

  if (options.theme !== undefined) {
    if (options.theme === null) {
      throw new Error("pretty-format: Option \"theme\" must not be null.");
    }

    if (typeof options.theme !== 'object') {
      throw new Error("pretty-format: Option \"theme\" must be of type \"object\" but instead received \"" + typeof options.theme + "\".");
    }
  }
}

var getColorsHighlight = function getColorsHighlight(options) {
  return DEFAULT_THEME_KEYS.reduce(function (colors, key) {
    var value = options.theme && options.theme[key] !== undefined ? options.theme[key] : DEFAULT_THEME[key];
    var color = value && _ansiStyles.default[value];

    if (color && typeof color.close === 'string' && typeof color.open === 'string') {
      colors[key] = color;
    } else {
      throw new Error("pretty-format: Option \"theme\" has a key \"" + key + "\" whose value \"" + value + "\" is undefined in ansi-styles.");
    }

    return colors;
  }, Object.create(null));
};

var getColorsEmpty = function getColorsEmpty() {
  return DEFAULT_THEME_KEYS.reduce(function (colors, key) {
    colors[key] = {
      close: '',
      open: ''
    };
    return colors;
  }, Object.create(null));
};

var getPrintFunctionName = function getPrintFunctionName(options) {
  return options && options.printFunctionName !== undefined ? options.printFunctionName : DEFAULT_OPTIONS.printFunctionName;
};

var getEscapeRegex = function getEscapeRegex(options) {
  return options && options.escapeRegex !== undefined ? options.escapeRegex : DEFAULT_OPTIONS.escapeRegex;
};

var getEscapeString = function getEscapeString(options) {
  return options && options.escapeString !== undefined ? options.escapeString : DEFAULT_OPTIONS.escapeString;
};

var getConfig = function getConfig(options) {
  return {
    callToJSON: options && options.callToJSON !== undefined ? options.callToJSON : DEFAULT_OPTIONS.callToJSON,
    colors: options && options.highlight ? getColorsHighlight(options) : getColorsEmpty(),
    escapeRegex: getEscapeRegex(options),
    escapeString: getEscapeString(options),
    indent: options && options.min ? '' : createIndent(options && options.indent !== undefined ? options.indent : DEFAULT_OPTIONS.indent),
    maxDepth: options && options.maxDepth !== undefined ? options.maxDepth : DEFAULT_OPTIONS.maxDepth,
    min: options && options.min !== undefined ? options.min : DEFAULT_OPTIONS.min,
    plugins: options && options.plugins !== undefined ? options.plugins : DEFAULT_OPTIONS.plugins,
    printFunctionName: getPrintFunctionName(options),
    spacingInner: options && options.min ? ' ' : '\n',
    spacingOuter: options && options.min ? '' : '\n'
  };
};

function createIndent(indent) {
  return new Array(indent + 1).join(' ');
}

function prettyFormat(val, options) {
  if (options) {
    validateOptions(options);

    if (options.plugins) {
      var plugin = findPlugin(options.plugins, val);

      if (plugin !== null) {
        return printPlugin(plugin, val, getConfig(options), '', 0, []);
      }
    }
  }

  var basicResult = printBasicValue(val, getPrintFunctionName(options), getEscapeRegex(options), getEscapeString(options));

  if (basicResult !== null) {
    return basicResult;
  }

  return printComplexValue(val, getConfig(options), '', 0, []);
}

prettyFormat.plugins = {
  AsymmetricMatcher: _AsymmetricMatcher.default,
  ConvertAnsi: _ConvertAnsi.default,
  DOMCollection: _DOMCollection.default,
  DOMElement: _DOMElement.default,
  Immutable: _Immutable.default,
  ReactElement: _ReactElement.default,
  ReactTestComponent: _ReactTestComponent.default
};
module.exports = prettyFormat;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIl9hbnNpU3R5bGVzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfY29sbGVjdGlvbnMiLCJfQXN5bW1ldHJpY01hdGNoZXIiLCJfQ29udmVydEFuc2kiLCJfRE9NQ29sbGVjdGlvbiIsIl9ET01FbGVtZW50IiwiX0ltbXV0YWJsZSIsIl9SZWFjdEVsZW1lbnQiLCJfUmVhY3RUZXN0Q29tcG9uZW50Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJTeW1ib2wiLCJnbG9iYWwiLCJ0b1N0cmluZyIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvSVNPU3RyaW5nIiwiRGF0ZSIsImVycm9yVG9TdHJpbmciLCJFcnJvciIsInJlZ0V4cFRvU3RyaW5nIiwiUmVnRXhwIiwic3ltYm9sVG9TdHJpbmciLCJnZXRDb25zdHJ1Y3Rvck5hbWUiLCJ2YWwiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJpc1dpbmRvdyIsIndpbmRvdyIsIlNZTUJPTF9SRUdFWFAiLCJORVdMSU5FX1JFR0VYUCIsIlByZXR0eUZvcm1hdFBsdWdpbkVycm9yIiwibWVzc2FnZSIsInN0YWNrIiwiaXNUb1N0cmluZ2VkQXJyYXlUeXBlIiwidG9TdHJpbmdlZCIsInByaW50TnVtYmVyIiwiaXMiLCJTdHJpbmciLCJwcmludEJpZ0ludCIsInByaW50RnVuY3Rpb24iLCJwcmludEZ1bmN0aW9uTmFtZSIsInByaW50U3ltYm9sIiwiY2FsbCIsInJlcGxhY2UiLCJwcmludEVycm9yIiwicHJpbnRCYXNpY1ZhbHVlIiwiZXNjYXBlUmVnZXgiLCJlc2NhcGVTdHJpbmciLCJ1bmRlZmluZWQiLCJ0eXBlT2YiLCJpc05hTiIsInByaW50Q29tcGxleFZhbHVlIiwiY29uZmlnIiwiaW5kZW50YXRpb24iLCJkZXB0aCIsInJlZnMiLCJoYXNDYWxsZWRUb0pTT04iLCJpbmRleE9mIiwic2xpY2UiLCJwdXNoIiwiaGl0TWF4RGVwdGgiLCJtYXhEZXB0aCIsIm1pbiIsImNhbGxUb0pTT04iLCJ0b0pTT04iLCJwcmludGVyIiwicHJpbnRMaXN0SXRlbXMiLCJwcmludEl0ZXJhdG9yRW50cmllcyIsImVudHJpZXMiLCJwcmludEl0ZXJhdG9yVmFsdWVzIiwidmFsdWVzIiwicHJpbnRPYmplY3RQcm9wZXJ0aWVzIiwiaXNOZXdQbHVnaW4iLCJwbHVnaW4iLCJzZXJpYWxpemUiLCJwcmludFBsdWdpbiIsInByaW50ZWQiLCJwcmludCIsInZhbENoaWxkIiwic3RyIiwiaW5kZW50YXRpb25OZXh0IiwiaW5kZW50IiwiZWRnZVNwYWNpbmciLCJzcGFjaW5nT3V0ZXIiLCJzcGFjaW5nIiwic3BhY2luZ0lubmVyIiwiY29sb3JzIiwiZXJyb3IiLCJmaW5kUGx1Z2luIiwicGx1Z2lucyIsInAiLCJsZW5ndGgiLCJ0ZXN0IiwiYmFzaWNSZXN1bHQiLCJERUZBVUxUX1RIRU1FIiwiY29tbWVudCIsImNvbnRlbnQiLCJwcm9wIiwidGFnIiwidmFsdWUiLCJERUZBVUxUX1RIRU1FX0tFWVMiLCJrZXlzIiwiREVGQVVMVF9PUFRJT05TIiwiaGlnaGxpZ2h0IiwiSW5maW5pdHkiLCJ0aGVtZSIsInZhbGlkYXRlT3B0aW9ucyIsIm9wdGlvbnMiLCJmb3JFYWNoIiwia2V5IiwiaGFzT3duUHJvcGVydHkiLCJnZXRDb2xvcnNIaWdobGlnaHQiLCJyZWR1Y2UiLCJjb2xvciIsImNsb3NlIiwib3BlbiIsImNyZWF0ZSIsImdldENvbG9yc0VtcHR5IiwiZ2V0UHJpbnRGdW5jdGlvbk5hbWUiLCJnZXRFc2NhcGVSZWdleCIsImdldEVzY2FwZVN0cmluZyIsImdldENvbmZpZyIsImNyZWF0ZUluZGVudCIsIkFycmF5Iiwiam9pbiIsInByZXR0eUZvcm1hdCIsIkFzeW1tZXRyaWNNYXRjaGVyIiwiQ29udmVydEFuc2kiLCJET01Db2xsZWN0aW9uIiwiRE9NRWxlbWVudCIsIkltbXV0YWJsZSIsIlJlYWN0RWxlbWVudCIsIlJlYWN0VGVzdENvbXBvbmVudCIsIm1vZHVsZSIsImV4cG9ydHMi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QVksQ0FBQ3BDLE9BQWIsR0FBdUI7QUFDckJxQyxFQUFBQSxpQkFBaUIsRUFBRTlILGtCQUFrQixDQUFDUyxPQURqQjtBQUVyQnNILEVBQUFBLFdBQVcsRUFBRTlILFlBQVksQ0FBQ1EsT0FGTDtBQUdyQnVILEVBQUFBLGFBQWEsRUFBRTlILGNBQWMsQ0FBQ08sT0FIVDtBQUlyQndILEVBQUFBLFVBQVUsRUFBRTlILFdBQVcsQ0FBQ00sT0FKSDtBQUtyQnlILEVBQUFBLFNBQVMsRUFBRTlILFVBQVUsQ0FBQ0ssT0FMRDtBQU1yQjBILEVBQUFBLFlBQVksRUFBRTlILGFBQWEsQ0FBQ0ksT0FOUDtBQU9yQjJILEVBQUFBLGtCQUFrQixFQUFFOUgsbUJBQW1CLENBQUNHO0FBUG5CLENBQXZCO0FBV0E0SCxNQUFNLENBQUNDLE9BQVAsR0FBaUJULFlBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2Fuc2lTdHlsZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoJ2Fuc2ktc3R5bGVzJykpO1xuXG52YXIgX2NvbGxlY3Rpb25zID0gcmVxdWlyZSgnLi9jb2xsZWN0aW9ucycpO1xuXG52YXIgX0FzeW1tZXRyaWNNYXRjaGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChcbiAgcmVxdWlyZSgnLi9wbHVnaW5zL0FzeW1tZXRyaWNNYXRjaGVyJylcbik7XG5cbnZhciBfQ29udmVydEFuc2kgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoJy4vcGx1Z2lucy9Db252ZXJ0QW5zaScpKTtcblxudmFyIF9ET01Db2xsZWN0aW9uID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCcuL3BsdWdpbnMvRE9NQ29sbGVjdGlvbicpKTtcblxudmFyIF9ET01FbGVtZW50ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCcuL3BsdWdpbnMvRE9NRWxlbWVudCcpKTtcblxudmFyIF9JbW11dGFibGUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoJy4vcGx1Z2lucy9JbW11dGFibGUnKSk7XG5cbnZhciBfUmVhY3RFbGVtZW50ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCcuL3BsdWdpbnMvUmVhY3RFbGVtZW50JykpO1xuXG52YXIgX1JlYWN0VGVzdENvbXBvbmVudCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoXG4gIHJlcXVpcmUoJy4vcGx1Z2lucy9SZWFjdFRlc3RDb21wb25lbnQnKVxuKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtkZWZhdWx0OiBvYmp9O1xufVxuXG52YXIgU3ltYm9sID0gZ2xvYmFsWydqZXN0LXN5bWJvbC1kby1ub3QtdG91Y2gnXSB8fCBnbG9iYWwuU3ltYm9sO1xuY29uc3QgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuY29uc3QgdG9JU09TdHJpbmcgPSBEYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZztcbmNvbnN0IGVycm9yVG9TdHJpbmcgPSBFcnJvci5wcm90b3R5cGUudG9TdHJpbmc7XG5jb25zdCByZWdFeHBUb1N0cmluZyA9IFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmc7XG5jb25zdCBzeW1ib2xUb1N0cmluZyA9IFN5bWJvbC5wcm90b3R5cGUudG9TdHJpbmc7XG4vKipcbiAqIEV4cGxpY2l0bHkgY29tcGFyaW5nIHR5cGVvZiBjb25zdHJ1Y3RvciB0byBmdW5jdGlvbiBhdm9pZHMgdW5kZWZpbmVkIGFzIG5hbWVcbiAqIHdoZW4gbW9jayBpZGVudGl0eS1vYmotcHJveHkgcmV0dXJucyB0aGUga2V5IGFzIHRoZSB2YWx1ZSBmb3IgYW55IGtleS5cbiAqL1xuXG5jb25zdCBnZXRDb25zdHJ1Y3Rvck5hbWUgPSB2YWwgPT5cbiAgKHR5cGVvZiB2YWwuY29uc3RydWN0b3IgPT09ICdmdW5jdGlvbicgJiYgdmFsLmNvbnN0cnVjdG9yLm5hbWUpIHx8ICdPYmplY3QnO1xuLyogZ2xvYmFsIHdpbmRvdyAqL1xuXG4vKiogSXMgdmFsIGlzIGVxdWFsIHRvIGdsb2JhbCB3aW5kb3cgb2JqZWN0PyBXb3JrcyBldmVuIGlmIGl0IGRvZXMgbm90IGV4aXN0IDopICovXG5cbmNvbnN0IGlzV2luZG93ID0gdmFsID0+IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHZhbCA9PT0gd2luZG93O1xuXG5jb25zdCBTWU1CT0xfUkVHRVhQID0gL15TeW1ib2xcXCgoLiopXFwpKC4qKSQvO1xuY29uc3QgTkVXTElORV9SRUdFWFAgPSAvXFxuL2dpO1xuXG5jbGFzcyBQcmV0dHlGb3JtYXRQbHVnaW5FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZSwgc3RhY2spIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLnN0YWNrID0gc3RhY2s7XG4gICAgdGhpcy5uYW1lID0gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzVG9TdHJpbmdlZEFycmF5VHlwZSh0b1N0cmluZ2VkKSB7XG4gIHJldHVybiAoXG4gICAgdG9TdHJpbmdlZCA9PT0gJ1tvYmplY3QgQXJyYXldJyB8fFxuICAgIHRvU3RyaW5nZWQgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXScgfHxcbiAgICB0b1N0cmluZ2VkID09PSAnW29iamVjdCBEYXRhVmlld10nIHx8XG4gICAgdG9TdHJpbmdlZCA9PT0gJ1tvYmplY3QgRmxvYXQzMkFycmF5XScgfHxcbiAgICB0b1N0cmluZ2VkID09PSAnW29iamVjdCBGbG9hdDY0QXJyYXldJyB8fFxuICAgIHRvU3RyaW5nZWQgPT09ICdbb2JqZWN0IEludDhBcnJheV0nIHx8XG4gICAgdG9TdHJpbmdlZCA9PT0gJ1tvYmplY3QgSW50MTZBcnJheV0nIHx8XG4gICAgdG9TdHJpbmdlZCA9PT0gJ1tvYmplY3QgSW50MzJBcnJheV0nIHx8XG4gICAgdG9TdHJpbmdlZCA9PT0gJ1tvYmplY3QgVWludDhBcnJheV0nIHx8XG4gICAgdG9TdHJpbmdlZCA9PT0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyB8fFxuICAgIHRvU3RyaW5nZWQgPT09ICdbb2JqZWN0IFVpbnQxNkFycmF5XScgfHxcbiAgICB0b1N0cmluZ2VkID09PSAnW29iamVjdCBVaW50MzJBcnJheV0nXG4gICk7XG59XG5cbmZ1bmN0aW9uIHByaW50TnVtYmVyKHZhbCkge1xuICByZXR1cm4gT2JqZWN0LmlzKHZhbCwgLTApID8gJy0wJyA6IFN0cmluZyh2YWwpO1xufVxuXG5mdW5jdGlvbiBwcmludEJpZ0ludCh2YWwpIHtcbiAgcmV0dXJuIFN0cmluZyhgJHt2YWx9bmApO1xufVxuXG5mdW5jdGlvbiBwcmludEZ1bmN0aW9uKHZhbCwgcHJpbnRGdW5jdGlvbk5hbWUpIHtcbiAgaWYgKCFwcmludEZ1bmN0aW9uTmFtZSkge1xuICAgIHJldHVybiAnW0Z1bmN0aW9uXSc7XG4gIH1cblxuICByZXR1cm4gJ1tGdW5jdGlvbiAnICsgKHZhbC5uYW1lIHx8ICdhbm9ueW1vdXMnKSArICddJztcbn1cblxuZnVuY3Rpb24gcHJpbnRTeW1ib2wodmFsKSB7XG4gIHJldHVybiBzeW1ib2xUb1N0cmluZy5jYWxsKHZhbCkucmVwbGFjZShTWU1CT0xfUkVHRVhQLCAnU3ltYm9sKCQxKScpO1xufVxuXG5mdW5jdGlvbiBwcmludEVycm9yKHZhbCkge1xuICByZXR1cm4gJ1snICsgZXJyb3JUb1N0cmluZy5jYWxsKHZhbCkgKyAnXSc7XG59XG4vKipcbiAqIFRoZSBmaXJzdCBwb3J0IG9mIGNhbGwgZm9yIHByaW50aW5nIGFuIG9iamVjdCwgaGFuZGxlcyBtb3N0IG9mIHRoZVxuICogZGF0YS10eXBlcyBpbiBKUy5cbiAqL1xuXG5mdW5jdGlvbiBwcmludEJhc2ljVmFsdWUodmFsLCBwcmludEZ1bmN0aW9uTmFtZSwgZXNjYXBlUmVnZXgsIGVzY2FwZVN0cmluZykge1xuICBpZiAodmFsID09PSB0cnVlIHx8IHZhbCA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gJycgKyB2YWw7XG4gIH1cblxuICBpZiAodmFsID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gJ3VuZGVmaW5lZCc7XG4gIH1cblxuICBpZiAodmFsID09PSBudWxsKSB7XG4gICAgcmV0dXJuICdudWxsJztcbiAgfVxuXG4gIGNvbnN0IHR5cGVPZiA9IHR5cGVvZiB2YWw7XG5cbiAgaWYgKHR5cGVPZiA9PT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gcHJpbnROdW1iZXIodmFsKTtcbiAgfVxuXG4gIGlmICh0eXBlT2YgPT09ICdiaWdpbnQnKSB7XG4gICAgcmV0dXJuIHByaW50QmlnSW50KHZhbCk7XG4gIH1cblxuICBpZiAodHlwZU9mID09PSAnc3RyaW5nJykge1xuICAgIGlmIChlc2NhcGVTdHJpbmcpIHtcbiAgICAgIHJldHVybiAnXCInICsgdmFsLnJlcGxhY2UoL1wifFxcXFwvZywgJ1xcXFwkJicpICsgJ1wiJztcbiAgICB9XG5cbiAgICByZXR1cm4gJ1wiJyArIHZhbCArICdcIic7XG4gIH1cblxuICBpZiAodHlwZU9mID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHByaW50RnVuY3Rpb24odmFsLCBwcmludEZ1bmN0aW9uTmFtZSk7XG4gIH1cblxuICBpZiAodHlwZU9mID09PSAnc3ltYm9sJykge1xuICAgIHJldHVybiBwcmludFN5bWJvbCh2YWwpO1xuICB9XG5cbiAgY29uc3QgdG9TdHJpbmdlZCA9IHRvU3RyaW5nLmNhbGwodmFsKTtcblxuICBpZiAodG9TdHJpbmdlZCA9PT0gJ1tvYmplY3QgV2Vha01hcF0nKSB7XG4gICAgcmV0dXJuICdXZWFrTWFwIHt9JztcbiAgfVxuXG4gIGlmICh0b1N0cmluZ2VkID09PSAnW29iamVjdCBXZWFrU2V0XScpIHtcbiAgICByZXR1cm4gJ1dlYWtTZXQge30nO1xuICB9XG5cbiAgaWYgKFxuICAgIHRvU3RyaW5nZWQgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXScgfHxcbiAgICB0b1N0cmluZ2VkID09PSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nXG4gICkge1xuICAgIHJldHVybiBwcmludEZ1bmN0aW9uKHZhbCwgcHJpbnRGdW5jdGlvbk5hbWUpO1xuICB9XG5cbiAgaWYgKHRvU3RyaW5nZWQgPT09ICdbb2JqZWN0IFN5bWJvbF0nKSB7XG4gICAgcmV0dXJuIHByaW50U3ltYm9sKHZhbCk7XG4gIH1cblxuICBpZiAodG9TdHJpbmdlZCA9PT0gJ1tvYmplY3QgRGF0ZV0nKSB7XG4gICAgcmV0dXJuIGlzTmFOKCt2YWwpID8gJ0RhdGUgeyBOYU4gfScgOiB0b0lTT1N0cmluZy5jYWxsKHZhbCk7XG4gIH1cblxuICBpZiAodG9TdHJpbmdlZCA9PT0gJ1tvYmplY3QgRXJyb3JdJykge1xuICAgIHJldHVybiBwcmludEVycm9yKHZhbCk7XG4gIH1cblxuICBpZiAodG9TdHJpbmdlZCA9PT0gJ1tvYmplY3QgUmVnRXhwXScpIHtcbiAgICBpZiAoZXNjYXBlUmVnZXgpIHtcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9iZW5qYW1pbmdyL1JlZ0V4cC5lc2NhcGUvYmxvYi9tYXN0ZXIvcG9seWZpbGwuanNcbiAgICAgIHJldHVybiByZWdFeHBUb1N0cmluZy5jYWxsKHZhbCkucmVwbGFjZSgvW1xcXFxeJCorPy4oKXxbXFxde31dL2csICdcXFxcJCYnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVnRXhwVG9TdHJpbmcuY2FsbCh2YWwpO1xuICB9XG5cbiAgaWYgKHZhbCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgcmV0dXJuIHByaW50RXJyb3IodmFsKTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBIYW5kbGVzIG1vcmUgY29tcGxleCBvYmplY3RzICggc3VjaCBhcyBvYmplY3RzIHdpdGggY2lyY3VsYXIgcmVmZXJlbmNlcy5cbiAqIG1hcHMgYW5kIHNldHMgZXRjIClcbiAqL1xuXG5mdW5jdGlvbiBwcmludENvbXBsZXhWYWx1ZShcbiAgdmFsLFxuICBjb25maWcsXG4gIGluZGVudGF0aW9uLFxuICBkZXB0aCxcbiAgcmVmcyxcbiAgaGFzQ2FsbGVkVG9KU09OXG4pIHtcbiAgaWYgKHJlZnMuaW5kZXhPZih2YWwpICE9PSAtMSkge1xuICAgIHJldHVybiAnW0NpcmN1bGFyXSc7XG4gIH1cblxuICByZWZzID0gcmVmcy5zbGljZSgpO1xuICByZWZzLnB1c2godmFsKTtcbiAgY29uc3QgaGl0TWF4RGVwdGggPSArK2RlcHRoID4gY29uZmlnLm1heERlcHRoO1xuICBjb25zdCBtaW4gPSBjb25maWcubWluO1xuXG4gIGlmIChcbiAgICBjb25maWcuY2FsbFRvSlNPTiAmJlxuICAgICFoaXRNYXhEZXB0aCAmJlxuICAgIHZhbC50b0pTT04gJiZcbiAgICB0eXBlb2YgdmFsLnRvSlNPTiA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICFoYXNDYWxsZWRUb0pTT05cbiAgKSB7XG4gICAgcmV0dXJuIHByaW50ZXIodmFsLnRvSlNPTigpLCBjb25maWcsIGluZGVudGF0aW9uLCBkZXB0aCwgcmVmcywgdHJ1ZSk7XG4gIH1cblxuICBjb25zdCB0b1N0cmluZ2VkID0gdG9TdHJpbmcuY2FsbCh2YWwpO1xuXG4gIGlmICh0b1N0cmluZ2VkID09PSAnW29iamVjdCBBcmd1bWVudHNdJykge1xuICAgIHJldHVybiBoaXRNYXhEZXB0aFxuICAgICAgPyAnW0FyZ3VtZW50c10nXG4gICAgICA6IChtaW4gPyAnJyA6ICdBcmd1bWVudHMgJykgK1xuICAgICAgICAgICdbJyArXG4gICAgICAgICAgKDAsIF9jb2xsZWN0aW9ucy5wcmludExpc3RJdGVtcykoXG4gICAgICAgICAgICB2YWwsXG4gICAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgICBpbmRlbnRhdGlvbixcbiAgICAgICAgICAgIGRlcHRoLFxuICAgICAgICAgICAgcmVmcyxcbiAgICAgICAgICAgIHByaW50ZXJcbiAgICAgICAgICApICtcbiAgICAgICAgICAnXSc7XG4gIH1cblxuICBpZiAoaXNUb1N0cmluZ2VkQXJyYXlUeXBlKHRvU3RyaW5nZWQpKSB7XG4gICAgcmV0dXJuIGhpdE1heERlcHRoXG4gICAgICA/ICdbJyArIHZhbC5jb25zdHJ1Y3Rvci5uYW1lICsgJ10nXG4gICAgICA6IChtaW4gPyAnJyA6IHZhbC5jb25zdHJ1Y3Rvci5uYW1lICsgJyAnKSArXG4gICAgICAgICAgJ1snICtcbiAgICAgICAgICAoMCwgX2NvbGxlY3Rpb25zLnByaW50TGlzdEl0ZW1zKShcbiAgICAgICAgICAgIHZhbCxcbiAgICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICAgIGluZGVudGF0aW9uLFxuICAgICAgICAgICAgZGVwdGgsXG4gICAgICAgICAgICByZWZzLFxuICAgICAgICAgICAgcHJpbnRlclxuICAgICAgICAgICkgK1xuICAgICAgICAgICddJztcbiAgfVxuXG4gIGlmICh0b1N0cmluZ2VkID09PSAnW29iamVjdCBNYXBdJykge1xuICAgIHJldHVybiBoaXRNYXhEZXB0aFxuICAgICAgPyAnW01hcF0nXG4gICAgICA6ICdNYXAgeycgK1xuICAgICAgICAgICgwLCBfY29sbGVjdGlvbnMucHJpbnRJdGVyYXRvckVudHJpZXMpKFxuICAgICAgICAgICAgdmFsLmVudHJpZXMoKSxcbiAgICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICAgIGluZGVudGF0aW9uLFxuICAgICAgICAgICAgZGVwdGgsXG4gICAgICAgICAgICByZWZzLFxuICAgICAgICAgICAgcHJpbnRlcixcbiAgICAgICAgICAgICcgPT4gJ1xuICAgICAgICAgICkgK1xuICAgICAgICAgICd9JztcbiAgfVxuXG4gIGlmICh0b1N0cmluZ2VkID09PSAnW29iamVjdCBTZXRdJykge1xuICAgIHJldHVybiBoaXRNYXhEZXB0aFxuICAgICAgPyAnW1NldF0nXG4gICAgICA6ICdTZXQgeycgK1xuICAgICAgICAgICgwLCBfY29sbGVjdGlvbnMucHJpbnRJdGVyYXRvclZhbHVlcykoXG4gICAgICAgICAgICB2YWwudmFsdWVzKCksXG4gICAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgICBpbmRlbnRhdGlvbixcbiAgICAgICAgICAgIGRlcHRoLFxuICAgICAgICAgICAgcmVmcyxcbiAgICAgICAgICAgIHByaW50ZXJcbiAgICAgICAgICApICtcbiAgICAgICAgICAnfSc7XG4gIH0gLy8gQXZvaWQgZmFpbHVyZSB0byBzZXJpYWxpemUgZ2xvYmFsIHdpbmRvdyBvYmplY3QgaW4ganNkb20gdGVzdCBlbnZpcm9ubWVudC5cbiAgLy8gRm9yIGV4YW1wbGUsIG5vdCBldmVuIHJlbGV2YW50IGlmIHdpbmRvdyBpcyBwcm9wIG9mIFJlYWN0IGVsZW1lbnQuXG5cbiAgcmV0dXJuIGhpdE1heERlcHRoIHx8IGlzV2luZG93KHZhbClcbiAgICA/ICdbJyArIGdldENvbnN0cnVjdG9yTmFtZSh2YWwpICsgJ10nXG4gICAgOiAobWluID8gJycgOiBnZXRDb25zdHJ1Y3Rvck5hbWUodmFsKSArICcgJykgK1xuICAgICAgICAneycgK1xuICAgICAgICAoMCwgX2NvbGxlY3Rpb25zLnByaW50T2JqZWN0UHJvcGVydGllcykoXG4gICAgICAgICAgdmFsLFxuICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICBpbmRlbnRhdGlvbixcbiAgICAgICAgICBkZXB0aCxcbiAgICAgICAgICByZWZzLFxuICAgICAgICAgIHByaW50ZXJcbiAgICAgICAgKSArXG4gICAgICAgICd9Jztcbn1cblxuZnVuY3Rpb24gaXNOZXdQbHVnaW4ocGx1Z2luKSB7XG4gIHJldHVybiBwbHVnaW4uc2VyaWFsaXplICE9IG51bGw7XG59XG5cbmZ1bmN0aW9uIHByaW50UGx1Z2luKHBsdWdpbiwgdmFsLCBjb25maWcsIGluZGVudGF0aW9uLCBkZXB0aCwgcmVmcykge1xuICBsZXQgcHJpbnRlZDtcblxuICB0cnkge1xuICAgIHByaW50ZWQgPSBpc05ld1BsdWdpbihwbHVnaW4pXG4gICAgICA/IHBsdWdpbi5zZXJpYWxpemUodmFsLCBjb25maWcsIGluZGVudGF0aW9uLCBkZXB0aCwgcmVmcywgcHJpbnRlcilcbiAgICAgIDogcGx1Z2luLnByaW50KFxuICAgICAgICAgIHZhbCxcbiAgICAgICAgICB2YWxDaGlsZCA9PiBwcmludGVyKHZhbENoaWxkLCBjb25maWcsIGluZGVudGF0aW9uLCBkZXB0aCwgcmVmcyksXG4gICAgICAgICAgc3RyID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGluZGVudGF0aW9uTmV4dCA9IGluZGVudGF0aW9uICsgY29uZmlnLmluZGVudDtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIGluZGVudGF0aW9uTmV4dCArXG4gICAgICAgICAgICAgIHN0ci5yZXBsYWNlKE5FV0xJTkVfUkVHRVhQLCAnXFxuJyArIGluZGVudGF0aW9uTmV4dClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlZGdlU3BhY2luZzogY29uZmlnLnNwYWNpbmdPdXRlcixcbiAgICAgICAgICAgIG1pbjogY29uZmlnLm1pbixcbiAgICAgICAgICAgIHNwYWNpbmc6IGNvbmZpZy5zcGFjaW5nSW5uZXJcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNvbmZpZy5jb2xvcnNcbiAgICAgICAgKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgUHJldHR5Rm9ybWF0UGx1Z2luRXJyb3IoZXJyb3IubWVzc2FnZSwgZXJyb3Iuc3RhY2spO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBwcmludGVkICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBwcmV0dHktZm9ybWF0OiBQbHVnaW4gbXVzdCByZXR1cm4gdHlwZSBcInN0cmluZ1wiIGJ1dCBpbnN0ZWFkIHJldHVybmVkIFwiJHt0eXBlb2YgcHJpbnRlZH1cIi5gXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBwcmludGVkO1xufVxuXG5mdW5jdGlvbiBmaW5kUGx1Z2luKHBsdWdpbnMsIHZhbCkge1xuICBmb3IgKGxldCBwID0gMDsgcCA8IHBsdWdpbnMubGVuZ3RoOyBwKyspIHtcbiAgICB0cnkge1xuICAgICAgaWYgKHBsdWdpbnNbcF0udGVzdCh2YWwpKSB7XG4gICAgICAgIHJldHVybiBwbHVnaW5zW3BdO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgUHJldHR5Rm9ybWF0UGx1Z2luRXJyb3IoZXJyb3IubWVzc2FnZSwgZXJyb3Iuc3RhY2spO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBwcmludGVyKHZhbCwgY29uZmlnLCBpbmRlbnRhdGlvbiwgZGVwdGgsIHJlZnMsIGhhc0NhbGxlZFRvSlNPTikge1xuICBjb25zdCBwbHVnaW4gPSBmaW5kUGx1Z2luKGNvbmZpZy5wbHVnaW5zLCB2YWwpO1xuXG4gIGlmIChwbHVnaW4gIT09IG51bGwpIHtcbiAgICByZXR1cm4gcHJpbnRQbHVnaW4ocGx1Z2luLCB2YWwsIGNvbmZpZywgaW5kZW50YXRpb24sIGRlcHRoLCByZWZzKTtcbiAgfVxuXG4gIGNvbnN0IGJhc2ljUmVzdWx0ID0gcHJpbnRCYXNpY1ZhbHVlKFxuICAgIHZhbCxcbiAgICBjb25maWcucHJpbnRGdW5jdGlvbk5hbWUsXG4gICAgY29uZmlnLmVzY2FwZVJlZ2V4LFxuICAgIGNvbmZpZy5lc2NhcGVTdHJpbmdcbiAgKTtcblxuICBpZiAoYmFzaWNSZXN1bHQgIT09IG51bGwpIHtcbiAgICByZXR1cm4gYmFzaWNSZXN1bHQ7XG4gIH1cblxuICByZXR1cm4gcHJpbnRDb21wbGV4VmFsdWUoXG4gICAgdmFsLFxuICAgIGNvbmZpZyxcbiAgICBpbmRlbnRhdGlvbixcbiAgICBkZXB0aCxcbiAgICByZWZzLFxuICAgIGhhc0NhbGxlZFRvSlNPTlxuICApO1xufVxuXG5jb25zdCBERUZBVUxUX1RIRU1FID0ge1xuICBjb21tZW50OiAnZ3JheScsXG4gIGNvbnRlbnQ6ICdyZXNldCcsXG4gIHByb3A6ICd5ZWxsb3cnLFxuICB0YWc6ICdjeWFuJyxcbiAgdmFsdWU6ICdncmVlbidcbn07XG5jb25zdCBERUZBVUxUX1RIRU1FX0tFWVMgPSBPYmplY3Qua2V5cyhERUZBVUxUX1RIRU1FKTtcbmNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgY2FsbFRvSlNPTjogdHJ1ZSxcbiAgZXNjYXBlUmVnZXg6IGZhbHNlLFxuICBlc2NhcGVTdHJpbmc6IHRydWUsXG4gIGhpZ2hsaWdodDogZmFsc2UsXG4gIGluZGVudDogMixcbiAgbWF4RGVwdGg6IEluZmluaXR5LFxuICBtaW46IGZhbHNlLFxuICBwbHVnaW5zOiBbXSxcbiAgcHJpbnRGdW5jdGlvbk5hbWU6IHRydWUsXG4gIHRoZW1lOiBERUZBVUxUX1RIRU1FXG59O1xuXG5mdW5jdGlvbiB2YWxpZGF0ZU9wdGlvbnMob3B0aW9ucykge1xuICBPYmplY3Qua2V5cyhvcHRpb25zKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgaWYgKCFERUZBVUxUX09QVElPTlMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBwcmV0dHktZm9ybWF0OiBVbmtub3duIG9wdGlvbiBcIiR7a2V5fVwiLmApO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKG9wdGlvbnMubWluICYmIG9wdGlvbnMuaW5kZW50ICE9PSB1bmRlZmluZWQgJiYgb3B0aW9ucy5pbmRlbnQgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAncHJldHR5LWZvcm1hdDogT3B0aW9ucyBcIm1pblwiIGFuZCBcImluZGVudFwiIGNhbm5vdCBiZSB1c2VkIHRvZ2V0aGVyLidcbiAgICApO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMudGhlbWUgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChvcHRpb25zLnRoZW1lID09PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHByZXR0eS1mb3JtYXQ6IE9wdGlvbiBcInRoZW1lXCIgbXVzdCBub3QgYmUgbnVsbC5gKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMudGhlbWUgIT09ICdvYmplY3QnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBwcmV0dHktZm9ybWF0OiBPcHRpb24gXCJ0aGVtZVwiIG11c3QgYmUgb2YgdHlwZSBcIm9iamVjdFwiIGJ1dCBpbnN0ZWFkIHJlY2VpdmVkIFwiJHt0eXBlb2Ygb3B0aW9ucy50aGVtZX1cIi5gXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBnZXRDb2xvcnNIaWdobGlnaHQgPSBvcHRpb25zID0+XG4gIERFRkFVTFRfVEhFTUVfS0VZUy5yZWR1Y2UoKGNvbG9ycywga2V5KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPVxuICAgICAgb3B0aW9ucy50aGVtZSAmJiBvcHRpb25zLnRoZW1lW2tleV0gIT09IHVuZGVmaW5lZFxuICAgICAgICA/IG9wdGlvbnMudGhlbWVba2V5XVxuICAgICAgICA6IERFRkFVTFRfVEhFTUVba2V5XTtcbiAgICBjb25zdCBjb2xvciA9IHZhbHVlICYmIF9hbnNpU3R5bGVzLmRlZmF1bHRbdmFsdWVdO1xuXG4gICAgaWYgKFxuICAgICAgY29sb3IgJiZcbiAgICAgIHR5cGVvZiBjb2xvci5jbG9zZSA9PT0gJ3N0cmluZycgJiZcbiAgICAgIHR5cGVvZiBjb2xvci5vcGVuID09PSAnc3RyaW5nJ1xuICAgICkge1xuICAgICAgY29sb3JzW2tleV0gPSBjb2xvcjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgcHJldHR5LWZvcm1hdDogT3B0aW9uIFwidGhlbWVcIiBoYXMgYSBrZXkgXCIke2tleX1cIiB3aG9zZSB2YWx1ZSBcIiR7dmFsdWV9XCIgaXMgdW5kZWZpbmVkIGluIGFuc2ktc3R5bGVzLmBcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbG9ycztcbiAgfSwgT2JqZWN0LmNyZWF0ZShudWxsKSk7XG5cbmNvbnN0IGdldENvbG9yc0VtcHR5ID0gKCkgPT5cbiAgREVGQVVMVF9USEVNRV9LRVlTLnJlZHVjZSgoY29sb3JzLCBrZXkpID0+IHtcbiAgICBjb2xvcnNba2V5XSA9IHtcbiAgICAgIGNsb3NlOiAnJyxcbiAgICAgIG9wZW46ICcnXG4gICAgfTtcbiAgICByZXR1cm4gY29sb3JzO1xuICB9LCBPYmplY3QuY3JlYXRlKG51bGwpKTtcblxuY29uc3QgZ2V0UHJpbnRGdW5jdGlvbk5hbWUgPSBvcHRpb25zID0+XG4gIG9wdGlvbnMgJiYgb3B0aW9ucy5wcmludEZ1bmN0aW9uTmFtZSAhPT0gdW5kZWZpbmVkXG4gICAgPyBvcHRpb25zLnByaW50RnVuY3Rpb25OYW1lXG4gICAgOiBERUZBVUxUX09QVElPTlMucHJpbnRGdW5jdGlvbk5hbWU7XG5cbmNvbnN0IGdldEVzY2FwZVJlZ2V4ID0gb3B0aW9ucyA9PlxuICBvcHRpb25zICYmIG9wdGlvbnMuZXNjYXBlUmVnZXggIT09IHVuZGVmaW5lZFxuICAgID8gb3B0aW9ucy5lc2NhcGVSZWdleFxuICAgIDogREVGQVVMVF9PUFRJT05TLmVzY2FwZVJlZ2V4O1xuXG5jb25zdCBnZXRFc2NhcGVTdHJpbmcgPSBvcHRpb25zID0+XG4gIG9wdGlvbnMgJiYgb3B0aW9ucy5lc2NhcGVTdHJpbmcgIT09IHVuZGVmaW5lZFxuICAgID8gb3B0aW9ucy5lc2NhcGVTdHJpbmdcbiAgICA6IERFRkFVTFRfT1BUSU9OUy5lc2NhcGVTdHJpbmc7XG5cbmNvbnN0IGdldENvbmZpZyA9IG9wdGlvbnMgPT4gKHtcbiAgY2FsbFRvSlNPTjpcbiAgICBvcHRpb25zICYmIG9wdGlvbnMuY2FsbFRvSlNPTiAhPT0gdW5kZWZpbmVkXG4gICAgICA/IG9wdGlvbnMuY2FsbFRvSlNPTlxuICAgICAgOiBERUZBVUxUX09QVElPTlMuY2FsbFRvSlNPTixcbiAgY29sb3JzOlxuICAgIG9wdGlvbnMgJiYgb3B0aW9ucy5oaWdobGlnaHRcbiAgICAgID8gZ2V0Q29sb3JzSGlnaGxpZ2h0KG9wdGlvbnMpXG4gICAgICA6IGdldENvbG9yc0VtcHR5KCksXG4gIGVzY2FwZVJlZ2V4OiBnZXRFc2NhcGVSZWdleChvcHRpb25zKSxcbiAgZXNjYXBlU3RyaW5nOiBnZXRFc2NhcGVTdHJpbmcob3B0aW9ucyksXG4gIGluZGVudDpcbiAgICBvcHRpb25zICYmIG9wdGlvbnMubWluXG4gICAgICA/ICcnXG4gICAgICA6IGNyZWF0ZUluZGVudChcbiAgICAgICAgICBvcHRpb25zICYmIG9wdGlvbnMuaW5kZW50ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gb3B0aW9ucy5pbmRlbnRcbiAgICAgICAgICAgIDogREVGQVVMVF9PUFRJT05TLmluZGVudFxuICAgICAgICApLFxuICBtYXhEZXB0aDpcbiAgICBvcHRpb25zICYmIG9wdGlvbnMubWF4RGVwdGggIT09IHVuZGVmaW5lZFxuICAgICAgPyBvcHRpb25zLm1heERlcHRoXG4gICAgICA6IERFRkFVTFRfT1BUSU9OUy5tYXhEZXB0aCxcbiAgbWluOiBvcHRpb25zICYmIG9wdGlvbnMubWluICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1pbiA6IERFRkFVTFRfT1BUSU9OUy5taW4sXG4gIHBsdWdpbnM6XG4gICAgb3B0aW9ucyAmJiBvcHRpb25zLnBsdWdpbnMgIT09IHVuZGVmaW5lZFxuICAgICAgPyBvcHRpb25zLnBsdWdpbnNcbiAgICAgIDogREVGQVVMVF9PUFRJT05TLnBsdWdpbnMsXG4gIHByaW50RnVuY3Rpb25OYW1lOiBnZXRQcmludEZ1bmN0aW9uTmFtZShvcHRpb25zKSxcbiAgc3BhY2luZ0lubmVyOiBvcHRpb25zICYmIG9wdGlvbnMubWluID8gJyAnIDogJ1xcbicsXG4gIHNwYWNpbmdPdXRlcjogb3B0aW9ucyAmJiBvcHRpb25zLm1pbiA/ICcnIDogJ1xcbidcbn0pO1xuXG5mdW5jdGlvbiBjcmVhdGVJbmRlbnQoaW5kZW50KSB7XG4gIHJldHVybiBuZXcgQXJyYXkoaW5kZW50ICsgMSkuam9pbignICcpO1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgcHJlc2VudGF0aW9uIHN0cmluZyBvZiB5b3VyIGB2YWxgIG9iamVjdFxuICogQHBhcmFtIHZhbCBhbnkgcG90ZW50aWFsIEphdmFTY3JpcHQgb2JqZWN0XG4gKiBAcGFyYW0gb3B0aW9ucyBDdXN0b20gc2V0dGluZ3NcbiAqL1xuXG5mdW5jdGlvbiBwcmV0dHlGb3JtYXQodmFsLCBvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zKSB7XG4gICAgdmFsaWRhdGVPcHRpb25zKG9wdGlvbnMpO1xuXG4gICAgaWYgKG9wdGlvbnMucGx1Z2lucykge1xuICAgICAgY29uc3QgcGx1Z2luID0gZmluZFBsdWdpbihvcHRpb25zLnBsdWdpbnMsIHZhbCk7XG5cbiAgICAgIGlmIChwbHVnaW4gIT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHByaW50UGx1Z2luKHBsdWdpbiwgdmFsLCBnZXRDb25maWcob3B0aW9ucyksICcnLCAwLCBbXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgYmFzaWNSZXN1bHQgPSBwcmludEJhc2ljVmFsdWUoXG4gICAgdmFsLFxuICAgIGdldFByaW50RnVuY3Rpb25OYW1lKG9wdGlvbnMpLFxuICAgIGdldEVzY2FwZVJlZ2V4KG9wdGlvbnMpLFxuICAgIGdldEVzY2FwZVN0cmluZyhvcHRpb25zKVxuICApO1xuXG4gIGlmIChiYXNpY1Jlc3VsdCAhPT0gbnVsbCkge1xuICAgIHJldHVybiBiYXNpY1Jlc3VsdDtcbiAgfVxuXG4gIHJldHVybiBwcmludENvbXBsZXhWYWx1ZSh2YWwsIGdldENvbmZpZyhvcHRpb25zKSwgJycsIDAsIFtdKTtcbn1cblxucHJldHR5Rm9ybWF0LnBsdWdpbnMgPSB7XG4gIEFzeW1tZXRyaWNNYXRjaGVyOiBfQXN5bW1ldHJpY01hdGNoZXIuZGVmYXVsdCxcbiAgQ29udmVydEFuc2k6IF9Db252ZXJ0QW5zaS5kZWZhdWx0LFxuICBET01Db2xsZWN0aW9uOiBfRE9NQ29sbGVjdGlvbi5kZWZhdWx0LFxuICBET01FbGVtZW50OiBfRE9NRWxlbWVudC5kZWZhdWx0LFxuICBJbW11dGFibGU6IF9JbW11dGFibGUuZGVmYXVsdCxcbiAgUmVhY3RFbGVtZW50OiBfUmVhY3RFbGVtZW50LmRlZmF1bHQsXG4gIFJlYWN0VGVzdENvbXBvbmVudDogX1JlYWN0VGVzdENvbXBvbmVudC5kZWZhdWx0XG59O1xuLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlZGVjbGFyZSAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IHByZXR0eUZvcm1hdDtcbiJdfQ==