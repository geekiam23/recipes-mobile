6d15624ce341ea35353321a4d057984f
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.forUIKit = forUIKit;
exports.forFade = forFade;
exports.forSlideLeft = forSlideLeft;
exports.forSlideRight = forSlideRight;
exports.forSlideUp = forSlideUp;
exports.forNoAnimation = forNoAnimation;

var _reactNative = require("react-native");

var add = _reactNative.Animated.add;

function forUIKit(_ref) {
  var current = _ref.current,
      next = _ref.next,
      layouts = _ref.layouts;
  var defaultOffset = 100;
  var leftSpacing = 27;
  var leftLabelOffset = layouts.leftLabel ? (layouts.screen.width - layouts.leftLabel.width) / 2 - leftSpacing : defaultOffset;
  var titleLeftOffset = layouts.title ? (layouts.screen.width - layouts.title.width) / 2 - leftSpacing : defaultOffset;
  var rightOffset = layouts.screen.width / 4;
  var progress = add(current.progress.interpolate({
    inputRange: [0, 1],
    outputRange: [0, 1],
    extrapolate: 'clamp'
  }), next ? next.progress.interpolate({
    inputRange: [0, 1],
    outputRange: [0, 1],
    extrapolate: 'clamp'
  }) : 0);
  return {
    leftButtonStyle: {
      opacity: progress.interpolate({
        inputRange: [0.3, 1, 1.5],
        outputRange: [0, 1, 0]
      })
    },
    leftLabelStyle: {
      transform: [{
        translateX: progress.interpolate({
          inputRange: [0, 1, 2],
          outputRange: _reactNative.I18nManager.isRTL ? [-rightOffset, 0, leftLabelOffset] : [leftLabelOffset, 0, -rightOffset]
        })
      }]
    },
    rightButtonStyle: {
      opacity: progress.interpolate({
        inputRange: [0.3, 1, 1.5],
        outputRange: [0, 1, 0]
      })
    },
    titleStyle: {
      opacity: progress.interpolate({
        inputRange: [0, 0.4, 1, 1.5],
        outputRange: [0, 0.1, 1, 0]
      }),
      transform: [{
        translateX: progress.interpolate({
          inputRange: [0.5, 1, 2],
          outputRange: _reactNative.I18nManager.isRTL ? [-titleLeftOffset, 0, rightOffset] : [rightOffset, 0, -titleLeftOffset]
        })
      }]
    },
    backgroundStyle: {
      transform: [{
        translateX: progress.interpolate({
          inputRange: [0, 1, 2],
          outputRange: _reactNative.I18nManager.isRTL ? [-layouts.screen.width, 0, layouts.screen.width] : [layouts.screen.width, 0, -layouts.screen.width]
        })
      }]
    }
  };
}

function forFade(_ref2) {
  var current = _ref2.current,
      next = _ref2.next;
  var progress = add(current.progress.interpolate({
    inputRange: [0, 1],
    outputRange: [0, 1],
    extrapolate: 'clamp'
  }), next ? next.progress.interpolate({
    inputRange: [0, 1],
    outputRange: [0, 1],
    extrapolate: 'clamp'
  }) : 0);
  var opacity = progress.interpolate({
    inputRange: [0, 1, 2],
    outputRange: [0, 1, 0]
  });
  return {
    leftButtonStyle: {
      opacity: opacity
    },
    rightButtonStyle: {
      opacity: opacity
    },
    titleStyle: {
      opacity: opacity
    },
    backgroundStyle: {
      opacity: progress.interpolate({
        inputRange: [0, 1, 1.9, 2],
        outputRange: [0, 1, 1, 0]
      })
    }
  };
}

function forSlideLeft(_ref3) {
  var current = _ref3.current,
      next = _ref3.next,
      screen = _ref3.layouts.screen;
  var progress = add(current.progress.interpolate({
    inputRange: [0, 1],
    outputRange: [0, 1],
    extrapolate: 'clamp'
  }), next ? next.progress.interpolate({
    inputRange: [0, 1],
    outputRange: [0, 1],
    extrapolate: 'clamp'
  }) : 0);
  var translateX = progress.interpolate({
    inputRange: [0, 1, 2],
    outputRange: _reactNative.I18nManager.isRTL ? [-screen.width, 0, screen.width] : [screen.width, 0, -screen.width]
  });
  var transform = [{
    translateX: translateX
  }];
  return {
    leftButtonStyle: {
      transform: transform
    },
    rightButtonStyle: {
      transform: transform
    },
    titleStyle: {
      transform: transform
    },
    backgroundStyle: {
      transform: transform
    }
  };
}

function forSlideRight(_ref4) {
  var current = _ref4.current,
      next = _ref4.next,
      screen = _ref4.layouts.screen;
  var progress = add(current.progress.interpolate({
    inputRange: [0, 1],
    outputRange: [0, 1],
    extrapolate: 'clamp'
  }), next ? next.progress.interpolate({
    inputRange: [0, 1],
    outputRange: [0, 1],
    extrapolate: 'clamp'
  }) : 0);
  var translateX = progress.interpolate({
    inputRange: [0, 1, 2],
    outputRange: _reactNative.I18nManager.isRTL ? [screen.width, 0, -screen.width] : [-screen.width, 0, screen.width]
  });
  var transform = [{
    translateX: translateX
  }];
  return {
    leftButtonStyle: {
      transform: transform
    },
    rightButtonStyle: {
      transform: transform
    },
    titleStyle: {
      transform: transform
    },
    backgroundStyle: {
      transform: transform
    }
  };
}

function forSlideUp(_ref5) {
  var current = _ref5.current,
      next = _ref5.next,
      header = _ref5.layouts.header;
  var progress = add(current.progress.interpolate({
    inputRange: [0, 1],
    outputRange: [0, 1],
    extrapolate: 'clamp'
  }), next ? next.progress.interpolate({
    inputRange: [0, 1],
    outputRange: [0, 1],
    extrapolate: 'clamp'
  }) : 0);
  var translateY = progress.interpolate({
    inputRange: [0, 1, 2],
    outputRange: [-header.height, 0, -header.height]
  });
  var transform = [{
    translateY: translateY
  }];
  return {
    leftButtonStyle: {
      transform: transform
    },
    rightButtonStyle: {
      transform: transform
    },
    titleStyle: {
      transform: transform
    },
    backgroundStyle: {
      transform: transform
    }
  };
}

function forNoAnimation() {
  return {};
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkhlYWRlclN0eWxlSW50ZXJwb2xhdG9ycy50c3giXSwibmFtZXMiOlsiYWRkIiwiQW5pbWF0ZWQiLCJsYXlvdXRzIiwiZGVmYXVsdE9mZnNldCIsImxlZnRTcGFjaW5nIiwibGVmdExhYmVsT2Zmc2V0IiwidGl0bGVMZWZ0T2Zmc2V0IiwicmlnaHRPZmZzZXQiLCJwcm9ncmVzcyIsImlucHV0UmFuZ2UiLCJvdXRwdXRSYW5nZSIsImV4dHJhcG9sYXRlIiwibmV4dCIsImxlZnRCdXR0b25TdHlsZSIsIm9wYWNpdHkiLCJsZWZ0TGFiZWxTdHlsZSIsInRyYW5zZm9ybSIsInRyYW5zbGF0ZVgiLCJJMThuTWFuYWdlciIsInJpZ2h0QnV0dG9uU3R5bGUiLCJ0aXRsZVN0eWxlIiwiYmFja2dyb3VuZFN0eWxlIiwic2NyZWVuIiwiaGVhZGVyIiwidHJhbnNsYXRlWSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUEsSUFBQSxZQUFBLEdBQUEsT0FBQSxDQUFBLGNBQUEsQ0FBQTs7QUFNQSxJQUFRQSxHQUFSLEdBQWdCQyxZQUFBQSxDQUFoQixRQUFBLENBQVFELEdBQVI7O0FBS08sU0FBQSxRQUFBLE9BSXlEO0FBQUEsTUFKdkMsT0FJdUMsUUFKdkMsT0FJdUM7QUFBQSxNQUp2QyxJQUl1QyxRQUp2QyxJQUl1QztBQUFBLE1BRDlERSxPQUM4RCxRQUQ5REEsT0FDOEQ7QUFDOUQsTUFBTUMsYUFBYSxHQUFuQixHQUFBO0FBQ0EsTUFBTUMsV0FBVyxHQUY2QyxFQUU5RDtBQU9BLE1BQU1DLGVBQWUsR0FBR0gsT0FBTyxDQUFQQSxTQUFBQSxHQUNwQixDQUFDQSxPQUFPLENBQVBBLE1BQUFBLENBQUFBLEtBQUFBLEdBQXVCQSxPQUFPLENBQVBBLFNBQUFBLENBQXhCLEtBQUEsSUFBQSxDQUFBLEdBRG9CQSxXQUFBQSxHQUF4QixhQUFBO0FBR0EsTUFBTUksZUFBZSxHQUFHSixPQUFPLENBQVBBLEtBQUFBLEdBQ3BCLENBQUNBLE9BQU8sQ0FBUEEsTUFBQUEsQ0FB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QUFvQixDQUFDQSxNQUFNLENBQTNCLE1BQUE7QUFGeUIsR0FBckIsQ0FBbkI7QUFLQSxNQUFNUCxTQUFTLEdBQUcsQ0FBQztBQUFFUSxJQUFBQSxVQUFBQSxFQUFBQTtBQUFGLEdBQUQsQ0FBbEI7QUFFQSxTQUFPO0FBQ0xYLElBQUFBLGVBQWUsRUFBRTtBQUFFRyxNQUFBQSxTQUFBQSxFQUFBQTtBQUFGLEtBRFo7QUFFTEcsSUFBQUEsZ0JBQWdCLEVBQUU7QUFBRUgsTUFBQUEsU0FBQUEsRUFBQUE7QUFBRixLQUZiO0FBR0xJLElBQUFBLFVBQVUsRUFBRTtBQUFFSixNQUFBQSxTQUFBQSxFQUFBQTtBQUFGLEtBSFA7QUFJTEssSUFBQUEsZUFBZSxFQUFFO0FBQUVMLE1BQUFBLFNBQUFBLEVBQUFBO0FBQUY7QUFKWixHQUFQO0FBTUQ7O0FBRU0sU0FBQSxjQUFBLEdBQXdEO0FBQzdELFNBQUEsRUFBQTtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQW5pbWF0ZWQsIEkxOG5NYW5hZ2VyIH0gZnJvbSAncmVhY3QtbmF0aXZlJztcbmltcG9ydCB0eXBlIHtcbiAgU3RhY2tIZWFkZXJJbnRlcnBvbGF0aW9uUHJvcHMsXG4gIFN0YWNrSGVhZGVySW50ZXJwb2xhdGVkU3R5bGUsXG59IGZyb20gJy4uL3R5cGVzJztcblxuY29uc3QgeyBhZGQgfSA9IEFuaW1hdGVkO1xuXG4vKipcbiAqIFN0YW5kYXJkIFVJS2l0IHN0eWxlIGFuaW1hdGlvbiBmb3IgdGhlIGhlYWRlciB3aGVyZSB0aGUgdGl0bGUgZmFkZXMgaW50byB0aGUgYmFjayBidXR0b24gbGFiZWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JVSUtpdCh7XG4gIGN1cnJlbnQsXG4gIG5leHQsXG4gIGxheW91dHMsXG59OiBTdGFja0hlYWRlckludGVycG9sYXRpb25Qcm9wcyk6IFN0YWNrSGVhZGVySW50ZXJwb2xhdGVkU3R5bGUge1xuICBjb25zdCBkZWZhdWx0T2Zmc2V0ID0gMTAwO1xuICBjb25zdCBsZWZ0U3BhY2luZyA9IDI3O1xuXG4gIC8vIFRoZSB0aXRsZSBhbmQgYmFjayBidXR0b24gdGl0bGUgc2hvdWxkIGNyb3NzLWZhZGUgdG8gZWFjaCBvdGhlclxuICAvLyBXaGVuIHNjcmVlbiBpcyBmdWxseSBvcGVuLCB0aGUgdGl0bGUgc2hvdWxkIGJlIGluIGNlbnRlciwgYW5kIGJhY2sgdGl0bGUgc2hvdWxkIGJlIG9uIGxlZnRcbiAgLy8gV2hlbiBzY3JlZW4gaXMgY2xvc2luZywgdGhlIHByZXZpb3VzIHRpdGxlIHdpbGwgYW5pbWF0ZSB0byBiYWNrIHRpdGxlJ3MgcG9zaXRpb25cbiAgLy8gQW5kIGJhY2sgdGl0bGUgd2lsbCBhbmltYXRlIHRvIHRpdGxlJ3MgcG9zaXRpb25cbiAgLy8gV2UgYWNoaWV2ZSB0aGlzIGJ5IGNhbGN1bGF0aW5nIHRoZSBvZmZzZXRzIG5lZWRlZCB0byB0cmFuc2xhdGUgdGl0bGUgdG8gYmFjayB0aXRsZSdzIHBvc2l0aW9uIGFuZCB2aWNlLXZlcnNhXG4gIGNvbnN0IGxlZnRMYWJlbE9mZnNldCA9IGxheW91dHMubGVmdExhYmVsXG4gICAgPyAobGF5b3V0cy5zY3JlZW4ud2lkdGggLSBsYXlvdXRzLmxlZnRMYWJlbC53aWR0aCkgLyAyIC0gbGVmdFNwYWNpbmdcbiAgICA6IGRlZmF1bHRPZmZzZXQ7XG4gIGNvbnN0IHRpdGxlTGVmdE9mZnNldCA9IGxheW91dHMudGl0bGVcbiAgICA/IChsYXlvdXRzLnNjcmVlbi53aWR0aCAtIGxheW91dHMudGl0bGUud2lkdGgpIC8gMiAtIGxlZnRTcGFjaW5nXG4gICAgOiBkZWZhdWx0T2Zmc2V0O1xuXG4gIC8vIFdoZW4gdGhlIGN1cnJlbnQgdGl0bGUgaXMgYW5pbWF0aW5nIHRvIHJpZ2h0LCBpdCBpcyBjZW50ZXJlZCBpbiB0aGUgcmlnaHQgaGFsZiBvZiBzY3JlZW4gaW4gbWlkZGxlIG9mIHRyYW5zaXRpb25cbiAgLy8gVGhlIGJhY2sgdGl0bGUgYWxzbyBhbmltYXRlcyBpbiBmcm9tIHRoaXMgcG9zaXRpb25cbiAgY29uc3QgcmlnaHRPZmZzZXQgPSBsYXlvdXRzLnNjcmVlbi53aWR0aCAvIDQ7XG5cbiAgY29uc3QgcHJvZ3Jlc3MgPSBhZGQoXG4gICAgY3VycmVudC5wcm9ncmVzcy5pbnRlcnBvbGF0ZSh7XG4gICAgICBpbnB1dFJhbmdlOiBbMCwgMV0sXG4gICAgICBvdXRwdXRSYW5nZTogWzAsIDFdLFxuICAgICAgZXh0cmFwb2xhdGU6ICdjbGFtcCcsXG4gICAgfSksXG4gICAgbmV4dFxuICAgICAgPyBuZXh0LnByb2dyZXNzLmludGVycG9sYXRlKHtcbiAgICAgICAgICBpbnB1dFJhbmdlOiBbMCwgMV0sXG4gICAgICAgICAgb3V0cHV0UmFuZ2U6IFswLCAxXSxcbiAgICAgICAgICBleHRyYXBvbGF0ZTogJ2NsYW1wJyxcbiAgICAgICAgfSlcbiAgICAgIDogMFxuICApO1xuXG4gIHJldHVybiB7XG4gICAgbGVmdEJ1dHRvblN0eWxlOiB7XG4gICAgICBvcGFjaXR5OiBwcm9ncmVzcy5pbnRlcnBvbGF0ZSh7XG4gICAgICAgIGlucHV0UmFuZ2U6IFswLjMsIDEsIDEuNV0sXG4gICAgICAgIG91dHB1dFJhbmdlOiBbMCwgMSwgMF0sXG4gICAgICB9KSxcbiAgICB9LFxuICAgIGxlZnRMYWJlbFN0eWxlOiB7XG4gICAgICB0cmFuc2Zvcm06IFtcbiAgICAgICAge1xuICAgICAgICAgIHRyYW5zbGF0ZVg6IHByb2dyZXNzLmludGVycG9sYXRlKHtcbiAgICAgICAgICAgIGlucHV0UmFuZ2U6IFswLCAxLCAyXSxcbiAgICAgICAgICAgIG91dHB1dFJhbmdlOiBJMThuTWFuYWdlci5pc1JUTFxuICAgICAgICAgICAgICA/IFstcmlnaHRPZmZzZXQsIDAsIGxlZnRMYWJlbE9mZnNldF1cbiAgICAgICAgICAgICAgOiBbbGVmdExhYmVsT2Zmc2V0LCAwLCAtcmlnaHRPZmZzZXRdLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9LFxuICAgIHJpZ2h0QnV0dG9uU3R5bGU6IHtcbiAgICAgIG9wYWNpdHk6IHByb2dyZXNzLmludGVycG9sYXRlKHtcbiAgICAgICAgaW5wdXRSYW5nZTogWzAuMywgMSwgMS41XSxcbiAgICAgICAgb3V0cHV0UmFuZ2U6IFswLCAxLCAwXSxcbiAgICAgIH0pLFxuICAgIH0sXG4gICAgdGl0bGVTdHlsZToge1xuICAgICAgb3BhY2l0eTogcHJvZ3Jlc3MuaW50ZXJwb2xhdGUoe1xuICAgICAgICBpbnB1dFJhbmdlOiBbMCwgMC40LCAxLCAxLjVdLFxuICAgICAgICBvdXRwdXRSYW5nZTogWzAsIDAuMSwgMSwgMF0sXG4gICAgICB9KSxcbiAgICAgIHRyYW5zZm9ybTogW1xuICAgICAgICB7XG4gICAgICAgICAgdHJhbnNsYXRlWDogcHJvZ3Jlc3MuaW50ZXJwb2xhdGUoe1xuICAgICAgICAgICAgaW5wdXRSYW5nZTogWzAuNSwgMSwgMl0sXG4gICAgICAgICAgICBvdXRwdXRSYW5nZTogSTE4bk1hbmFnZXIuaXNSVExcbiAgICAgICAgICAgICAgPyBbLXRpdGxlTGVmdE9mZnNldCwgMCwgcmlnaHRPZmZzZXRdXG4gICAgICAgICAgICAgIDogW3JpZ2h0T2Zmc2V0LCAwLCAtdGl0bGVMZWZ0T2Zmc2V0XSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSxcbiAgICBiYWNrZ3JvdW5kU3R5bGU6IHtcbiAgICAgIHRyYW5zZm9ybTogW1xuICAgICAgICB7XG4gICAgICAgICAgdHJhbnNsYXRlWDogcHJvZ3Jlc3MuaW50ZXJwb2xhdGUoe1xuICAgICAgICAgICAgaW5wdXRSYW5nZTogWzAsIDEsIDJdLFxuICAgICAgICAgICAgb3V0cHV0UmFuZ2U6IEkxOG5NYW5hZ2VyLmlzUlRMXG4gICAgICAgICAgICAgID8gWy1sYXlvdXRzLnNjcmVlbi53aWR0aCwgMCwgbGF5b3V0cy5zY3JlZW4ud2lkdGhdXG4gICAgICAgICAgICAgIDogW2xheW91dHMuc2NyZWVuLndpZHRoLCAwLCAtbGF5b3V0cy5zY3JlZW4ud2lkdGhdLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9LFxuICB9O1xufVxuXG4vKipcbiAqIFNpbXBsZSBmYWRlIGFuaW1hdGlvbiBmb3IgdGhlIGhlYWRlciBlbGVtZW50cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvckZhZGUoe1xuICBjdXJyZW50LFxuICBuZXh0LFxufTogU3RhY2tIZWFkZXJJbnRlcnBvbGF0aW9uUHJvcHMpOiBTdGFja0hlYWRlckludGVycG9sYXRlZFN0eWxlIHtcbiAgY29uc3QgcHJvZ3Jlc3MgPSBhZGQoXG4gICAgY3VycmVudC5wcm9ncmVzcy5pbnRlcnBvbGF0ZSh7XG4gICAgICBpbnB1dFJhbmdlOiBbMCwgMV0sXG4gICAgICBvdXRwdXRSYW5nZTogWzAsIDFdLFxuICAgICAgZXh0cmFwb2xhdGU6ICdjbGFtcCcsXG4gICAgfSksXG4gICAgbmV4dFxuICAgICAgPyBuZXh0LnByb2dyZXNzLmludGVycG9sYXRlKHtcbiAgICAgICAgICBpbnB1dFJhbmdlOiBbMCwgMV0sXG4gICAgICAgICAgb3V0cHV0UmFuZ2U6IFswLCAxXSxcbiAgICAgICAgICBleHRyYXBvbGF0ZTogJ2NsYW1wJyxcbiAgICAgICAgfSlcbiAgICAgIDogMFxuICApO1xuXG4gIGNvbnN0IG9wYWNpdHkgPSBwcm9ncmVzcy5pbnRlcnBvbGF0ZSh7XG4gICAgaW5wdXRSYW5nZTogWzAsIDEsIDJdLFxuICAgIG91dHB1dFJhbmdlOiBbMCwgMSwgMF0sXG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgbGVmdEJ1dHRvblN0eWxlOiB7IG9wYWNpdHkgfSxcbiAgICByaWdodEJ1dHRvblN0eWxlOiB7IG9wYWNpdHkgfSxcbiAgICB0aXRsZVN0eWxlOiB7IG9wYWNpdHkgfSxcbiAgICBiYWNrZ3JvdW5kU3R5bGU6IHtcbiAgICAgIG9wYWNpdHk6IHByb2dyZXNzLmludGVycG9sYXRlKHtcbiAgICAgICAgaW5wdXRSYW5nZTogWzAsIDEsIDEuOSwgMl0sXG4gICAgICAgIG91dHB1dFJhbmdlOiBbMCwgMSwgMSwgMF0sXG4gICAgICB9KSxcbiAgICB9LFxuICB9O1xufVxuXG4vKipcbiAqIFNpbXBsZSB0cmFuc2xhdGUgYW5pbWF0aW9uIHRvIHRyYW5zbGF0ZSB0aGUgaGVhZGVyIHRvIGxlZnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JTbGlkZUxlZnQoe1xuICBjdXJyZW50LFxuICBuZXh0LFxuICBsYXlvdXRzOiB7IHNjcmVlbiB9LFxufTogU3RhY2tIZWFkZXJJbnRlcnBvbGF0aW9uUHJvcHMpOiBTdGFja0hlYWRlckludGVycG9sYXRlZFN0eWxlIHtcbiAgY29uc3QgcHJvZ3Jlc3MgPSBhZGQoXG4gICAgY3VycmVudC5wcm9ncmVzcy5pbnRlcnBvbGF0ZSh7XG4gICAgICBpbnB1dFJhbmdlOiBbMCwgMV0sXG4gICAgICBvdXRwdXRSYW5nZTogWzAsIDFdLFxuICAgICAgZXh0cmFwb2xhdGU6ICdjbGFtcCcsXG4gICAgfSksXG4gICAgbmV4dFxuICAgICAgPyBuZXh0LnByb2dyZXNzLmludGVycG9sYXRlKHtcbiAgICAgICAgICBpbnB1dFJhbmdlOiBbMCwgMV0sXG4gICAgICAgICAgb3V0cHV0UmFuZ2U6IFswLCAxXSxcbiAgICAgICAgICBleHRyYXBvbGF0ZTogJ2NsYW1wJyxcbiAgICAgICAgfSlcbiAgICAgIDogMFxuICApO1xuXG4gIGNvbnN0IHRyYW5zbGF0ZVggPSBwcm9ncmVzcy5pbnRlcnBvbGF0ZSh7XG4gICAgaW5wdXRSYW5nZTogWzAsIDEsIDJdLFxuICAgIG91dHB1dFJhbmdlOiBJMThuTWFuYWdlci5pc1JUTFxuICAgICAgPyBbLXNjcmVlbi53aWR0aCwgMCwgc2NyZWVuLndpZHRoXVxuICAgICAgOiBbc2NyZWVuLndpZHRoLCAwLCAtc2NyZWVuLndpZHRoXSxcbiAgfSk7XG5cbiAgY29uc3QgdHJhbnNmb3JtID0gW3sgdHJhbnNsYXRlWCB9XTtcblxuICByZXR1cm4ge1xuICAgIGxlZnRCdXR0b25TdHlsZTogeyB0cmFuc2Zvcm0gfSxcbiAgICByaWdodEJ1dHRvblN0eWxlOiB7IHRyYW5zZm9ybSB9LFxuICAgIHRpdGxlU3R5bGU6IHsgdHJhbnNmb3JtIH0sXG4gICAgYmFja2dyb3VuZFN0eWxlOiB7IHRyYW5zZm9ybSB9LFxuICB9O1xufVxuXG4vKipcbiAqIFNpbXBsZSB0cmFuc2xhdGUgYW5pbWF0aW9uIHRvIHRyYW5zbGF0ZSB0aGUgaGVhZGVyIHRvIHJpZ2h0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9yU2xpZGVSaWdodCh7XG4gIGN1cnJlbnQsXG4gIG5leHQsXG4gIGxheW91dHM6IHsgc2NyZWVuIH0sXG59OiBTdGFja0hlYWRlckludGVycG9sYXRpb25Qcm9wcyk6IFN0YWNrSGVhZGVySW50ZXJwb2xhdGVkU3R5bGUge1xuICBjb25zdCBwcm9ncmVzcyA9IGFkZChcbiAgICBjdXJyZW50LnByb2dyZXNzLmludGVycG9sYXRlKHtcbiAgICAgIGlucHV0UmFuZ2U6IFswLCAxXSxcbiAgICAgIG91dHB1dFJhbmdlOiBbMCwgMV0sXG4gICAgICBleHRyYXBvbGF0ZTogJ2NsYW1wJyxcbiAgICB9KSxcbiAgICBuZXh0XG4gICAgICA/IG5leHQucHJvZ3Jlc3MuaW50ZXJwb2xhdGUoe1xuICAgICAgICAgIGlucHV0UmFuZ2U6IFswLCAxXSxcbiAgICAgICAgICBvdXRwdXRSYW5nZTogWzAsIDFdLFxuICAgICAgICAgIGV4dHJhcG9sYXRlOiAnY2xhbXAnLFxuICAgICAgICB9KVxuICAgICAgOiAwXG4gICk7XG5cbiAgY29uc3QgdHJhbnNsYXRlWCA9IHByb2dyZXNzLmludGVycG9sYXRlKHtcbiAgICBpbnB1dFJhbmdlOiBbMCwgMSwgMl0sXG4gICAgb3V0cHV0UmFuZ2U6IEkxOG5NYW5hZ2VyLmlzUlRMXG4gICAgICA/IFtzY3JlZW4ud2lkdGgsIDAsIC1zY3JlZW4ud2lkdGhdXG4gICAgICA6IFstc2NyZWVuLndpZHRoLCAwLCBzY3JlZW4ud2lkdGhdLFxuICB9KTtcblxuICBjb25zdCB0cmFuc2Zvcm0gPSBbeyB0cmFuc2xhdGVYIH1dO1xuXG4gIHJldHVybiB7XG4gICAgbGVmdEJ1dHRvblN0eWxlOiB7IHRyYW5zZm9ybSB9LFxuICAgIHJpZ2h0QnV0dG9uU3R5bGU6IHsgdHJhbnNmb3JtIH0sXG4gICAgdGl0bGVTdHlsZTogeyB0cmFuc2Zvcm0gfSxcbiAgICBiYWNrZ3JvdW5kU3R5bGU6IHsgdHJhbnNmb3JtIH0sXG4gIH07XG59XG5cbi8qKlxuICogU2ltcGxlIHRyYW5zbGF0ZSBhbmltYXRpb24gdG8gdHJhbnNsYXRlIHRoZSBoZWFkZXIgdG8gc2xpZGUgdXAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JTbGlkZVVwKHtcbiAgY3VycmVudCxcbiAgbmV4dCxcbiAgbGF5b3V0czogeyBoZWFkZXIgfSxcbn06IFN0YWNrSGVhZGVySW50ZXJwb2xhdGlvblByb3BzKTogU3RhY2tIZWFkZXJJbnRlcnBvbGF0ZWRTdHlsZSB7XG4gIGNvbnN0IHByb2dyZXNzID0gYWRkKFxuICAgIGN1cnJlbnQucHJvZ3Jlc3MuaW50ZXJwb2xhdGUoe1xuICAgICAgaW5wdXRSYW5nZTogWzAsIDFdLFxuICAgICAgb3V0cHV0UmFuZ2U6IFswLCAxXSxcbiAgICAgIGV4dHJhcG9sYXRlOiAnY2xhbXAnLFxuICAgIH0pLFxuICAgIG5leHRcbiAgICAgID8gbmV4dC5wcm9ncmVzcy5pbnRlcnBvbGF0ZSh7XG4gICAgICAgICAgaW5wdXRSYW5nZTogWzAsIDFdLFxuICAgICAgICAgIG91dHB1dFJhbmdlOiBbMCwgMV0sXG4gICAgICAgICAgZXh0cmFwb2xhdGU6ICdjbGFtcCcsXG4gICAgICAgIH0pXG4gICAgICA6IDBcbiAgKTtcblxuICBjb25zdCB0cmFuc2xhdGVZID0gcHJvZ3Jlc3MuaW50ZXJwb2xhdGUoe1xuICAgIGlucHV0UmFuZ2U6IFswLCAxLCAyXSxcbiAgICBvdXRwdXRSYW5nZTogWy1oZWFkZXIuaGVpZ2h0LCAwLCAtaGVhZGVyLmhlaWdodF0sXG4gIH0pO1xuXG4gIGNvbnN0IHRyYW5zZm9ybSA9IFt7IHRyYW5zbGF0ZVkgfV07XG5cbiAgcmV0dXJuIHtcbiAgICBsZWZ0QnV0dG9uU3R5bGU6IHsgdHJhbnNmb3JtIH0sXG4gICAgcmlnaHRCdXR0b25TdHlsZTogeyB0cmFuc2Zvcm0gfSxcbiAgICB0aXRsZVN0eWxlOiB7IHRyYW5zZm9ybSB9LFxuICAgIGJhY2tncm91bmRTdHlsZTogeyB0cmFuc2Zvcm0gfSxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvck5vQW5pbWF0aW9uKCk6IFN0YWNrSGVhZGVySW50ZXJwb2xhdGVkU3R5bGUge1xuICByZXR1cm4ge307XG59XG4iXX0=