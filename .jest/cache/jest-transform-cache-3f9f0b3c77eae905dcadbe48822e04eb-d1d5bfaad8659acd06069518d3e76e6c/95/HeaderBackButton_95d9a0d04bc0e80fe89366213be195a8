26970eaca160c8e0acc4577cab79436c
"use strict";

var _interopRequireDefault2 = require("@babel/runtime/helpers/interopRequireDefault");

var _extends2 = _interopRequireDefault2(require("@babel/runtime/helpers/extends"));

var _slicedToArray2 = _interopRequireDefault2(require("@babel/runtime/helpers/slicedToArray"));

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = HeaderBackButton;

var React = _interopRequireWildcard(require("react"));

var _reactNative = require("react-native");

var _native = require("@react-navigation/native");

var _MaskedView = _interopRequireDefault(require("../MaskedView"));

var _TouchableItem = _interopRequireDefault(require("../TouchableItem"));

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}

function _getRequireWildcardCache() {
  if (typeof WeakMap !== "function") return null;
  var cache = new WeakMap();

  _getRequireWildcardCache = function _getRequireWildcardCache() {
    return cache;
  };

  return cache;
}

function _interopRequireWildcard(obj) {
  if (obj && obj.__esModule) {
    return obj;
  }

  if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
    return {
      default: obj
    };
  }

  var cache = _getRequireWildcardCache();

  if (cache && cache.has(obj)) {
    return cache.get(obj);
  }

  var newObj = {};
  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;

  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) {
      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;

      if (desc && (desc.get || desc.set)) {
        Object.defineProperty(newObj, key, desc);
      } else {
        newObj[key] = obj[key];
      }
    }
  }

  newObj.default = obj;

  if (cache) {
    cache.set(obj, newObj);
  }

  return newObj;
}

function HeaderBackButton(_ref) {
  var disabled = _ref.disabled,
      allowFontScaling = _ref.allowFontScaling,
      backImage = _ref.backImage,
      label = _ref.label,
      labelStyle = _ref.labelStyle,
      _ref$labelVisible = _ref.labelVisible,
      labelVisible = _ref$labelVisible === void 0 ? _reactNative.Platform.OS === 'ios' : _ref$labelVisible,
      onLabelLayout = _ref.onLabelLayout,
      onPress = _ref.onPress,
      customPressColorAndroid = _ref.pressColorAndroid,
      screenLayout = _ref.screenLayout,
      customTintColor = _ref.tintColor,
      titleLayout = _ref.titleLayout,
      _ref$truncatedLabel = _ref.truncatedLabel,
      truncatedLabel = _ref$truncatedLabel === void 0 ? 'Back' : _ref$truncatedLabel,
      _ref$accessibilityLab = _ref.accessibilityLabel,
      accessibilityLabel = _ref$accessibilityLab === void 0 ? label && label !== 'Back' ? "".concat(label, ", back") : 'Go back' : _ref$accessibilityLab,
      style = _ref.style;

  var _ref2 = (0, _native.useTheme)(),
      dark = _ref2.dark,
      colors = _ref2.colors;

  var _React$useState = React.useState(undefined),
      _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),
      initialLabelWidth = _React$useState2[0],
      setInitialLabelWidth = _React$useState2[1];

  var tintColor = customTintColor !== undefined ? customTintColor : _reactNative.Platform.select({
    ios: colors.primary,
    default: colors.text
  });
  var pressColorAndroid = customPressColorAndroid !== undefined ? customPressColorAndroid : dark ? 'rgba(255, 255, 255, .32)' : 'rgba(0, 0, 0, .32)';

  var handleLabelLayout = function handleLabelLayout(e) {
    onLabelLayout === null || onLabelLayout === void 0 ? void 0 : onLabelLayout(e);
    setInitialLabelWidth(e.nativeEvent.layout.x + e.nativeEvent.layout.width);
  };

  var shouldTruncateLabel = function shouldTruncateLabel() {
    return !label || initialLabelWidth && titleLayout && screenLayout && (screenLayout.width - titleLayout.width) / 2 < initialLabelWidth + 26;
  };

  var renderBackImage = function renderBackImage() {
    if (backImage) {
      return backImage({
        tintColor: tintColor
      });
    } else {
      return React.createElement(_reactNative.Image, {
        style: [styles.icon, Boolean(labelVisible) && styles.iconWithLabel, Boolean(tintColor) && {
          tintColor: tintColor
        }],
        source: require("../assets/back-icon.png"),
        fadeDuration: 0
      });
    }
  };

  var renderLabel = function renderLabel() {
    var leftLabelText = shouldTruncateLabel() ? truncatedLabel : label;

    if (!labelVisible || leftLabelText === undefined) {
      return null;
    }

    var labelElement = React.createElement(_reactNative.View, {
      style: screenLayout ? [styles.labelWrapper, {
        minWidth: screenLayout.width / 2 - 27
      }] : null
    }, React.createElement(_reactNative.Animated.Text, {
      accessible: false,
      onLayout: leftLabelText === label ? handleLabelLayout : undefined,
      style: [styles.label, tintColor ? {
        color: tintColor
      } : null, labelStyle],
      numberOfLines: 1,
      allowFontScaling: !!allowFontScaling
    }, leftLabelText));

    if (backImage || _reactNative.Platform.OS !== 'ios') {
      return labelElement;
    }

    return React.createElement(_MaskedView.default, {
      maskElement: React.createElement(_reactNative.View, {
        style: styles.iconMaskContainer
      }, React.createElement(_reactNative.Image, {
        source: require("../assets/back-icon-mask.png"),
        style: styles.iconMask
      }), React.createElement(_reactNative.View, {
        style: styles.iconMaskFillerRect
      }))
    }, labelElement);
  };

  var handlePress = function handlePress() {
    return onPress && requestAnimationFrame(onPress);
  };

  return React.createElement(_TouchableItem.default, {
    disabled: disabled,
    accessible: true,
    accessibilityRole: "button",
    accessibilityComponentType: "button",
    accessibilityLabel: accessibilityLabel,
    accessibilityTraits: "button",
    testID: "header-back",
    delayPressIn: 0,
    onPress: disabled ? undefined : handlePress,
    pressColor: pressColorAndroid,
    style: [styles.container, disabled && styles.disabled, style],
    hitSlop: _reactNative.Platform.select({
      ios: undefined,
      default: {
        top: 16,
        right: 16,
        bottom: 16,
        left: 16
      }
    }),
    borderless: true
  }, React.createElement(React.Fragment, null, renderBackImage(), renderLabel()));
}

var styles = _reactNative.StyleSheet.create({
  container: (0, _extends2.default)({
    alignItems: 'center',
    flexDirection: 'row'
  }, _reactNative.Platform.select({
    ios: null,
    default: {
      marginVertical: 3,
      marginHorizontal: 11
    }
  })),
  disabled: {
    opacity: 0.5
  },
  label: {
    fontSize: 17,
    letterSpacing: 0.35
  },
  labelWrapper: {
    flexDirection: 'row',
    alignItems: 'flex-start'
  },
  icon: _reactNative.Platform.select({
    ios: {
      height: 21,
      width: 13,
      marginLeft: 8,
      marginRight: 22,
      marginVertical: 12,
      resizeMode: 'contain',
      transform: [{
        scaleX: _reactNative.I18nManager.isRTL ? -1 : 1
      }]
    },
    default: {
      height: 24,
      width: 24,
      margin: 3,
      resizeMode: 'contain',
      transform: [{
        scaleX: _reactNative.I18nManager.isRTL ? -1 : 1
      }]
    }
  }),
  iconWithLabel: _reactNative.Platform.OS === 'ios' ? {
    marginRight: 6
  } : {},
  iconMaskContainer: {
    flex: 1,
    flexDirection: 'row',
    justifyContent: 'center'
  },
  iconMaskFillerRect: {
    flex: 1,
    backgroundColor: '#000'
  },
  iconMask: {
    height: 21,
    width: 13,
    marginLeft: -14.5,
    marginVertical: 12,
    alignSelf: 'center',
    resizeMode: 'contain',
    transform: [{
      scaleX: _reactNative.I18nManager.isRTL ? -1 : 1
    }]
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkhlYWRlckJhY2tCdXR0b24udHN4Il0sIm5hbWVzIjpbImxhYmVsVmlzaWJsZSIsIlBsYXRmb3JtIiwicHJlc3NDb2xvckFuZHJvaWQiLCJ0aW50Q29sb3IiLCJ0cnVuY2F0ZWRMYWJlbCIsImFjY2Vzc2liaWxpdHlMYWJlbCIsImxhYmVsIiwic3R5bGUiLCJjb2xvcnMiLCJSZWFjdCIsImN1c3RvbVRpbnRDb2xvciIsImlvcyIsImRlZmF1bHQiLCJ0ZXh0IiwiY3VzdG9tUHJlc3NDb2xvckFuZHJvaWQiLCJkYXJrIiwiaGFuZGxlTGFiZWxMYXlvdXQiLCJlIiwib25MYWJlbExheW91dCIsInNldEluaXRpYWxMYWJlbFdpZHRoIiwic2hvdWxkVHJ1bmNhdGVMYWJlbCIsImluaXRpYWxMYWJlbFdpZHRoIiwic2NyZWVuTGF5b3V0IiwidGl0bGVMYXlvdXQiLCJyZW5kZXJCYWNrSW1hZ2UiLCJiYWNrSW1hZ2UiLCJzdHlsZXMiLCJCb29sZWFuIiwicmVxdWlyZSIsInJlbmRlckxhYmVsIiwibGVmdExhYmVsVGV4dCIsImxhYmVsRWxlbWVudCIsIm1pbldpZHRoIiwiY29sb3IiLCJhbGxvd0ZvbnRTY2FsaW5nIiwiaWNvbk1hc2tDb250YWluZXIiLCJpY29uTWFzayIsImljb25NYXNrRmlsbGVyUmVjdCIsImhhbmRsZVByZXNzIiwib25QcmVzcyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImRpc2FibGVkIiwidG9wIiwicmlnaHQiLCJib3R0b20iLCJsZWZ0IiwiY29udGFpbmVyIiwiYWxpZ25JdGVtcyIsImZsZXhEaXJlY3Rpb24iLCJtYXJnaW5WZXJ0aWNhbCIsIm1hcmdpbkhvcml6b250YWwiLCJvcGFjaXR5IiwiZm9udFNpemUiLCJsZXR0ZXJTcGFjaW5nIiwibGFiZWxXcmFwcGVyIiwiaWNvbiIsImhlaWdodCIsIndpZHRoIiwibWFyZ2luTGVmdCIsIm1hcmdpblJpZ2h0IiwicmVzaXplTW9kZSIsInRyYW5zZm9ybSIsInNjYWxlWCIsIkkxOG5NYW5hZ2VyIiwibWFyZ2luIiwiaWNvbldpdGhMYWJlbCIsImZsZXgiLCJqdXN0aWZ5Q29udGVudCIsImJhY2tncm91bmRDb2xvciIsImFsaWduU2VsZiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBLElBQUEsS0FBQSxHQUFBLHVCQUFBLENBQUEsT0FBQSxDQUFBLE9BQUEsQ0FBQSxDQUFBOztBQUNBLElBQUEsWUFBQSxHQUFBLE9BQUEsQ0FBQSxjQUFBLENBQUE7O0FBU0EsSUFBQSxPQUFBLEdBQUEsT0FBQSxDQUFBLDBCQUFBLENBQUE7O0FBQ0EsSUFBQSxXQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFBLGlCQUFBLENBQUE7O0FBQ0EsSUFBQSxjQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFBLG9CQUFBLENBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUtlLFNBQUEsZ0JBQUEsT0FnQkw7QUFBQSxNQWhCK0IsUUFnQi9CLFFBaEIrQixRQWdCL0I7QUFBQSxNQWhCK0IsZ0JBZ0IvQixRQWhCK0IsZ0JBZ0IvQjtBQUFBLE1BaEIrQixTQWdCL0IsUUFoQitCLFNBZ0IvQjtBQUFBLE1BaEIrQixLQWdCL0IsUUFoQitCLEtBZ0IvQjtBQUFBLE1BaEIrQixVQWdCL0IsUUFoQitCLFVBZ0IvQjtBQUFBLCtCQVZSQSxZQVVRO0FBQUEsTUFWUkEsWUFVUSxrQ0FWT0MsWUFBQUEsQ0FBQUEsUUFBQUEsQ0FBQUEsRUFBQUEsS0FOd0IsS0FnQi9CO0FBQUEsTUFoQitCLGFBZ0IvQixRQWhCK0IsYUFnQi9CO0FBQUEsTUFoQitCLE9BZ0IvQixRQWhCK0IsT0FnQi9CO0FBQUEsTUFoQitCLHVCQWdCL0IsUUFQUkMsaUJBT1E7QUFBQSxNQWhCK0IsWUFnQi9CLFFBaEIrQixZQWdCL0I7QUFBQSxNQWhCK0IsZUFnQi9CLFFBTFJDLFNBS1E7QUFBQSxNQWhCK0IsV0FnQi9CLFFBaEIrQixXQWdCL0I7QUFBQSxpQ0FIUkMsY0FHUTtBQUFBLE1BSFJBLGNB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LFdBQUFBLENBQUFBLEtBQUFBLEdBQW9CLENBQXBCQSxDQUFBQSxHQUF5QjtBQUFuQyxLQUFEO0FBUEg7QUE1RHFCLENBQWxCLENBQWYiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge1xuICBBbmltYXRlZCxcbiAgSTE4bk1hbmFnZXIsXG4gIEltYWdlLFxuICBWaWV3LFxuICBQbGF0Zm9ybSxcbiAgU3R5bGVTaGVldCxcbiAgTGF5b3V0Q2hhbmdlRXZlbnQsXG59IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgeyB1c2VUaGVtZSB9IGZyb20gJ0ByZWFjdC1uYXZpZ2F0aW9uL25hdGl2ZSc7XG5pbXBvcnQgTWFza2VkVmlldyBmcm9tICcuLi9NYXNrZWRWaWV3JztcbmltcG9ydCBUb3VjaGFibGVJdGVtIGZyb20gJy4uL1RvdWNoYWJsZUl0ZW0nO1xuaW1wb3J0IHR5cGUgeyBTdGFja0hlYWRlckxlZnRCdXR0b25Qcm9wcyB9IGZyb20gJy4uLy4uL3R5cGVzJztcblxudHlwZSBQcm9wcyA9IFN0YWNrSGVhZGVyTGVmdEJ1dHRvblByb3BzO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBIZWFkZXJCYWNrQnV0dG9uKHtcbiAgZGlzYWJsZWQsXG4gIGFsbG93Rm9udFNjYWxpbmcsXG4gIGJhY2tJbWFnZSxcbiAgbGFiZWwsXG4gIGxhYmVsU3R5bGUsXG4gIGxhYmVsVmlzaWJsZSA9IFBsYXRmb3JtLk9TID09PSAnaW9zJyxcbiAgb25MYWJlbExheW91dCxcbiAgb25QcmVzcyxcbiAgcHJlc3NDb2xvckFuZHJvaWQ6IGN1c3RvbVByZXNzQ29sb3JBbmRyb2lkLFxuICBzY3JlZW5MYXlvdXQsXG4gIHRpbnRDb2xvcjogY3VzdG9tVGludENvbG9yLFxuICB0aXRsZUxheW91dCxcbiAgdHJ1bmNhdGVkTGFiZWwgPSAnQmFjaycsXG4gIGFjY2Vzc2liaWxpdHlMYWJlbCA9IGxhYmVsICYmIGxhYmVsICE9PSAnQmFjaycgPyBgJHtsYWJlbH0sIGJhY2tgIDogJ0dvIGJhY2snLFxuICBzdHlsZSxcbn06IFByb3BzKSB7XG4gIGNvbnN0IHsgZGFyaywgY29sb3JzIH0gPSB1c2VUaGVtZSgpO1xuXG4gIGNvbnN0IFtpbml0aWFsTGFiZWxXaWR0aCwgc2V0SW5pdGlhbExhYmVsV2lkdGhdID0gUmVhY3QudXNlU3RhdGU8XG4gICAgdW5kZWZpbmVkIHwgbnVtYmVyXG4gID4odW5kZWZpbmVkKTtcblxuICBjb25zdCB0aW50Q29sb3IgPVxuICAgIGN1c3RvbVRpbnRDb2xvciAhPT0gdW5kZWZpbmVkXG4gICAgICA/IGN1c3RvbVRpbnRDb2xvclxuICAgICAgOiBQbGF0Zm9ybS5zZWxlY3Qoe1xuICAgICAgICAgIGlvczogY29sb3JzLnByaW1hcnksXG4gICAgICAgICAgZGVmYXVsdDogY29sb3JzLnRleHQsXG4gICAgICAgIH0pO1xuXG4gIGNvbnN0IHByZXNzQ29sb3JBbmRyb2lkID1cbiAgICBjdXN0b21QcmVzc0NvbG9yQW5kcm9pZCAhPT0gdW5kZWZpbmVkXG4gICAgICA/IGN1c3RvbVByZXNzQ29sb3JBbmRyb2lkXG4gICAgICA6IGRhcmtcbiAgICAgID8gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgLjMyKSdcbiAgICAgIDogJ3JnYmEoMCwgMCwgMCwgLjMyKSc7XG5cbiAgY29uc3QgaGFuZGxlTGFiZWxMYXlvdXQgPSAoZTogTGF5b3V0Q2hhbmdlRXZlbnQpID0+IHtcbiAgICBvbkxhYmVsTGF5b3V0Py4oZSk7XG5cbiAgICBzZXRJbml0aWFsTGFiZWxXaWR0aChlLm5hdGl2ZUV2ZW50LmxheW91dC54ICsgZS5uYXRpdmVFdmVudC5sYXlvdXQud2lkdGgpO1xuICB9O1xuXG4gIGNvbnN0IHNob3VsZFRydW5jYXRlTGFiZWwgPSAoKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICFsYWJlbCB8fFxuICAgICAgKGluaXRpYWxMYWJlbFdpZHRoICYmXG4gICAgICAgIHRpdGxlTGF5b3V0ICYmXG4gICAgICAgIHNjcmVlbkxheW91dCAmJlxuICAgICAgICAoc2NyZWVuTGF5b3V0LndpZHRoIC0gdGl0bGVMYXlvdXQud2lkdGgpIC8gMiA8IGluaXRpYWxMYWJlbFdpZHRoICsgMjYpXG4gICAgKTtcbiAgfTtcblxuICBjb25zdCByZW5kZXJCYWNrSW1hZ2UgPSAoKSA9PiB7XG4gICAgaWYgKGJhY2tJbWFnZSkge1xuICAgICAgcmV0dXJuIGJhY2tJbWFnZSh7IHRpbnRDb2xvciB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEltYWdlXG4gICAgICAgICAgc3R5bGU9e1tcbiAgICAgICAgICAgIHN0eWxlcy5pY29uLFxuICAgICAgICAgICAgQm9vbGVhbihsYWJlbFZpc2libGUpICYmIHN0eWxlcy5pY29uV2l0aExhYmVsLFxuICAgICAgICAgICAgQm9vbGVhbih0aW50Q29sb3IpICYmIHsgdGludENvbG9yIH0sXG4gICAgICAgICAgXX1cbiAgICAgICAgICBzb3VyY2U9e3JlcXVpcmUoJy4uL2Fzc2V0cy9iYWNrLWljb24ucG5nJyl9XG4gICAgICAgICAgZmFkZUR1cmF0aW9uPXswfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyTGFiZWwgPSAoKSA9PiB7XG4gICAgY29uc3QgbGVmdExhYmVsVGV4dCA9IHNob3VsZFRydW5jYXRlTGFiZWwoKSA/IHRydW5jYXRlZExhYmVsIDogbGFiZWw7XG5cbiAgICBpZiAoIWxhYmVsVmlzaWJsZSB8fCBsZWZ0TGFiZWxUZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGxhYmVsRWxlbWVudCA9IChcbiAgICAgIDxWaWV3XG4gICAgICAgIHN0eWxlPXtcbiAgICAgICAgICBzY3JlZW5MYXlvdXRcbiAgICAgICAgICAgID8gLy8gV2UgbWFrZSB0aGUgYnV0dG9uIGV4dGVuZCB0aWxsIHRoZSBtaWRkbGUgb2YgdGhlIHNjcmVlblxuICAgICAgICAgICAgICAvLyBPdGhlcndpc2UgaXQgYXBwZWFycyB0byBjdXQgb2ZmIHdoZW4gdHJhbnNsYXRpbmdcbiAgICAgICAgICAgICAgW3N0eWxlcy5sYWJlbFdyYXBwZXIsIHsgbWluV2lkdGg6IHNjcmVlbkxheW91dC53aWR0aCAvIDIgLSAyNyB9XVxuICAgICAgICAgICAgOiBudWxsXG4gICAgICAgIH1cbiAgICAgID5cbiAgICAgICAgPEFuaW1hdGVkLlRleHRcbiAgICAgICAgICBhY2Nlc3NpYmxlPXtmYWxzZX1cbiAgICAgICAgICBvbkxheW91dD17XG4gICAgICAgICAgICAvLyBUaGlzIG1lYXN1cmVtZW50IGlzIHVzZWQgdG8gZGV0ZXJtaW5lIGlmIHdlIHNob3VsZCB0cnVuY2F0ZSB0aGUgbGFiZWwgd2hlbiBpdCBkb2Vzbid0IGZpdFxuICAgICAgICAgICAgLy8gT25seSBtZWFzdXJlIGl0IHdoZW4gbGFiZWwgaXMgbm90IHRydW5jYXRlZCBiZWNhdXNlIHdlIHdhbnQgdGhlIG1lYXN1cmVtZW50IG9mIGZ1bGwgbGFiZWxcbiAgICAgICAgICAgIGxlZnRMYWJlbFRleHQgPT09IGxhYmVsID8gaGFuZGxlTGFiZWxMYXlvdXQgOiB1bmRlZmluZWRcbiAgICAgICAgICB9XG4gICAgICAgICAgc3R5bGU9e1tcbiAgICAgICAgICAgIHN0eWxlcy5sYWJlbCxcbiAgICAgICAgICAgIHRpbnRDb2xvciA/IHsgY29sb3I6IHRpbnRDb2xvciB9IDogbnVsbCxcbiAgICAgICAgICAgIGxhYmVsU3R5bGUsXG4gICAgICAgICAgXX1cbiAgICAgICAgICBudW1iZXJPZkxpbmVzPXsxfVxuICAgICAgICAgIGFsbG93Rm9udFNjYWxpbmc9eyEhYWxsb3dGb250U2NhbGluZ31cbiAgICAgICAgPlxuICAgICAgICAgIHtsZWZ0TGFiZWxUZXh0fVxuICAgICAgICA8L0FuaW1hdGVkLlRleHQ+XG4gICAgICA8L1ZpZXc+XG4gICAgKTtcblxuICAgIGlmIChiYWNrSW1hZ2UgfHwgUGxhdGZvcm0uT1MgIT09ICdpb3MnKSB7XG4gICAgICAvLyBXaGVuIGEgY3VzdG9tIGJhY2tpbWFnZSBpcyBzcGVjaWZpZWQsIHdlIGNhbid0IG1hc2sgdGhlIGxhYmVsXG4gICAgICAvLyBPdGhlcndpc2UgdGhlcmUgbWlnaHQgYmUgd2VpcmQgZWZmZWN0IGR1ZSB0byBvdXIgbWFzayBub3QgYmVpbmcgdGhlIHNhbWUgYXMgdGhlIGltYWdlXG4gICAgICByZXR1cm4gbGFiZWxFbGVtZW50O1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8TWFza2VkVmlld1xuICAgICAgICBtYXNrRWxlbWVudD17XG4gICAgICAgICAgPFZpZXcgc3R5bGU9e3N0eWxlcy5pY29uTWFza0NvbnRhaW5lcn0+XG4gICAgICAgICAgICA8SW1hZ2VcbiAgICAgICAgICAgICAgc291cmNlPXtyZXF1aXJlKCcuLi9hc3NldHMvYmFjay1pY29uLW1hc2sucG5nJyl9XG4gICAgICAgICAgICAgIHN0eWxlPXtzdHlsZXMuaWNvbk1hc2t9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPFZpZXcgc3R5bGU9e3N0eWxlcy5pY29uTWFza0ZpbGxlclJlY3R9IC8+XG4gICAgICAgICAgPC9WaWV3PlxuICAgICAgICB9XG4gICAgICA+XG4gICAgICAgIHtsYWJlbEVsZW1lbnR9XG4gICAgICA8L01hc2tlZFZpZXc+XG4gICAgKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVQcmVzcyA9ICgpID0+IG9uUHJlc3MgJiYgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKG9uUHJlc3MpO1xuXG4gIHJldHVybiAoXG4gICAgPFRvdWNoYWJsZUl0ZW1cbiAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgIGFjY2Vzc2libGVcbiAgICAgIGFjY2Vzc2liaWxpdHlSb2xlPVwiYnV0dG9uXCJcbiAgICAgIGFjY2Vzc2liaWxpdHlDb21wb25lbnRUeXBlPVwiYnV0dG9uXCJcbiAgICAgIGFjY2Vzc2liaWxpdHlMYWJlbD17YWNjZXNzaWJpbGl0eUxhYmVsfVxuICAgICAgYWNjZXNzaWJpbGl0eVRyYWl0cz1cImJ1dHRvblwiXG4gICAgICB0ZXN0SUQ9XCJoZWFkZXItYmFja1wiXG4gICAgICBkZWxheVByZXNzSW49ezB9XG4gICAgICBvblByZXNzPXtkaXNhYmxlZCA/IHVuZGVmaW5lZCA6IGhhbmRsZVByZXNzfVxuICAgICAgcHJlc3NDb2xvcj17cHJlc3NDb2xvckFuZHJvaWR9XG4gICAgICBzdHlsZT17W3N0eWxlcy5jb250YWluZXIsIGRpc2FibGVkICYmIHN0eWxlcy5kaXNhYmxlZCwgc3R5bGVdfVxuICAgICAgaGl0U2xvcD17UGxhdGZvcm0uc2VsZWN0KHtcbiAgICAgICAgaW9zOiB1bmRlZmluZWQsXG4gICAgICAgIGRlZmF1bHQ6IHsgdG9wOiAxNiwgcmlnaHQ6IDE2LCBib3R0b206IDE2LCBsZWZ0OiAxNiB9LFxuICAgICAgfSl9XG4gICAgICBib3JkZXJsZXNzXG4gICAgPlxuICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICB7cmVuZGVyQmFja0ltYWdlKCl9XG4gICAgICAgIHtyZW5kZXJMYWJlbCgpfVxuICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICA8L1RvdWNoYWJsZUl0ZW0+XG4gICk7XG59XG5cbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgY29udGFpbmVyOiB7XG4gICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gICAgLi4uUGxhdGZvcm0uc2VsZWN0KHtcbiAgICAgIGlvczogbnVsbCxcbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgbWFyZ2luVmVydGljYWw6IDMsXG4gICAgICAgIG1hcmdpbkhvcml6b250YWw6IDExLFxuICAgICAgfSxcbiAgICB9KSxcbiAgfSxcbiAgZGlzYWJsZWQ6IHtcbiAgICBvcGFjaXR5OiAwLjUsXG4gIH0sXG4gIGxhYmVsOiB7XG4gICAgZm9udFNpemU6IDE3LFxuICAgIC8vIFRpdGxlIGFuZCBiYWNrIGxhYmVsIGFyZSBhIGJpdCBkaWZmZXJlbnQgd2lkdGggZHVlIHRvIHRpdGxlIGJlaW5nIGJvbGRcbiAgICAvLyBBZGp1c3RpbmcgdGhlIGxldHRlclNwYWNpbmcgbWFrZXMgdGhlbSBjb2luY2lkZSBiZXR0ZXJcbiAgICBsZXR0ZXJTcGFjaW5nOiAwLjM1LFxuICB9LFxuICBsYWJlbFdyYXBwZXI6IHtcbiAgICAvLyBUaGVzZSBzdHlsZXMgd2lsbCBtYWtlIHN1cmUgdGhhdCB0aGUgbGFiZWwgZG9lc24ndCBmaWxsIHRoZSBhdmFpbGFibGUgc3BhY2VcbiAgICAvLyBPdGhlcndpc2UgaXQgbWVzc2VzIHdpdGggdGhlIG1lYXN1cmVtZW50IG9mIHRoZSBsYWJlbFxuICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxuICAgIGFsaWduSXRlbXM6ICdmbGV4LXN0YXJ0JyxcbiAgfSxcbiAgaWNvbjogUGxhdGZvcm0uc2VsZWN0KHtcbiAgICBpb3M6IHtcbiAgICAgIGhlaWdodDogMjEsXG4gICAgICB3aWR0aDogMTMsXG4gICAgICBtYXJnaW5MZWZ0OiA4LFxuICAgICAgbWFyZ2luUmlnaHQ6IDIyLFxuICAgICAgbWFyZ2luVmVydGljYWw6IDEyLFxuICAgICAgcmVzaXplTW9kZTogJ2NvbnRhaW4nLFxuICAgICAgdHJhbnNmb3JtOiBbeyBzY2FsZVg6IEkxOG5NYW5hZ2VyLmlzUlRMID8gLTEgOiAxIH1dLFxuICAgIH0sXG4gICAgZGVmYXVsdDoge1xuICAgICAgaGVpZ2h0OiAyNCxcbiAgICAgIHdpZHRoOiAyNCxcbiAgICAgIG1hcmdpbjogMyxcbiAgICAgIHJlc2l6ZU1vZGU6ICdjb250YWluJyxcbiAgICAgIHRyYW5zZm9ybTogW3sgc2NhbGVYOiBJMThuTWFuYWdlci5pc1JUTCA/IC0xIDogMSB9XSxcbiAgICB9LFxuICB9KSxcbiAgaWNvbldpdGhMYWJlbDpcbiAgICBQbGF0Zm9ybS5PUyA9PT0gJ2lvcydcbiAgICAgID8ge1xuICAgICAgICAgIG1hcmdpblJpZ2h0OiA2LFxuICAgICAgICB9XG4gICAgICA6IHt9LFxuICBpY29uTWFza0NvbnRhaW5lcjoge1xuICAgIGZsZXg6IDEsXG4gICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICB9LFxuICBpY29uTWFza0ZpbGxlclJlY3Q6IHtcbiAgICBmbGV4OiAxLFxuICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDAnLFxuICB9LFxuICBpY29uTWFzazoge1xuICAgIGhlaWdodDogMjEsXG4gICAgd2lkdGg6IDEzLFxuICAgIG1hcmdpbkxlZnQ6IC0xNC41LFxuICAgIG1hcmdpblZlcnRpY2FsOiAxMixcbiAgICBhbGlnblNlbGY6ICdjZW50ZXInLFxuICAgIHJlc2l6ZU1vZGU6ICdjb250YWluJyxcbiAgICB0cmFuc2Zvcm06IFt7IHNjYWxlWDogSTE4bk1hbmFnZXIuaXNSVEwgPyAtMSA6IDEgfV0sXG4gIH0sXG59KTtcbiJdfQ==