e278df4da8e1ae0725582660f989ca8a
'use strict';

var stringReplaceAll = function stringReplaceAll(string, substring, replacer) {
  var index = string.indexOf(substring);

  if (index === -1) {
    return string;
  }

  var substringLength = substring.length;
  var endIndex = 0;
  var returnValue = '';

  do {
    returnValue += string.substr(endIndex, index - endIndex) + substring + replacer;
    endIndex = index + substringLength;
    index = string.indexOf(substring, endIndex);
  } while (index !== -1);

  returnValue += string.substr(endIndex);
  return returnValue;
};

var stringEncaseCRLFWithFirstIndex = function stringEncaseCRLFWithFirstIndex(string, prefix, postfix, index) {
  var endIndex = 0;
  var returnValue = '';

  do {
    var gotCR = string[index - 1] === '\r';
    returnValue += string.substr(endIndex, (gotCR ? index - 1 : index) - endIndex) + prefix + (gotCR ? '\r\n' : '\n') + postfix;
    endIndex = index + 1;
    index = string.indexOf('\n', endIndex);
  } while (index !== -1);

  returnValue += string.substr(endIndex);
  return returnValue;
};

module.exports = {
  stringReplaceAll: stringReplaceAll,
  stringEncaseCRLFWithFirstIndex: stringEncaseCRLFWithFirstIndex
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWwuanMiXSwibmFtZXMiOlsic3RyaW5nUmVwbGFjZUFsbCIsInN0cmluZyIsInN1YnN0cmluZyIsInJlcGxhY2VyIiwiaW5kZXgiLCJpbmRleE9mIiwic3Vic3RyaW5nTGVuZ3RoIiwibGVuZ3RoIiwiZW5kSW5kZXgiLCJyZXR1cm5WYWx1ZSIsInN1YnN0ciIsInN0cmluZ0VuY2FzZUNSTEZXaXRoRmlyc3RJbmRleCIsInByZWZpeCIsInBvc3RmaXgiLCJnb3RDUiIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQU1BLGdCQUFnQixHQUFHLFNBQW5CQSxnQkFBbUIsQ0FBQ0MsTUFBRCxFQUFTQyxTQUFULEVBQW9CQyxRQUFwQixFQUFpQztBQUN6RCxNQUFJQyxLQUFLLEdBQUdILE1BQU0sQ0FBQ0ksT0FBUCxDQUFlSCxTQUFmLENBQVo7O0FBQ0EsTUFBSUUsS0FBSyxLQUFLLENBQUMsQ0FBZixFQUFrQjtBQUNqQixXQUFPSCxNQUFQO0FBQ0E7O0FBRUQsTUFBTUssZUFBZSxHQUFHSixTQUFTLENBQUNLLE1BQWxDO0FBQ0EsTUFBSUMsUUFBUSxHQUFHLENBQWY7QUFDQSxNQUFJQyxXQUFXLEdBQUcsRUFBbEI7O0FBQ0EsS0FBRztBQUNGQSxJQUFBQSxXQUFXLElBQUlSLE1BQU0sQ0FBQ1MsTUFBUCxDQUFjRixRQUFkLEVBQXdCSixLQUFLLEdBQUdJLFFBQWhDLElBQTRDTixTQUE1QyxHQUF3REMsUUFBdkU7QUFDQUssSUFBQUEsUUFBUSxHQUFHSixLQUFLLEdBQUdFLGVBQW5CO0FBQ0FGLElBQUFBLEtBQUssR0FBR0gsTUFBTSxDQUFDSSxPQUFQLENBQWVILFNBQWYsRUFBMEJNLFFBQTFCLENBQVI7QUFDQSxHQUpELFFBSVNKLEtBQUssS0FBSyxDQUFDLENBSnBCOztBQU1BSyxFQUFBQSxXQUFXLElBQUlSLE1BQU0sQ0FBQ1MsTUFBUCxDQUFjRixRQUFkLENBQWY7QUFDQSxTQUFPQyxXQUFQO0FBQ0EsQ0FqQkQ7O0FBbUJBLElBQU1FLDhCQUE4QixHQUFHLFNBQWpDQSw4QkFBaUMsQ0FBQ1YsTUFBRCxFQUFTVyxNQUFULEVBQWlCQyxPQUFqQixFQUEwQlQsS0FBMUIsRUFBb0M7QUFDMUUsTUFBSUksUUFBUSxHQUFHLENBQWY7QUFDQSxNQUFJQyxXQUFXLEdBQUcsRUFBbEI7O0FBQ0EsS0FBRztBQUNGLFFBQU1LLEtBQUssR0FBR2IsTUFBTSxDQUFDRyxLQUFLLEdBQUcsQ0FBVCxDQUFOLEtBQXNCLElBQXBDO0FBQ0FLLElBQUFBLFdBQVcsSUFBSVIsTUFBTSxDQUFDUyxNQUFQLENBQWNGLFFBQWQsRUFBd0IsQ0FBQ00sS0FBSyxHQUFHVixLQUFLLEdBQUcsQ0FBWCxHQUFlQSxLQUFyQixJQUE4QkksUUFBdEQsSUFBa0VJLE1BQWxFLElBQTRFRSxLQUFLLEdBQUcsTUFBSCxHQUFZLElBQTdGLElBQXFHRCxPQUFwSDtBQUNBTCxJQUFBQSxRQUFRLEdBQUdKLEtBQUssR0FBRyxDQUFuQjtBQUNBQSxJQUFBQSxLQUFLLEdBQUdILE1BQU0sQ0FBQ0ksT0FBUCxDQUFlLElBQWYsRUFBcUJHLFFBQXJCLENBQVI7QUFDQSxHQUxELFFBS1NKLEtBQUssS0FBSyxDQUFDLENBTHBCOztBQU9BSyxFQUFBQSxXQUFXLElBQUlSLE1BQU0sQ0FBQ1MsTUFBUCxDQUFjRixRQUFkLENBQWY7QUFDQSxTQUFPQyxXQUFQO0FBQ0EsQ0FaRDs7QUFjQU0sTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2hCaEIsRUFBQUEsZ0JBQWdCLEVBQWhCQSxnQkFEZ0I7QUFFaEJXLEVBQUFBLDhCQUE4QixFQUE5QkE7QUFGZ0IsQ0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHN0cmluZ1JlcGxhY2VBbGwgPSAoc3RyaW5nLCBzdWJzdHJpbmcsIHJlcGxhY2VyKSA9PiB7XG5cdGxldCBpbmRleCA9IHN0cmluZy5pbmRleE9mKHN1YnN0cmluZyk7XG5cdGlmIChpbmRleCA9PT0gLTEpIHtcblx0XHRyZXR1cm4gc3RyaW5nO1xuXHR9XG5cblx0Y29uc3Qgc3Vic3RyaW5nTGVuZ3RoID0gc3Vic3RyaW5nLmxlbmd0aDtcblx0bGV0IGVuZEluZGV4ID0gMDtcblx0bGV0IHJldHVyblZhbHVlID0gJyc7XG5cdGRvIHtcblx0XHRyZXR1cm5WYWx1ZSArPSBzdHJpbmcuc3Vic3RyKGVuZEluZGV4LCBpbmRleCAtIGVuZEluZGV4KSArIHN1YnN0cmluZyArIHJlcGxhY2VyO1xuXHRcdGVuZEluZGV4ID0gaW5kZXggKyBzdWJzdHJpbmdMZW5ndGg7XG5cdFx0aW5kZXggPSBzdHJpbmcuaW5kZXhPZihzdWJzdHJpbmcsIGVuZEluZGV4KTtcblx0fSB3aGlsZSAoaW5kZXggIT09IC0xKTtcblxuXHRyZXR1cm5WYWx1ZSArPSBzdHJpbmcuc3Vic3RyKGVuZEluZGV4KTtcblx0cmV0dXJuIHJldHVyblZhbHVlO1xufTtcblxuY29uc3Qgc3RyaW5nRW5jYXNlQ1JMRldpdGhGaXJzdEluZGV4ID0gKHN0cmluZywgcHJlZml4LCBwb3N0Zml4LCBpbmRleCkgPT4ge1xuXHRsZXQgZW5kSW5kZXggPSAwO1xuXHRsZXQgcmV0dXJuVmFsdWUgPSAnJztcblx0ZG8ge1xuXHRcdGNvbnN0IGdvdENSID0gc3RyaW5nW2luZGV4IC0gMV0gPT09ICdcXHInO1xuXHRcdHJldHVyblZhbHVlICs9IHN0cmluZy5zdWJzdHIoZW5kSW5kZXgsIChnb3RDUiA/IGluZGV4IC0gMSA6IGluZGV4KSAtIGVuZEluZGV4KSArIHByZWZpeCArIChnb3RDUiA/ICdcXHJcXG4nIDogJ1xcbicpICsgcG9zdGZpeDtcblx0XHRlbmRJbmRleCA9IGluZGV4ICsgMTtcblx0XHRpbmRleCA9IHN0cmluZy5pbmRleE9mKCdcXG4nLCBlbmRJbmRleCk7XG5cdH0gd2hpbGUgKGluZGV4ICE9PSAtMSk7XG5cblx0cmV0dXJuVmFsdWUgKz0gc3RyaW5nLnN1YnN0cihlbmRJbmRleCk7XG5cdHJldHVybiByZXR1cm5WYWx1ZTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuXHRzdHJpbmdSZXBsYWNlQWxsLFxuXHRzdHJpbmdFbmNhc2VDUkxGV2l0aEZpcnN0SW5kZXhcbn07XG4iXX0=