82f14eef7575e8607149afffe7e2dd93
var _curry2 = require("./_curry2");

var _reduce = require("./_reduce");

var _xfBase = require("./_xfBase");

var XDropLastWhile = function () {
  function XDropLastWhile(fn, xf) {
    this.f = fn;
    this.retained = [];
    this.xf = xf;
  }

  XDropLastWhile.prototype['@@transducer/init'] = _xfBase.init;

  XDropLastWhile.prototype['@@transducer/result'] = function (result) {
    this.retained = null;
    return this.xf['@@transducer/result'](result);
  };

  XDropLastWhile.prototype['@@transducer/step'] = function (result, input) {
    return this.f(input) ? this.retain(result, input) : this.flush(result, input);
  };

  XDropLastWhile.prototype.flush = function (result, input) {
    result = _reduce(this.xf['@@transducer/step'], result, this.retained);
    this.retained = [];
    return this.xf['@@transducer/step'](result, input);
  };

  XDropLastWhile.prototype.retain = function (result, input) {
    this.retained.push(input);
    return result;
  };

  return XDropLastWhile;
}();

var _xdropLastWhile = _curry2(function _xdropLastWhile(fn, xf) {
  return new XDropLastWhile(fn, xf);
});

module.exports = _xdropLastWhile;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl94ZHJvcExhc3RXaGlsZS5qcyJdLCJuYW1lcyI6WyJfY3VycnkyIiwicmVxdWlyZSIsIl9yZWR1Y2UiLCJfeGZCYXNlIiwiWERyb3BMYXN0V2hpbGUiLCJmbiIsInhmIiwiZiIsInJldGFpbmVkIiwicHJvdG90eXBlIiwiaW5pdCIsInJlc3VsdCIsImlucHV0IiwicmV0YWluIiwiZmx1c2giLCJwdXNoIiwiX3hkcm9wTGFzdFdoaWxlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSUEsT0FBTyxHQUFnQkMsT0FBTyxhQUFsQzs7QUFFQSxJQUFJQyxPQUFPLEdBQWdCRCxPQUFPLGFBQWxDOztBQUVBLElBQUlFLE9BQU8sR0FBZ0JGLE9BQU8sYUFBbEM7O0FBRUEsSUFBSUcsY0FBYyxHQUFnQixZQUFZO0FBRTVDLFdBQVNBLGNBQVQsQ0FBd0JDLEVBQXhCLEVBQTRCQyxFQUE1QixFQUFnQztBQUM5QixTQUFLQyxDQUFMLEdBQVNGLEVBQVQ7QUFDQSxTQUFLRyxRQUFMLEdBQWdCLEVBQWhCO0FBQ0EsU0FBS0YsRUFBTCxHQUFVQSxFQUFWO0FBQ0Q7O0FBQ0RGLEVBQUFBLGNBQWMsQ0FBQ0ssU0FBZixDQUF5QixtQkFBekIsSUFBZ0ROLE9BQU8sQ0FBQ08sSUFBeEQ7O0FBQ0FOLEVBQUFBLGNBQWMsQ0FBQ0ssU0FBZixDQUF5QixxQkFBekIsSUFBa0QsVUFBVUUsTUFBVixFQUFrQjtBQUNsRSxTQUFLSCxRQUFMLEdBQWdCLElBQWhCO0FBQ0EsV0FBTyxLQUFLRixFQUFMLENBQVEscUJBQVIsRUFBK0JLLE1BQS9CLENBQVA7QUFDRCxHQUhEOztBQUlBUCxFQUFBQSxjQUFjLENBQUNLLFNBQWYsQ0FBeUIsbUJBQXpCLElBQWdELFVBQVVFLE1BQVYsRUFBa0JDLEtBQWxCLEVBQXlCO0FBQ3ZFLFdBQU8sS0FBS0wsQ0FBTCxDQUFPSyxLQUFQLElBQWdCLEtBQUtDLE1BQUwsQ0FBWUYsTUFBWixFQUFvQkMsS0FBcEIsQ0FBaEIsR0FBNkMsS0FBS0UsS0FBTCxDQUFXSCxNQUFYLEVBQW1CQyxLQUFuQixDQUFwRDtBQUNELEdBRkQ7O0FBR0FSLEVBQUFBLGNBQWMsQ0FBQ0ssU0FBZixDQUF5QkssS0FBekIsR0FBaUMsVUFBVUgsTUFBVixFQUFrQkMsS0FBbEIsRUFBeUI7QUFDeERELElBQUFBLE1BQU0sR0FBR1QsT0FBTyxDQUFDLEtBQUtJLEVBQUwsQ0FBUSxtQkFBUixDQUFELEVBQStCSyxNQUEvQixFQUF1QyxLQUFLSCxRQUE1QyxDQUFoQjtBQUNBLFNBQUtBLFFBQUwsR0FBZ0IsRUFBaEI7QUFDQSxXQUFPLEtBQUtGLEVBQUwsQ0FBUSxtQkFBUixFQUE2QkssTUFBN0IsRUFBcUNDLEtBQXJDLENBQVA7QUFDRCxHQUpEOztBQUtBUixFQUFBQSxjQUFjLENBQUNLLFNBQWYsQ0FBeUJJLE1BQXpCLEdBQWtDLFVBQVVGLE1BQVYsRUFBa0JDLEtBQWxCLEVBQXlCO0FBQ3pELFNBQUtKLFFBQUwsQ0FBY08sSUFBZCxDQUFtQkgsS0FBbkI7QUFDQSxXQUFPRCxNQUFQO0FBQ0QsR0FIRDs7QUFLQSxTQUFPUCxjQUFQO0FBQ0QsQ0ExQmlDLEVBQWxDOztBQTRCQSxJQUFJWSxlQUFlLEdBQWdCaEIsT0FBTyxDQUFDLFNBQVNnQixlQUFULENBQXlCWCxFQUF6QixFQUE2QkMsRUFBN0IsRUFBaUM7QUFDMUUsU0FBTyxJQUFJRixjQUFKLENBQW1CQyxFQUFuQixFQUF1QkMsRUFBdkIsQ0FBUDtBQUNELENBRnlDLENBQTFDOztBQUdBVyxNQUFNLENBQUNDLE9BQVAsR0FBaUJGLGVBQWpCIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9jdXJyeTIgPSAvKiNfX1BVUkVfXyovcmVxdWlyZSgnLi9fY3VycnkyJyk7XG5cbnZhciBfcmVkdWNlID0gLyojX19QVVJFX18qL3JlcXVpcmUoJy4vX3JlZHVjZScpO1xuXG52YXIgX3hmQmFzZSA9IC8qI19fUFVSRV9fKi9yZXF1aXJlKCcuL194ZkJhc2UnKTtcblxudmFyIFhEcm9wTGFzdFdoaWxlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcblxuICBmdW5jdGlvbiBYRHJvcExhc3RXaGlsZShmbiwgeGYpIHtcbiAgICB0aGlzLmYgPSBmbjtcbiAgICB0aGlzLnJldGFpbmVkID0gW107XG4gICAgdGhpcy54ZiA9IHhmO1xuICB9XG4gIFhEcm9wTGFzdFdoaWxlLnByb3RvdHlwZVsnQEB0cmFuc2R1Y2VyL2luaXQnXSA9IF94ZkJhc2UuaW5pdDtcbiAgWERyb3BMYXN0V2hpbGUucHJvdG90eXBlWydAQHRyYW5zZHVjZXIvcmVzdWx0J10gPSBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgdGhpcy5yZXRhaW5lZCA9IG51bGw7XG4gICAgcmV0dXJuIHRoaXMueGZbJ0BAdHJhbnNkdWNlci9yZXN1bHQnXShyZXN1bHQpO1xuICB9O1xuICBYRHJvcExhc3RXaGlsZS5wcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9zdGVwJ10gPSBmdW5jdGlvbiAocmVzdWx0LCBpbnB1dCkge1xuICAgIHJldHVybiB0aGlzLmYoaW5wdXQpID8gdGhpcy5yZXRhaW4ocmVzdWx0LCBpbnB1dCkgOiB0aGlzLmZsdXNoKHJlc3VsdCwgaW5wdXQpO1xuICB9O1xuICBYRHJvcExhc3RXaGlsZS5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAocmVzdWx0LCBpbnB1dCkge1xuICAgIHJlc3VsdCA9IF9yZWR1Y2UodGhpcy54ZlsnQEB0cmFuc2R1Y2VyL3N0ZXAnXSwgcmVzdWx0LCB0aGlzLnJldGFpbmVkKTtcbiAgICB0aGlzLnJldGFpbmVkID0gW107XG4gICAgcmV0dXJuIHRoaXMueGZbJ0BAdHJhbnNkdWNlci9zdGVwJ10ocmVzdWx0LCBpbnB1dCk7XG4gIH07XG4gIFhEcm9wTGFzdFdoaWxlLnByb3RvdHlwZS5yZXRhaW4gPSBmdW5jdGlvbiAocmVzdWx0LCBpbnB1dCkge1xuICAgIHRoaXMucmV0YWluZWQucHVzaChpbnB1dCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICByZXR1cm4gWERyb3BMYXN0V2hpbGU7XG59KCk7XG5cbnZhciBfeGRyb3BMYXN0V2hpbGUgPSAvKiNfX1BVUkVfXyovX2N1cnJ5MihmdW5jdGlvbiBfeGRyb3BMYXN0V2hpbGUoZm4sIHhmKSB7XG4gIHJldHVybiBuZXcgWERyb3BMYXN0V2hpbGUoZm4sIHhmKTtcbn0pO1xubW9kdWxlLmV4cG9ydHMgPSBfeGRyb3BMYXN0V2hpbGU7Il19