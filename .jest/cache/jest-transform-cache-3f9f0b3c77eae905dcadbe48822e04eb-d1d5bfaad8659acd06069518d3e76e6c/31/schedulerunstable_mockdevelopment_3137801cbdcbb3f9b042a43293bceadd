b5c6cace7edc41d31fa248edf5177c1e
/** @license React v0.19.1
 * scheduler-unstable_mock.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
'use strict';

if (process.env.NODE_ENV !== "production") {
  (function () {
    'use strict';

    var enableSchedulerDebugging = false;
    var enableProfiling = true;
    var currentTime = 0;
    var scheduledCallback = null;
    var scheduledTimeout = null;
    var timeoutTime = -1;
    var yieldedValues = null;
    var expectedNumberOfYields = -1;
    var didStop = false;
    var isFlushing = false;
    var needsPaint = false;
    var shouldYieldForPaint = false;

    function requestHostCallback(callback) {
      scheduledCallback = callback;
    }

    function requestHostTimeout(callback, ms) {
      scheduledTimeout = callback;
      timeoutTime = currentTime + ms;
    }

    function cancelHostTimeout() {
      scheduledTimeout = null;
      timeoutTime = -1;
    }

    function shouldYieldToHost() {
      if (expectedNumberOfYields !== -1 && yieldedValues !== null && yieldedValues.length >= expectedNumberOfYields || shouldYieldForPaint && needsPaint) {
        didStop = true;
        return true;
      }

      return false;
    }

    function getCurrentTime() {
      return currentTime;
    }

    function forceFrameRate() {}

    function unstable_flushNumberOfYields(count) {
      if (isFlushing) {
        throw new Error('Already flushing work.');
      }

      if (scheduledCallback !== null) {
        var cb = scheduledCallback;
        expectedNumberOfYields = count;
        isFlushing = true;

        try {
          var hasMoreWork = true;

          do {
            hasMoreWork = cb(true, currentTime);
          } while (hasMoreWork && !didStop);

          if (!hasMoreWork) {
            scheduledCallback = null;
          }
        } finally {
          expectedNumberOfYields = -1;
          didStop = false;
          isFlushing = false;
        }
      }
    }

    function unstable_flushUntilNextPaint() {
      if (isFlushing) {
        throw new Error('Already flushing work.');
      }

      if (scheduledCallback !== null) {
        var cb = scheduledCallback;
        shouldYieldForPaint = true;
        needsPaint = false;
        isFlushing = true;

        try {
          var hasMoreWork = true;

          do {
            hasMoreWork = cb(true, currentTime);
          } while (hasMoreWork && !didStop);

          if (!hasMoreWork) {
            scheduledCallback = null;
          }
        } finally {
          shouldYieldForPaint = false;
          didStop = false;
          isFlushing = false;
        }
      }
    }

    function unstable_flushExpired() {
      if (isFlushing) {
        throw new Error('Already flushing work.');
      }

      if (scheduledCallback !== null) {
        isFlushing = true;

        try {
          var hasMoreWork = scheduledCallback(false, currentTime);

          if (!hasMoreWork) {
            scheduledCallback = null;
          }
        } finally {
          isFlushing = false;
        }
      }
    }

    function unstable_flushAllWithoutAsserting() {
      if (isFlushing) {
        throw new Error('Already flushing work.');
      }

      if (scheduledCallback !== null) {
        var cb = scheduledCallback;
        isFlushing = true;

        try {
          var hasMoreWork = true;

          do {
            hasMoreWork = cb(true, currentTime);
          } while (hasMoreWork);

          if (!hasMoreWork) {
            scheduledCallback = null;
          }

          return true;
        } finally {
          isFlushing = false;
        }
      } else {
        return false;
      }
    }

    function unstable_clearYields() {
      if (yieldedValues === null) {
        return [];
      }

      var values = yieldedValues;
      yieldedValues = null;
      return values;
    }

    function unstable_flushAll() {
      if (yieldedValues !== null) {
        throw new Error('Log is not empty. Assert on the log of yielded values before ' + 'flushing additional work.');
      }

      unstable_flushAllWithoutAsserting();

      if (yieldedValues !== null) {
        throw new Error('While flushing work, something yielded a value. Use an ' + 'assertion helper to assert on the log of yielded values, e.g. ' + 'expect(Scheduler).toFlushAndYield([...])');
      }
    }

    function unstable_yieldValue(value) {
      if (yieldedValues === null) {
        yieldedValues = [value];
      } else {
        yieldedValues.push(value);
      }
    }

    function unstable_advanceTime(ms) {
      currentTime += ms;

      if (scheduledTimeout !== null && timeoutTime <= currentTime) {
        scheduledTimeout(currentTime);
        timeoutTime = -1;
        scheduledTimeout = null;
      }
    }

    function requestPaint() {
      needsPaint = true;
    }

    function push(heap, node) {
      var index = heap.length;
      heap.push(node);
      siftUp(heap, node, index);
    }

    function peek(heap) {
      var first = heap[0];
      return first === undefined ? null : first;
    }

    function pop(heap) {
      var first = heap[0];

      if (first !== undefined) {
        var last = heap.pop();

        if (last !== first) {
          heap[0] = last;
          siftDown(heap, last, 0);
        }

        return first;
      } else {
        return null;
      }
    }

    function siftUp(heap, node, i) {
      var index = i;

      while (true) {
        var parentIndex = index - 1 >>> 1;
        var parent = heap[parentIndex];

        if (parent !== undefined && compare(parent, node) > 0) {
          heap[parentIndex] = node;
          heap[index] = parent;
          index = parentIndex;
        } else {
          return;
        }
      }
    }

    function siftDown(heap, node, i) {
      var index = i;
      var length = heap.length;

      while (index < length) {
        var leftIndex = (index + 1) * 2 - 1;
        var left = heap[leftIndex];
        var rightIndex = leftIndex + 1;
        var right = heap[rightIndex];

        if (left !== undefined && compare(left, node) < 0) {
          if (right !== undefined && compare(right, left) < 0) {
            heap[index] = right;
            heap[rightIndex] = node;
            index = rightIndex;
          } else {
            heap[index] = left;
            heap[leftIndex] = node;
            index = leftIndex;
          }
        } else if (right !== undefined && compare(right, node) < 0) {
          heap[index] = right;
          heap[rightIndex] = node;
          index = rightIndex;
        } else {
          return;
        }
      }
    }

    function compare(a, b) {
      var diff = a.sortIndex - b.sortIndex;
      return diff !== 0 ? diff : a.id - b.id;
    }

    var NoPriority = 0;
    var ImmediatePriority = 1;
    var UserBlockingPriority = 2;
    var NormalPriority = 3;
    var LowPriority = 4;
    var IdlePriority = 5;
    var runIdCounter = 0;
    var mainThreadIdCounter = 0;
    var profilingStateSize = 4;
    var sharedProfilingBuffer = typeof SharedArrayBuffer === 'function' ? new SharedArrayBuffer(profilingStateSize * Int32Array.BYTES_PER_ELEMENT) : typeof ArrayBuffer === 'function' ? new ArrayBuffer(profilingStateSize * Int32Array.BYTES_PER_ELEMENT) : null;
    var profilingState = sharedProfilingBuffer !== null ? new Int32Array(sharedProfilingBuffer) : [];
    var PRIORITY = 0;
    var CURRENT_TASK_ID = 1;
    var CURRENT_RUN_ID = 2;
    var QUEUE_SIZE = 3;
    {
      profilingState[PRIORITY] = NoPriority;
      profilingState[QUEUE_SIZE] = 0;
      profilingState[CURRENT_TASK_ID] = 0;
    }
    var INITIAL_EVENT_LOG_SIZE = 131072;
    var MAX_EVENT_LOG_SIZE = 524288;
    var eventLogSize = 0;
    var eventLogBuffer = null;
    var eventLog = null;
    var eventLogIndex = 0;
    var TaskStartEvent = 1;
    var TaskCompleteEvent = 2;
    var TaskErrorEvent = 3;
    var TaskCancelEvent = 4;
    var TaskRunEvent = 5;
    var TaskYieldEvent = 6;
    var SchedulerSuspendEvent = 7;
    var SchedulerResumeEvent = 8;

    function logEvent(entries) {
      if (eventLog !== null) {
        var offset = eventLogIndex;
        eventLogIndex += entries.length;

        if (eventLogIndex + 1 > eventLogSize) {
          eventLogSize *= 2;

          if (eventLogSize > MAX_EVENT_LOG_SIZE) {
            console['error']("Scheduler Profiling: Event log exceeded maximum size. Don't " + 'forget to call `stopLoggingProfilingEvents()`.');
            stopLoggingProfilingEvents();
            return;
          }

          var newEventLog = new Int32Array(eventLogSize * 4);
          newEventLog.set(eventLog);
          eventLogBuffer = newEventLog.buffer;
          eventLog = newEventLog;
        }

        eventLog.set(entries, offset);
      }
    }

    function startLoggingProfilingEvents() {
      eventLogSize = INITIAL_EVENT_LOG_SIZE;
      eventLogBuffer = new ArrayBuffer(eventLogSize * 4);
      eventLog = new Int32Array(eventLogBuffer);
      eventLogIndex = 0;
    }

    function stopLoggingProfilingEvents() {
      var buffer = eventLogBuffer;
      eventLogSize = 0;
      eventLogBuffer = null;
      eventLog = null;
      eventLogIndex = 0;
      return buffer;
    }

    function markTaskStart(task, ms) {
      {
        profilingState[QUEUE_SIZE]++;

        if (eventLog !== null) {
          logEvent([TaskStartEvent, ms * 1000, task.id, task.priorityLevel]);
        }
      }
    }

    function markTaskCompleted(task, ms) {
      {
        profilingState[PRIORITY] = NoPriority;
        profilingState[CURRENT_TASK_ID] = 0;
        profilingState[QUEUE_SIZE]--;

        if (eventLog !== null) {
          logEvent([TaskCompleteEvent, ms * 1000, task.id]);
        }
      }
    }

    function markTaskCanceled(task, ms) {
      {
        profilingState[QUEUE_SIZE]--;

        if (eventLog !== null) {
          logEvent([TaskCancelEvent, ms * 1000, task.id]);
        }
      }
    }

    function markTaskErrored(task, ms) {
      {
        profilingState[PRIORITY] = NoPriority;
        profilingState[CURRENT_TASK_ID] = 0;
        profilingState[QUEUE_SIZE]--;

        if (eventLog !== null) {
          logEvent([TaskErrorEvent, ms * 1000, task.id]);
        }
      }
    }

    function markTaskRun(task, ms) {
      {
        runIdCounter++;
        profilingState[PRIORITY] = task.priorityLevel;
        profilingState[CURRENT_TASK_ID] = task.id;
        profilingState[CURRENT_RUN_ID] = runIdCounter;

        if (eventLog !== null) {
          logEvent([TaskRunEvent, ms * 1000, task.id, runIdCounter]);
        }
      }
    }

    function markTaskYield(task, ms) {
      {
        profilingState[PRIORITY] = NoPriority;
        profilingState[CURRENT_TASK_ID] = 0;
        profilingState[CURRENT_RUN_ID] = 0;

        if (eventLog !== null) {
          logEvent([TaskYieldEvent, ms * 1000, task.id, runIdCounter]);
        }
      }
    }

    function markSchedulerSuspended(ms) {
      {
        mainThreadIdCounter++;

        if (eventLog !== null) {
          logEvent([SchedulerSuspendEvent, ms * 1000, mainThreadIdCounter]);
        }
      }
    }

    function markSchedulerUnsuspended(ms) {
      {
        if (eventLog !== null) {
          logEvent([SchedulerResumeEvent, ms * 1000, mainThreadIdCounter]);
        }
      }
    }

    var maxSigned31BitInt = 1073741823;
    var IMMEDIATE_PRIORITY_TIMEOUT = -1;
    var USER_BLOCKING_PRIORITY = 250;
    var NORMAL_PRIORITY_TIMEOUT = 5000;
    var LOW_PRIORITY_TIMEOUT = 10000;
    var IDLE_PRIORITY = maxSigned31BitInt;
    var taskQueue = [];
    var timerQueue = [];
    var taskIdCounter = 1;
    var currentTask = null;
    var currentPriorityLevel = NormalPriority;
    var isPerformingWork = false;
    var isHostCallbackScheduled = false;
    var isHostTimeoutScheduled = false;

    function advanceTimers(currentTime) {
      var timer = peek(timerQueue);

      while (timer !== null) {
        if (timer.callback === null) {
          pop(timerQueue);
        } else if (timer.startTime <= currentTime) {
          pop(timerQueue);
          timer.sortIndex = timer.expirationTime;
          push(taskQueue, timer);
          {
            markTaskStart(timer, currentTime);
            timer.isQueued = true;
          }
        } else {
          return;
        }

        timer = peek(timerQueue);
      }
    }

    function handleTimeout(currentTime) {
      isHostTimeoutScheduled = false;
      advanceTimers(currentTime);

      if (!isHostCallbackScheduled) {
        if (peek(taskQueue) !== null) {
          isHostCallbackScheduled = true;
          requestHostCallback(flushWork);
        } else {
          var firstTimer = peek(timerQueue);

          if (firstTimer !== null) {
            requestHostTimeout(handleTimeout, firstTimer.startTime - currentTime);
          }
        }
      }
    }

    function flushWork(hasTimeRemaining, initialTime) {
      {
        markSchedulerUnsuspended(initialTime);
      }
      isHostCallbackScheduled = false;

      if (isHostTimeoutScheduled) {
        isHostTimeoutScheduled = false;
        cancelHostTimeout();
      }

      isPerformingWork = true;
      var previousPriorityLevel = currentPriorityLevel;

      try {
        if (enableProfiling) {
          try {
            return workLoop(hasTimeRemaining, initialTime);
          } catch (error) {
            if (currentTask !== null) {
              var currentTime = getCurrentTime();
              markTaskErrored(currentTask, currentTime);
              currentTask.isQueued = false;
            }

            throw error;
          }
        } else {
          return workLoop(hasTimeRemaining, initialTime);
        }
      } finally {
        currentTask = null;
        currentPriorityLevel = previousPriorityLevel;
        isPerformingWork = false;
        {
          var _currentTime = getCurrentTime();

          markSchedulerSuspended(_currentTime);
        }
      }
    }

    function workLoop(hasTimeRemaining, initialTime) {
      var currentTime = initialTime;
      advanceTimers(currentTime);
      currentTask = peek(taskQueue);

      while (currentTask !== null && !enableSchedulerDebugging) {
        if (currentTask.expirationTime > currentTime && (!hasTimeRemaining || shouldYieldToHost())) {
          break;
        }

        var callback = currentTask.callback;

        if (callback !== null) {
          currentTask.callback = null;
          currentPriorityLevel = currentTask.priorityLevel;
          var didUserCallbackTimeout = currentTask.expirationTime <= currentTime;
          markTaskRun(currentTask, currentTime);
          var continuationCallback = callback(didUserCallbackTimeout);
          currentTime = getCurrentTime();

          if (typeof continuationCallback === 'function') {
            currentTask.callback = continuationCallback;
            markTaskYield(currentTask, currentTime);
          } else {
            {
              markTaskCompleted(currentTask, currentTime);
              currentTask.isQueued = false;
            }

            if (currentTask === peek(taskQueue)) {
              pop(taskQueue);
            }
          }

          advanceTimers(currentTime);
        } else {
          pop(taskQueue);
        }

        currentTask = peek(taskQueue);
      }

      if (currentTask !== null) {
        return true;
      } else {
        var firstTimer = peek(timerQueue);

        if (firstTimer !== null) {
          requestHostTimeout(handleTimeout, firstTimer.startTime - currentTime);
        }

        return false;
      }
    }

    function unstable_runWithPriority(priorityLevel, eventHandler) {
      switch (priorityLevel) {
        case ImmediatePriority:
        case UserBlockingPriority:
        case NormalPriority:
        case LowPriority:
        case IdlePriority:
          break;

        default:
          priorityLevel = NormalPriority;
      }

      var previousPriorityLevel = currentPriorityLevel;
      currentPriorityLevel = priorityLevel;

      try {
        return eventHandler();
      } finally {
        currentPriorityLevel = previousPriorityLevel;
      }
    }

    function unstable_next(eventHandler) {
      var priorityLevel;

      switch (currentPriorityLevel) {
        case ImmediatePriority:
        case UserBlockingPriority:
        case NormalPriority:
          priorityLevel = NormalPriority;
          break;

        default:
          priorityLevel = currentPriorityLevel;
          break;
      }

      var previousPriorityLevel = currentPriorityLevel;
      currentPriorityLevel = priorityLevel;

      try {
        return eventHandler();
      } finally {
        currentPriorityLevel = previousPriorityLevel;
      }
    }

    function unstable_wrapCallback(callback) {
      var parentPriorityLevel = currentPriorityLevel;
      return function () {
        var previousPriorityLevel = currentPriorityLevel;
        currentPriorityLevel = parentPriorityLevel;

        try {
          return callback.apply(this, arguments);
        } finally {
          currentPriorityLevel = previousPriorityLevel;
        }
      };
    }

    function timeoutForPriorityLevel(priorityLevel) {
      switch (priorityLevel) {
        case ImmediatePriority:
          return IMMEDIATE_PRIORITY_TIMEOUT;

        case UserBlockingPriority:
          return USER_BLOCKING_PRIORITY;

        case IdlePriority:
          return IDLE_PRIORITY;

        case LowPriority:
          return LOW_PRIORITY_TIMEOUT;

        case NormalPriority:
        default:
          return NORMAL_PRIORITY_TIMEOUT;
      }
    }

    function unstable_scheduleCallback(priorityLevel, callback, options) {
      var currentTime = getCurrentTime();
      var startTime;
      var timeout;

      if (typeof options === 'object' && options !== null) {
        var delay = options.delay;

        if (typeof delay === 'number' && delay > 0) {
          startTime = currentTime + delay;
        } else {
          startTime = currentTime;
        }

        timeout = typeof options.timeout === 'number' ? options.timeout : timeoutForPriorityLevel(priorityLevel);
      } else {
        timeout = timeoutForPriorityLevel(priorityLevel);
        startTime = currentTime;
      }

      var expirationTime = startTime + timeout;
      var newTask = {
        id: taskIdCounter++,
        callback: callback,
        priorityLevel: priorityLevel,
        startTime: startTime,
        expirationTime: expirationTime,
        sortIndex: -1
      };
      {
        newTask.isQueued = false;
      }

      if (startTime > currentTime) {
        newTask.sortIndex = startTime;
        push(timerQueue, newTask);

        if (peek(taskQueue) === null && newTask === peek(timerQueue)) {
          if (isHostTimeoutScheduled) {
            cancelHostTimeout();
          } else {
            isHostTimeoutScheduled = true;
          }

          requestHostTimeout(handleTimeout, startTime - currentTime);
        }
      } else {
        newTask.sortIndex = expirationTime;
        push(taskQueue, newTask);
        {
          markTaskStart(newTask, currentTime);
          newTask.isQueued = true;
        }

        if (!isHostCallbackScheduled && !isPerformingWork) {
          isHostCallbackScheduled = true;
          requestHostCallback(flushWork);
        }
      }

      return newTask;
    }

    function unstable_pauseExecution() {}

    function unstable_continueExecution() {
      if (!isHostCallbackScheduled && !isPerformingWork) {
        isHostCallbackScheduled = true;
        requestHostCallback(flushWork);
      }
    }

    function unstable_getFirstCallbackNode() {
      return peek(taskQueue);
    }

    function unstable_cancelCallback(task) {
      {
        if (task.isQueued) {
          var currentTime = getCurrentTime();
          markTaskCanceled(task, currentTime);
          task.isQueued = false;
        }
      }
      task.callback = null;
    }

    function unstable_getCurrentPriorityLevel() {
      return currentPriorityLevel;
    }

    function unstable_shouldYield() {
      var currentTime = getCurrentTime();
      advanceTimers(currentTime);
      var firstTask = peek(taskQueue);
      return firstTask !== currentTask && currentTask !== null && firstTask !== null && firstTask.callback !== null && firstTask.startTime <= currentTime && firstTask.expirationTime < currentTask.expirationTime || shouldYieldToHost();
    }

    var unstable_requestPaint = requestPaint;
    var unstable_Profiling = {
      startLoggingProfilingEvents: startLoggingProfilingEvents,
      stopLoggingProfilingEvents: stopLoggingProfilingEvents,
      sharedProfilingBuffer: sharedProfilingBuffer
    };
    exports.unstable_IdlePriority = IdlePriority;
    exports.unstable_ImmediatePriority = ImmediatePriority;
    exports.unstable_LowPriority = LowPriority;
    exports.unstable_NormalPriority = NormalPriority;
    exports.unstable_Profiling = unstable_Profiling;
    exports.unstable_UserBlockingPriority = UserBlockingPriority;
    exports.unstable_advanceTime = unstable_advanceTime;
    exports.unstable_cancelCallback = unstable_cancelCallback;
    exports.unstable_clearYields = unstable_clearYields;
    exports.unstable_continueExecution = unstable_continueExecution;
    exports.unstable_flushAll = unstable_flushAll;
    exports.unstable_flushAllWithoutAsserting = unstable_flushAllWithoutAsserting;
    exports.unstable_flushExpired = unstable_flushExpired;
    exports.unstable_flushNumberOfYields = unstable_flushNumberOfYields;
    exports.unstable_flushUntilNextPaint = unstable_flushUntilNextPaint;
    exports.unstable_forceFrameRate = forceFrameRate;
    exports.unstable_getCurrentPriorityLevel = unstable_getCurrentPriorityLevel;
    exports.unstable_getFirstCallbackNode = unstable_getFirstCallbackNode;
    exports.unstable_next = unstable_next;
    exports.unstable_now = getCurrentTime;
    exports.unstable_pauseExecution = unstable_pauseExecution;
    exports.unstable_requestPaint = unstable_requestPaint;
    exports.unstable_runWithPriority = unstable_runWithPriority;
    exports.unstable_scheduleCallback = unstable_scheduleCallback;
    exports.unstable_shouldYield = unstable_shouldYield;
    exports.unstable_wrapCallback = unstable_wrapCallback;
    exports.unstable_yieldValue = unstable_yieldValue;
  })();
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjaGVkdWxlci11bnN0YWJsZV9tb2NrLmRldmVsb3BtZW50LmpzIl0sIm5hbWVzIjpbInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsImVuYWJsZVNjaGVkdWxlckRlYnVnZ2luZyIsImVuYWJsZVByb2ZpbGluZyIsImN1cnJlbnRUaW1lIiwic2NoZWR1bGVkQ2FsbGJhY2siLCJzY2hlZHVsZWRUaW1lb3V0IiwidGltZW91dFRpbWUiLCJ5aWVsZGVkVmFsdWVzIiwiZXhwZWN0ZWROdW1iZXJPZllpZWxkcyIsImRpZFN0b3AiLCJpc0ZsdXNoaW5nIiwibmVlZHNQYWludCIsInNob3VsZFlpZWxkRm9yUGFpbnQiLCJyZXF1ZXN0SG9zdENhbGxiYWNrIiwiY2FsbGJhY2siLCJyZXF1ZXN0SG9zdFRpbWVvdXQiLCJtcyIsImNhbmNlbEhvc3RUaW1lb3V0Iiwic2hvdWxkWWllbGRUb0hvc3QiLCJsZW5ndGgiLCJnZXRDdXJyZW50VGltZSIsImZvcmNlRnJhbWVSYXRlIiwidW5zdGFibGVfZmx1c2hOdW1iZXJPZllpZWxkcyIsImNvdW50IiwiRXJyb3IiLCJjYiIsImhhc01vcmVXb3JrIiwidW5zdGFibGVfZmx1c2hVbnRpbE5leHRQYWludCIsInVuc3RhYmxlX2ZsdXNoRXhwaXJlZCIsInVuc3RhYmxlX2ZsdXNoQWxsV2l0aG91dEFzc2VydGluZyIsInVuc3RhYmxlX2NsZWFyWWllbGRzIiwidmFsdWVzIiwidW5zdGFibGVfZmx1c2hBbGwiLCJ1bnN0YWJsZV95aWVsZFZhbHVlIiwidmFsdWUiLCJwdXNoIiwidW5zdGFibGVfYWR2YW5jZVRpbWUiLCJyZXF1ZXN0UGFpbnQiLCJoZWFwIiwibm9kZSIsImluZGV4Iiwic2lmdFVwIiwicGVlayIsImZpcnN0IiwidW5kZWZpbmVkIiwicG9wIiwibGFzdCIsInNpZnREb3duIiwiaSIsInBhcmVudEluZGV4IiwicGFyZW50IiwiY29tcGFyZSIsImxlZnRJbmRleCIsImxlZnQiLCJyaWdodEluZGV4IiwicmlnaHQiLCJhIiwiYiIsImRpZmYiLCJzb3J0SW5kZXgiLCJpZCIsIk5vUHJpb3JpdHkiLCJJbW1lZGlhdGVQcmlvcml0eSIsIlVzZXJCbG9ja2luZ1ByaW9yaXR5IiwiTm9ybWFsUHJpb3JpdHkiLCJMb3dQcmlvcml0eSIsIklkbGVQcmlvcml0eSIsInJ1bklkQ291bnRlciIsIm1haW5UaHJlYWRJZENvdW50ZXIiLCJwcm9maWxpbmdTdGF0ZVNpemUiLCJzaGFyZWRQcm9maWxpbmdCdWZmZXIiLCJTaGFyZWRBcnJheUJ1ZmZlciIsIkludDMyQXJyYXkiLCJCWVRFU19QRVJfRUxFTUVOVCIsIkFycmF5QnVmZmVyIiwicHJvZmlsaW5nU3RhdGUiLCJQUklPUklUWSIsIkNVUlJFTlRfVEFTS19JRCIsIkNVUlJFTlRfUlVOX0lEIiwiUVVFVUVfU0laRSIsIklOSVRJQUxfRVZFTlRfTE9HX1NJWkUiLCJNQVhfRVZFTlRfTE9HX1NJWkUiLCJldmVudExvZ1NpemUiLCJldmVudExvZ0J1ZmZlciIsImV2ZW50TG9nIiwiZXZlbnRMb2dJbmRleCIsIlRhc2tTdGFydEV2ZW50IiwiVGFza0NvbXBsZXRlRXZlbnQiLCJUYXNrRXJyb3JFdmVudCIsIlRhc2tDYW5jZWxFdmVudCIsIlRhc2tSdW5FdmVudCIsIlRhc2tZaWVsZEV2ZW50IiwiU2NoZWR1bGVyU3VzcGVuZEV2ZW50IiwiU2NoZWR1bGVyUmVzdW1lRXZlbnQiLCJsb2dFdmVudCIsImVudHJpZXMiLCJvZmZzZXQiLCJjb25zb2xlIiwic3RvcExvZ2dpbmdQcm9maWxpbmdFdmVudHMiLCJuZXdFdmVudExvZyIsInNldCIsImJ1ZmZlciIsInN0YXJ0TG9nZ2luZ1Byb2ZpbGluZ0V2ZW50cyIsIm1hcmtUYXNrU3RhcnQiLCJ0YXNrIiwicHJpb3JpdHlMZXZlbCIsIm1hcmtUYXNrQ29tcGxldGVkIiwibWFya1Rhc2tDYW5jZWxlZCIsIm1hcmtUYXNrRXJyb3JlZCIsIm1hcmtUYXNrUnVuIiwibWFya1Rhc2tZaWVsZCIsIm1hcmtTY2hlZHVsZXJTdXNwZW5kZWQiLCJtYXJrU2NoZWR1bGVyVW5zdXNwZW5kZWQiLCJtYXhTaWduZWQzMUJpdEludCIsIklNTUVESUFURV9QUklPUklUWV9USU1FT1VUIiwiVVNFUl9CTE9DS0lOR19QUklPUklUWSIsIk5PUk1BTF9QUklPUklUWV9USU1FT1VUIiwiTE9XX1BSSU9SSVRZX1RJTUVPVVQiLCJJRExFX1BSSU9SSVRZIiwidGFza1F1ZXVlIiwidGltZXJRdWV1ZSIsInRhc2tJZENvdW50ZXIiLCJjdXJyZW50VGFzayIsImN1cnJlbnRQcmlvcml0eUxldmVsIiwiaXNQZXJmb3JtaW5nV29yayIsImlzSG9zdENhbGxiYWNrU2NoZWR1bGVkIiwiaXNIb3N0VGltZW91dFNjaGVkdWxlZCIsImFkdmFuY2VUaW1lcnMiLCJ0aW1lciIsInN0YXJ0VGltZSIsImV4cGlyYXRpb25UaW1lIiwiaXNRdWV1ZWQiLCJoYW5kbGVUaW1lb3V0IiwiZmx1c2hXb3JrIiwiZmlyc3RUaW1lciIsImhhc1RpbWVSZW1haW5pbmciLCJpbml0aWFsVGltZSIsInByZXZpb3VzUHJpb3JpdHlMZXZlbCIsIndvcmtMb29wIiwiZXJyb3IiLCJfY3VycmVudFRpbWUiLCJkaWRVc2VyQ2FsbGJhY2tUaW1lb3V0IiwiY29udGludWF0aW9uQ2FsbGJhY2siLCJ1bnN0YWJsZV9ydW5XaXRoUHJpb3JpdHkiLCJldmVudEhhbmRsZXIiLCJ1bnN0YWJsZV9uZXh0IiwidW5zdGFibGVfd3JhcENhbGxiYWNrIiwicGFyZW50UHJpb3JpdHlMZXZlbCIsImFwcGx5IiwiYXJndW1lbnRzIiwidGltZW91dEZvclByaW9yaXR5TGV2ZWwiLCJ1bnN0YWJsZV9zY2hlZHVsZUNhbGxiYWNrIiwib3B0aW9ucyIsInRpbWVvdXQiLCJkZWxheSIsIm5ld1Rhc2siLCJ1bnN0YWJsZV9wYXVzZUV4ZWN1dGlvbiIsInVuc3RhYmxlX2NvbnRpbnVlRXhlY3V0aW9uIiwidW5zdGFibGVfZ2V0Rmlyc3RDYWxsYmFja05vZGUiLCJ1bnN0YWJsZV9jYW5jZWxDYWxsYmFjayIsInVuc3RhYmxlX2dldEN1cnJlbnRQcmlvcml0eUxldmVsIiwidW5zdGFibGVfc2hvdWxkWWllbGQiLCJmaXJzdFRhc2siLCJ1bnN0YWJsZV9yZXF1ZXN0UGFpbnQiLCJ1bnN0YWJsZV9Qcm9maWxpbmciLCJleHBvcnRzIiwidW5zdGFibGVfSWRsZVByaW9yaXR5IiwidW5zdGFibGVfSW1tZWRpYXRlUHJpb3JpdHkiLCJ1bnN0YWJsZV9Mb3dQcmlvcml0eSIsInVuc3RhYmxlX05vcm1hbFByaW9yaXR5IiwidW5zdGFibGVfVXNlckJsb2NraW5nUHJpb3JpdHkiLCJ1bnN0YWJsZV9mb3JjZUZyYW1lUmF0ZSIsInVuc3RhYmxlX25vdyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUlBLElBQUlBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUFaLEtBQXlCLFlBQTdCLEVBQTJDO0FBQ3pDLEdBQUMsWUFBVztBQUNkOztBQUVBLFFBQUlDLHdCQUF3QixHQUFHLEtBQS9CO0FBQ0EsUUFBSUMsZUFBZSxHQUFHLElBQXRCO0FBRUEsUUFBSUMsV0FBVyxHQUFHLENBQWxCO0FBQ0EsUUFBSUMsaUJBQWlCLEdBQUcsSUFBeEI7QUFDQSxRQUFJQyxnQkFBZ0IsR0FBRyxJQUF2QjtBQUNBLFFBQUlDLFdBQVcsR0FBRyxDQUFDLENBQW5CO0FBQ0EsUUFBSUMsYUFBYSxHQUFHLElBQXBCO0FBQ0EsUUFBSUMsc0JBQXNCLEdBQUcsQ0FBQyxDQUE5QjtBQUNBLFFBQUlDLE9BQU8sR0FBRyxLQUFkO0FBQ0EsUUFBSUMsVUFBVSxHQUFHLEtBQWpCO0FBQ0EsUUFBSUMsVUFBVSxHQUFHLEtBQWpCO0FBQ0EsUUFBSUMsbUJBQW1CLEdBQUcsS0FBMUI7O0FBQ0EsYUFBU0MsbUJBQVQsQ0FBNkJDLFFBQTdCLEVBQXVDO0FBQ3JDVixNQUFBQSxpQkFBaUIsR0FBR1UsUUFBcEI7QUFDRDs7QUFDRCxhQUFTQyxrQkFBVCxDQUE0QkQsUUFBNUIsRUFBc0NFLEVBQXRDLEVBQTBDO0FBQ3hDWCxNQUFBQSxnQkFB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LHFCQUFSLEdBQWdDQSxxQkFBaEM7QUFDQW1CLElBQUFBLE9BQU8sQ0FBQ3BJLG1CQUFSLEdBQThCQSxtQkFBOUI7QUFDRyxHQXowQkQ7QUEwMEJEIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBsaWNlbnNlIFJlYWN0IHYwLjE5LjFcbiAqIHNjaGVkdWxlci11bnN0YWJsZV9tb2NrLmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAoZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBlbmFibGVTY2hlZHVsZXJEZWJ1Z2dpbmcgPSBmYWxzZTtcbnZhciBlbmFibGVQcm9maWxpbmcgPSB0cnVlO1xuXG52YXIgY3VycmVudFRpbWUgPSAwO1xudmFyIHNjaGVkdWxlZENhbGxiYWNrID0gbnVsbDtcbnZhciBzY2hlZHVsZWRUaW1lb3V0ID0gbnVsbDtcbnZhciB0aW1lb3V0VGltZSA9IC0xO1xudmFyIHlpZWxkZWRWYWx1ZXMgPSBudWxsO1xudmFyIGV4cGVjdGVkTnVtYmVyT2ZZaWVsZHMgPSAtMTtcbnZhciBkaWRTdG9wID0gZmFsc2U7XG52YXIgaXNGbHVzaGluZyA9IGZhbHNlO1xudmFyIG5lZWRzUGFpbnQgPSBmYWxzZTtcbnZhciBzaG91bGRZaWVsZEZvclBhaW50ID0gZmFsc2U7XG5mdW5jdGlvbiByZXF1ZXN0SG9zdENhbGxiYWNrKGNhbGxiYWNrKSB7XG4gIHNjaGVkdWxlZENhbGxiYWNrID0gY2FsbGJhY2s7XG59XG5mdW5jdGlvbiByZXF1ZXN0SG9zdFRpbWVvdXQoY2FsbGJhY2ssIG1zKSB7XG4gIHNjaGVkdWxlZFRpbWVvdXQgPSBjYWxsYmFjaztcbiAgdGltZW91dFRpbWUgPSBjdXJyZW50VGltZSArIG1zO1xufVxuZnVuY3Rpb24gY2FuY2VsSG9zdFRpbWVvdXQoKSB7XG4gIHNjaGVkdWxlZFRpbWVvdXQgPSBudWxsO1xuICB0aW1lb3V0VGltZSA9IC0xO1xufVxuZnVuY3Rpb24gc2hvdWxkWWllbGRUb0hvc3QoKSB7XG4gIGlmIChleHBlY3RlZE51bWJlck9mWWllbGRzICE9PSAtMSAmJiB5aWVsZGVkVmFsdWVzICE9PSBudWxsICYmIHlpZWxkZWRWYWx1ZXMubGVuZ3RoID49IGV4cGVjdGVkTnVtYmVyT2ZZaWVsZHMgfHwgc2hvdWxkWWllbGRGb3JQYWludCAmJiBuZWVkc1BhaW50KSB7XG4gICAgLy8gV2UgeWllbGRlZCBhdCBsZWFzdCBhcyBtYW55IHZhbHVlcyBhcyBleHBlY3RlZC4gU3RvcCBmbHVzaGluZy5cbiAgICBkaWRTdG9wID0gdHJ1ZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGdldEN1cnJlbnRUaW1lKCkge1xuICByZXR1cm4gY3VycmVudFRpbWU7XG59XG5mdW5jdGlvbiBmb3JjZUZyYW1lUmF0ZSgpIHsvLyBOby1vcFxufVxuXG5mdW5jdGlvbiB1bnN0YWJsZV9mbHVzaE51bWJlck9mWWllbGRzKGNvdW50KSB7XG4gIGlmIChpc0ZsdXNoaW5nKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdBbHJlYWR5IGZsdXNoaW5nIHdvcmsuJyk7XG4gIH1cblxuICBpZiAoc2NoZWR1bGVkQ2FsbGJhY2sgIT09IG51bGwpIHtcbiAgICB2YXIgY2IgPSBzY2hlZHVsZWRDYWxsYmFjaztcbiAgICBleHBlY3RlZE51bWJlck9mWWllbGRzID0gY291bnQ7XG4gICAgaXNGbHVzaGluZyA9IHRydWU7XG5cbiAgICB0cnkge1xuICAgICAgdmFyIGhhc01vcmVXb3JrID0gdHJ1ZTtcblxuICAgICAgZG8ge1xuICAgICAgICBoYXNNb3JlV29yayA9IGNiKHRydWUsIGN1cnJlbnRUaW1lKTtcbiAgICAgIH0gd2hpbGUgKGhhc01vcmVXb3JrICYmICFkaWRTdG9wKTtcblxuICAgICAgaWYgKCFoYXNNb3JlV29yaykge1xuICAgICAgICBzY2hlZHVsZWRDYWxsYmFjayA9IG51bGw7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGV4cGVjdGVkTnVtYmVyT2ZZaWVsZHMgPSAtMTtcbiAgICAgIGRpZFN0b3AgPSBmYWxzZTtcbiAgICAgIGlzRmx1c2hpbmcgPSBmYWxzZTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHVuc3RhYmxlX2ZsdXNoVW50aWxOZXh0UGFpbnQoKSB7XG4gIGlmIChpc0ZsdXNoaW5nKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdBbHJlYWR5IGZsdXNoaW5nIHdvcmsuJyk7XG4gIH1cblxuICBpZiAoc2NoZWR1bGVkQ2FsbGJhY2sgIT09IG51bGwpIHtcbiAgICB2YXIgY2IgPSBzY2hlZHVsZWRDYWxsYmFjaztcbiAgICBzaG91bGRZaWVsZEZvclBhaW50ID0gdHJ1ZTtcbiAgICBuZWVkc1BhaW50ID0gZmFsc2U7XG4gICAgaXNGbHVzaGluZyA9IHRydWU7XG5cbiAgICB0cnkge1xuICAgICAgdmFyIGhhc01vcmVXb3JrID0gdHJ1ZTtcblxuICAgICAgZG8ge1xuICAgICAgICBoYXNNb3JlV29yayA9IGNiKHRydWUsIGN1cnJlbnRUaW1lKTtcbiAgICAgIH0gd2hpbGUgKGhhc01vcmVXb3JrICYmICFkaWRTdG9wKTtcblxuICAgICAgaWYgKCFoYXNNb3JlV29yaykge1xuICAgICAgICBzY2hlZHVsZWRDYWxsYmFjayA9IG51bGw7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNob3VsZFlpZWxkRm9yUGFpbnQgPSBmYWxzZTtcbiAgICAgIGRpZFN0b3AgPSBmYWxzZTtcbiAgICAgIGlzRmx1c2hpbmcgPSBmYWxzZTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHVuc3RhYmxlX2ZsdXNoRXhwaXJlZCgpIHtcbiAgaWYgKGlzRmx1c2hpbmcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0FscmVhZHkgZmx1c2hpbmcgd29yay4nKTtcbiAgfVxuXG4gIGlmIChzY2hlZHVsZWRDYWxsYmFjayAhPT0gbnVsbCkge1xuICAgIGlzRmx1c2hpbmcgPSB0cnVlO1xuXG4gICAgdHJ5IHtcbiAgICAgIHZhciBoYXNNb3JlV29yayA9IHNjaGVkdWxlZENhbGxiYWNrKGZhbHNlLCBjdXJyZW50VGltZSk7XG5cbiAgICAgIGlmICghaGFzTW9yZVdvcmspIHtcbiAgICAgICAgc2NoZWR1bGVkQ2FsbGJhY2sgPSBudWxsO1xuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICBpc0ZsdXNoaW5nID0gZmFsc2U7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiB1bnN0YWJsZV9mbHVzaEFsbFdpdGhvdXRBc3NlcnRpbmcoKSB7XG4gIC8vIFJldHVybnMgZmFsc2UgaWYgbm8gd29yayB3YXMgZmx1c2hlZC5cbiAgaWYgKGlzRmx1c2hpbmcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0FscmVhZHkgZmx1c2hpbmcgd29yay4nKTtcbiAgfVxuXG4gIGlmIChzY2hlZHVsZWRDYWxsYmFjayAhPT0gbnVsbCkge1xuICAgIHZhciBjYiA9IHNjaGVkdWxlZENhbGxiYWNrO1xuICAgIGlzRmx1c2hpbmcgPSB0cnVlO1xuXG4gICAgdHJ5IHtcbiAgICAgIHZhciBoYXNNb3JlV29yayA9IHRydWU7XG5cbiAgICAgIGRvIHtcbiAgICAgICAgaGFzTW9yZVdvcmsgPSBjYih0cnVlLCBjdXJyZW50VGltZSk7XG4gICAgICB9IHdoaWxlIChoYXNNb3JlV29yayk7XG5cbiAgICAgIGlmICghaGFzTW9yZVdvcmspIHtcbiAgICAgICAgc2NoZWR1bGVkQ2FsbGJhY2sgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaXNGbHVzaGluZyA9IGZhbHNlO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbmZ1bmN0aW9uIHVuc3RhYmxlX2NsZWFyWWllbGRzKCkge1xuICBpZiAoeWllbGRlZFZhbHVlcyA9PT0gbnVsbCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIHZhciB2YWx1ZXMgPSB5aWVsZGVkVmFsdWVzO1xuICB5aWVsZGVkVmFsdWVzID0gbnVsbDtcbiAgcmV0dXJuIHZhbHVlcztcbn1cbmZ1bmN0aW9uIHVuc3RhYmxlX2ZsdXNoQWxsKCkge1xuICBpZiAoeWllbGRlZFZhbHVlcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcignTG9nIGlzIG5vdCBlbXB0eS4gQXNzZXJ0IG9uIHRoZSBsb2cgb2YgeWllbGRlZCB2YWx1ZXMgYmVmb3JlICcgKyAnZmx1c2hpbmcgYWRkaXRpb25hbCB3b3JrLicpO1xuICB9XG5cbiAgdW5zdGFibGVfZmx1c2hBbGxXaXRob3V0QXNzZXJ0aW5nKCk7XG5cbiAgaWYgKHlpZWxkZWRWYWx1ZXMgIT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1doaWxlIGZsdXNoaW5nIHdvcmssIHNvbWV0aGluZyB5aWVsZGVkIGEgdmFsdWUuIFVzZSBhbiAnICsgJ2Fzc2VydGlvbiBoZWxwZXIgdG8gYXNzZXJ0IG9uIHRoZSBsb2cgb2YgeWllbGRlZCB2YWx1ZXMsIGUuZy4gJyArICdleHBlY3QoU2NoZWR1bGVyKS50b0ZsdXNoQW5kWWllbGQoWy4uLl0pJyk7XG4gIH1cbn1cbmZ1bmN0aW9uIHVuc3RhYmxlX3lpZWxkVmFsdWUodmFsdWUpIHtcbiAgaWYgKHlpZWxkZWRWYWx1ZXMgPT09IG51bGwpIHtcbiAgICB5aWVsZGVkVmFsdWVzID0gW3ZhbHVlXTtcbiAgfSBlbHNlIHtcbiAgICB5aWVsZGVkVmFsdWVzLnB1c2godmFsdWUpO1xuICB9XG59XG5mdW5jdGlvbiB1bnN0YWJsZV9hZHZhbmNlVGltZShtcykge1xuICBjdXJyZW50VGltZSArPSBtcztcblxuICBpZiAoc2NoZWR1bGVkVGltZW91dCAhPT0gbnVsbCAmJiB0aW1lb3V0VGltZSA8PSBjdXJyZW50VGltZSkge1xuICAgIHNjaGVkdWxlZFRpbWVvdXQoY3VycmVudFRpbWUpO1xuICAgIHRpbWVvdXRUaW1lID0gLTE7XG4gICAgc2NoZWR1bGVkVGltZW91dCA9IG51bGw7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlcXVlc3RQYWludCgpIHtcbiAgbmVlZHNQYWludCA9IHRydWU7XG59XG5cbmZ1bmN0aW9uIHB1c2goaGVhcCwgbm9kZSkge1xuICB2YXIgaW5kZXggPSBoZWFwLmxlbmd0aDtcbiAgaGVhcC5wdXNoKG5vZGUpO1xuICBzaWZ0VXAoaGVhcCwgbm9kZSwgaW5kZXgpO1xufVxuZnVuY3Rpb24gcGVlayhoZWFwKSB7XG4gIHZhciBmaXJzdCA9IGhlYXBbMF07XG4gIHJldHVybiBmaXJzdCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGZpcnN0O1xufVxuZnVuY3Rpb24gcG9wKGhlYXApIHtcbiAgdmFyIGZpcnN0ID0gaGVhcFswXTtcblxuICBpZiAoZmlyc3QgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBsYXN0ID0gaGVhcC5wb3AoKTtcblxuICAgIGlmIChsYXN0ICE9PSBmaXJzdCkge1xuICAgICAgaGVhcFswXSA9IGxhc3Q7XG4gICAgICBzaWZ0RG93bihoZWFwLCBsYXN0LCAwKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmlyc3Q7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2lmdFVwKGhlYXAsIG5vZGUsIGkpIHtcbiAgdmFyIGluZGV4ID0gaTtcblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIHZhciBwYXJlbnRJbmRleCA9IGluZGV4IC0gMSA+Pj4gMTtcbiAgICB2YXIgcGFyZW50ID0gaGVhcFtwYXJlbnRJbmRleF07XG5cbiAgICBpZiAocGFyZW50ICE9PSB1bmRlZmluZWQgJiYgY29tcGFyZShwYXJlbnQsIG5vZGUpID4gMCkge1xuICAgICAgLy8gVGhlIHBhcmVudCBpcyBsYXJnZXIuIFN3YXAgcG9zaXRpb25zLlxuICAgICAgaGVhcFtwYXJlbnRJbmRleF0gPSBub2RlO1xuICAgICAgaGVhcFtpbmRleF0gPSBwYXJlbnQ7XG4gICAgICBpbmRleCA9IHBhcmVudEluZGV4O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGUgcGFyZW50IGlzIHNtYWxsZXIuIEV4aXQuXG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHNpZnREb3duKGhlYXAsIG5vZGUsIGkpIHtcbiAgdmFyIGluZGV4ID0gaTtcbiAgdmFyIGxlbmd0aCA9IGhlYXAubGVuZ3RoO1xuXG4gIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBsZWZ0SW5kZXggPSAoaW5kZXggKyAxKSAqIDIgLSAxO1xuICAgIHZhciBsZWZ0ID0gaGVhcFtsZWZ0SW5kZXhdO1xuICAgIHZhciByaWdodEluZGV4ID0gbGVmdEluZGV4ICsgMTtcbiAgICB2YXIgcmlnaHQgPSBoZWFwW3JpZ2h0SW5kZXhdOyAvLyBJZiB0aGUgbGVmdCBvciByaWdodCBub2RlIGlzIHNtYWxsZXIsIHN3YXAgd2l0aCB0aGUgc21hbGxlciBvZiB0aG9zZS5cblxuICAgIGlmIChsZWZ0ICE9PSB1bmRlZmluZWQgJiYgY29tcGFyZShsZWZ0LCBub2RlKSA8IDApIHtcbiAgICAgIGlmIChyaWdodCAhPT0gdW5kZWZpbmVkICYmIGNvbXBhcmUocmlnaHQsIGxlZnQpIDwgMCkge1xuICAgICAgICBoZWFwW2luZGV4XSA9IHJpZ2h0O1xuICAgICAgICBoZWFwW3JpZ2h0SW5kZXhdID0gbm9kZTtcbiAgICAgICAgaW5kZXggPSByaWdodEluZGV4O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGVhcFtpbmRleF0gPSBsZWZ0O1xuICAgICAgICBoZWFwW2xlZnRJbmRleF0gPSBub2RlO1xuICAgICAgICBpbmRleCA9IGxlZnRJbmRleDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHJpZ2h0ICE9PSB1bmRlZmluZWQgJiYgY29tcGFyZShyaWdodCwgbm9kZSkgPCAwKSB7XG4gICAgICBoZWFwW2luZGV4XSA9IHJpZ2h0O1xuICAgICAgaGVhcFtyaWdodEluZGV4XSA9IG5vZGU7XG4gICAgICBpbmRleCA9IHJpZ2h0SW5kZXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5laXRoZXIgY2hpbGQgaXMgc21hbGxlci4gRXhpdC5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY29tcGFyZShhLCBiKSB7XG4gIC8vIENvbXBhcmUgc29ydCBpbmRleCBmaXJzdCwgdGhlbiB0YXNrIGlkLlxuICB2YXIgZGlmZiA9IGEuc29ydEluZGV4IC0gYi5zb3J0SW5kZXg7XG4gIHJldHVybiBkaWZmICE9PSAwID8gZGlmZiA6IGEuaWQgLSBiLmlkO1xufVxuXG4vLyBUT0RPOiBVc2Ugc3ltYm9scz9cbnZhciBOb1ByaW9yaXR5ID0gMDtcbnZhciBJbW1lZGlhdGVQcmlvcml0eSA9IDE7XG52YXIgVXNlckJsb2NraW5nUHJpb3JpdHkgPSAyO1xudmFyIE5vcm1hbFByaW9yaXR5ID0gMztcbnZhciBMb3dQcmlvcml0eSA9IDQ7XG52YXIgSWRsZVByaW9yaXR5ID0gNTtcblxudmFyIHJ1bklkQ291bnRlciA9IDA7XG52YXIgbWFpblRocmVhZElkQ291bnRlciA9IDA7XG52YXIgcHJvZmlsaW5nU3RhdGVTaXplID0gNDtcbnZhciBzaGFyZWRQcm9maWxpbmdCdWZmZXIgPSAgLy8gJEZsb3dGaXhNZSBGbG93IGRvZXNuJ3Qga25vdyBhYm91dCBTaGFyZWRBcnJheUJ1ZmZlclxudHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyID09PSAnZnVuY3Rpb24nID8gbmV3IFNoYXJlZEFycmF5QnVmZmVyKHByb2ZpbGluZ1N0YXRlU2l6ZSAqIEludDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQpIDogLy8gJEZsb3dGaXhNZSBGbG93IGRvZXNuJ3Qga25vdyBhYm91dCBBcnJheUJ1ZmZlclxudHlwZW9mIEFycmF5QnVmZmVyID09PSAnZnVuY3Rpb24nID8gbmV3IEFycmF5QnVmZmVyKHByb2ZpbGluZ1N0YXRlU2l6ZSAqIEludDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQpIDogbnVsbCAvLyBEb24ndCBjcmFzaCB0aGUgaW5pdCBwYXRoIG9uIElFOVxuO1xudmFyIHByb2ZpbGluZ1N0YXRlID0gIHNoYXJlZFByb2ZpbGluZ0J1ZmZlciAhPT0gbnVsbCA/IG5ldyBJbnQzMkFycmF5KHNoYXJlZFByb2ZpbGluZ0J1ZmZlcikgOiBbXTsgLy8gV2UgY2FuJ3QgcmVhZCB0aGlzIGJ1dCBpdCBoZWxwcyBzYXZlIGJ5dGVzIGZvciBudWxsIGNoZWNrc1xuXG52YXIgUFJJT1JJVFkgPSAwO1xudmFyIENVUlJFTlRfVEFTS19JRCA9IDE7XG52YXIgQ1VSUkVOVF9SVU5fSUQgPSAyO1xudmFyIFFVRVVFX1NJWkUgPSAzO1xuXG57XG4gIHByb2ZpbGluZ1N0YXRlW1BSSU9SSVRZXSA9IE5vUHJpb3JpdHk7IC8vIFRoaXMgaXMgbWFpbnRhaW5lZCB3aXRoIGEgY291bnRlciwgYmVjYXVzZSB0aGUgc2l6ZSBvZiB0aGUgcHJpb3JpdHkgcXVldWVcbiAgLy8gYXJyYXkgbWlnaHQgaW5jbHVkZSBjYW5jZWxlZCB0YXNrcy5cblxuICBwcm9maWxpbmdTdGF0ZVtRVUVVRV9TSVpFXSA9IDA7XG4gIHByb2ZpbGluZ1N0YXRlW0NVUlJFTlRfVEFTS19JRF0gPSAwO1xufSAvLyBCeXRlcyBwZXIgZWxlbWVudCBpcyA0XG5cblxudmFyIElOSVRJQUxfRVZFTlRfTE9HX1NJWkUgPSAxMzEwNzI7XG52YXIgTUFYX0VWRU5UX0xPR19TSVpFID0gNTI0Mjg4OyAvLyBFcXVpdmFsZW50IHRvIDIgbWVnYWJ5dGVzXG5cbnZhciBldmVudExvZ1NpemUgPSAwO1xudmFyIGV2ZW50TG9nQnVmZmVyID0gbnVsbDtcbnZhciBldmVudExvZyA9IG51bGw7XG52YXIgZXZlbnRMb2dJbmRleCA9IDA7XG52YXIgVGFza1N0YXJ0RXZlbnQgPSAxO1xudmFyIFRhc2tDb21wbGV0ZUV2ZW50ID0gMjtcbnZhciBUYXNrRXJyb3JFdmVudCA9IDM7XG52YXIgVGFza0NhbmNlbEV2ZW50ID0gNDtcbnZhciBUYXNrUnVuRXZlbnQgPSA1O1xudmFyIFRhc2tZaWVsZEV2ZW50ID0gNjtcbnZhciBTY2hlZHVsZXJTdXNwZW5kRXZlbnQgPSA3O1xudmFyIFNjaGVkdWxlclJlc3VtZUV2ZW50ID0gODtcblxuZnVuY3Rpb24gbG9nRXZlbnQoZW50cmllcykge1xuICBpZiAoZXZlbnRMb2cgIT09IG51bGwpIHtcbiAgICB2YXIgb2Zmc2V0ID0gZXZlbnRMb2dJbmRleDtcbiAgICBldmVudExvZ0luZGV4ICs9IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgaWYgKGV2ZW50TG9nSW5kZXggKyAxID4gZXZlbnRMb2dTaXplKSB7XG4gICAgICBldmVudExvZ1NpemUgKj0gMjtcblxuICAgICAgaWYgKGV2ZW50TG9nU2l6ZSA+IE1BWF9FVkVOVF9MT0dfU0laRSkge1xuICAgICAgICAvLyBVc2luZyBjb25zb2xlWydlcnJvciddIHRvIGV2YWRlIEJhYmVsIGFuZCBFU0xpbnRcbiAgICAgICAgY29uc29sZVsnZXJyb3InXShcIlNjaGVkdWxlciBQcm9maWxpbmc6IEV2ZW50IGxvZyBleGNlZWRlZCBtYXhpbXVtIHNpemUuIERvbid0IFwiICsgJ2ZvcmdldCB0byBjYWxsIGBzdG9wTG9nZ2luZ1Byb2ZpbGluZ0V2ZW50cygpYC4nKTtcbiAgICAgICAgc3RvcExvZ2dpbmdQcm9maWxpbmdFdmVudHMoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgbmV3RXZlbnRMb2cgPSBuZXcgSW50MzJBcnJheShldmVudExvZ1NpemUgKiA0KTtcbiAgICAgIG5ld0V2ZW50TG9nLnNldChldmVudExvZyk7XG4gICAgICBldmVudExvZ0J1ZmZlciA9IG5ld0V2ZW50TG9nLmJ1ZmZlcjtcbiAgICAgIGV2ZW50TG9nID0gbmV3RXZlbnRMb2c7XG4gICAgfVxuXG4gICAgZXZlbnRMb2cuc2V0KGVudHJpZXMsIG9mZnNldCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RhcnRMb2dnaW5nUHJvZmlsaW5nRXZlbnRzKCkge1xuICBldmVudExvZ1NpemUgPSBJTklUSUFMX0VWRU5UX0xPR19TSVpFO1xuICBldmVudExvZ0J1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihldmVudExvZ1NpemUgKiA0KTtcbiAgZXZlbnRMb2cgPSBuZXcgSW50MzJBcnJheShldmVudExvZ0J1ZmZlcik7XG4gIGV2ZW50TG9nSW5kZXggPSAwO1xufVxuZnVuY3Rpb24gc3RvcExvZ2dpbmdQcm9maWxpbmdFdmVudHMoKSB7XG4gIHZhciBidWZmZXIgPSBldmVudExvZ0J1ZmZlcjtcbiAgZXZlbnRMb2dTaXplID0gMDtcbiAgZXZlbnRMb2dCdWZmZXIgPSBudWxsO1xuICBldmVudExvZyA9IG51bGw7XG4gIGV2ZW50TG9nSW5kZXggPSAwO1xuICByZXR1cm4gYnVmZmVyO1xufVxuZnVuY3Rpb24gbWFya1Rhc2tTdGFydCh0YXNrLCBtcykge1xuICB7XG4gICAgcHJvZmlsaW5nU3RhdGVbUVVFVUVfU0laRV0rKztcblxuICAgIGlmIChldmVudExvZyAhPT0gbnVsbCkge1xuICAgICAgLy8gcGVyZm9ybWFuY2Uubm93IHJldHVybnMgYSBmbG9hdCwgcmVwcmVzZW50aW5nIG1pbGxpc2Vjb25kcy4gV2hlbiB0aGVcbiAgICAgIC8vIGV2ZW50IGlzIGxvZ2dlZCwgaXQncyBjb2VyY2VkIHRvIGFuIGludC4gQ29udmVydCB0byBtaWNyb3NlY29uZHMgdG9cbiAgICAgIC8vIG1haW50YWluIGV4dHJhIGRlZ3JlZXMgb2YgcHJlY2lzaW9uLlxuICAgICAgbG9nRXZlbnQoW1Rhc2tTdGFydEV2ZW50LCBtcyAqIDEwMDAsIHRhc2suaWQsIHRhc2sucHJpb3JpdHlMZXZlbF0pO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gbWFya1Rhc2tDb21wbGV0ZWQodGFzaywgbXMpIHtcbiAge1xuICAgIHByb2ZpbGluZ1N0YXRlW1BSSU9SSVRZXSA9IE5vUHJpb3JpdHk7XG4gICAgcHJvZmlsaW5nU3RhdGVbQ1VSUkVOVF9UQVNLX0lEXSA9IDA7XG4gICAgcHJvZmlsaW5nU3RhdGVbUVVFVUVfU0laRV0tLTtcblxuICAgIGlmIChldmVudExvZyAhPT0gbnVsbCkge1xuICAgICAgbG9nRXZlbnQoW1Rhc2tDb21wbGV0ZUV2ZW50LCBtcyAqIDEwMDAsIHRhc2suaWRdKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIG1hcmtUYXNrQ2FuY2VsZWQodGFzaywgbXMpIHtcbiAge1xuICAgIHByb2ZpbGluZ1N0YXRlW1FVRVVFX1NJWkVdLS07XG5cbiAgICBpZiAoZXZlbnRMb2cgIT09IG51bGwpIHtcbiAgICAgIGxvZ0V2ZW50KFtUYXNrQ2FuY2VsRXZlbnQsIG1zICogMTAwMCwgdGFzay5pZF0pO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gbWFya1Rhc2tFcnJvcmVkKHRhc2ssIG1zKSB7XG4gIHtcbiAgICBwcm9maWxpbmdTdGF0ZVtQUklPUklUWV0gPSBOb1ByaW9yaXR5O1xuICAgIHByb2ZpbGluZ1N0YXRlW0NVUlJFTlRfVEFTS19JRF0gPSAwO1xuICAgIHByb2ZpbGluZ1N0YXRlW1FVRVVFX1NJWkVdLS07XG5cbiAgICBpZiAoZXZlbnRMb2cgIT09IG51bGwpIHtcbiAgICAgIGxvZ0V2ZW50KFtUYXNrRXJyb3JFdmVudCwgbXMgKiAxMDAwLCB0YXNrLmlkXSk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBtYXJrVGFza1J1bih0YXNrLCBtcykge1xuICB7XG4gICAgcnVuSWRDb3VudGVyKys7XG4gICAgcHJvZmlsaW5nU3RhdGVbUFJJT1JJVFldID0gdGFzay5wcmlvcml0eUxldmVsO1xuICAgIHByb2ZpbGluZ1N0YXRlW0NVUlJFTlRfVEFTS19JRF0gPSB0YXNrLmlkO1xuICAgIHByb2ZpbGluZ1N0YXRlW0NVUlJFTlRfUlVOX0lEXSA9IHJ1bklkQ291bnRlcjtcblxuICAgIGlmIChldmVudExvZyAhPT0gbnVsbCkge1xuICAgICAgbG9nRXZlbnQoW1Rhc2tSdW5FdmVudCwgbXMgKiAxMDAwLCB0YXNrLmlkLCBydW5JZENvdW50ZXJdKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIG1hcmtUYXNrWWllbGQodGFzaywgbXMpIHtcbiAge1xuICAgIHByb2ZpbGluZ1N0YXRlW1BSSU9SSVRZXSA9IE5vUHJpb3JpdHk7XG4gICAgcHJvZmlsaW5nU3RhdGVbQ1VSUkVOVF9UQVNLX0lEXSA9IDA7XG4gICAgcHJvZmlsaW5nU3RhdGVbQ1VSUkVOVF9SVU5fSURdID0gMDtcblxuICAgIGlmIChldmVudExvZyAhPT0gbnVsbCkge1xuICAgICAgbG9nRXZlbnQoW1Rhc2tZaWVsZEV2ZW50LCBtcyAqIDEwMDAsIHRhc2suaWQsIHJ1bklkQ291bnRlcl0pO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gbWFya1NjaGVkdWxlclN1c3BlbmRlZChtcykge1xuICB7XG4gICAgbWFpblRocmVhZElkQ291bnRlcisrO1xuXG4gICAgaWYgKGV2ZW50TG9nICE9PSBudWxsKSB7XG4gICAgICBsb2dFdmVudChbU2NoZWR1bGVyU3VzcGVuZEV2ZW50LCBtcyAqIDEwMDAsIG1haW5UaHJlYWRJZENvdW50ZXJdKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIG1hcmtTY2hlZHVsZXJVbnN1c3BlbmRlZChtcykge1xuICB7XG4gICAgaWYgKGV2ZW50TG9nICE9PSBudWxsKSB7XG4gICAgICBsb2dFdmVudChbU2NoZWR1bGVyUmVzdW1lRXZlbnQsIG1zICogMTAwMCwgbWFpblRocmVhZElkQ291bnRlcl0pO1xuICAgIH1cbiAgfVxufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby12YXIgKi9cbi8vIE1hdGgucG93KDIsIDMwKSAtIDFcbi8vIDBiMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExXG5cbnZhciBtYXhTaWduZWQzMUJpdEludCA9IDEwNzM3NDE4MjM7IC8vIFRpbWVzIG91dCBpbW1lZGlhdGVseVxuXG52YXIgSU1NRURJQVRFX1BSSU9SSVRZX1RJTUVPVVQgPSAtMTsgLy8gRXZlbnR1YWxseSB0aW1lcyBvdXRcblxudmFyIFVTRVJfQkxPQ0tJTkdfUFJJT1JJVFkgPSAyNTA7XG52YXIgTk9STUFMX1BSSU9SSVRZX1RJTUVPVVQgPSA1MDAwO1xudmFyIExPV19QUklPUklUWV9USU1FT1VUID0gMTAwMDA7IC8vIE5ldmVyIHRpbWVzIG91dFxuXG52YXIgSURMRV9QUklPUklUWSA9IG1heFNpZ25lZDMxQml0SW50OyAvLyBUYXNrcyBhcmUgc3RvcmVkIG9uIGEgbWluIGhlYXBcblxudmFyIHRhc2tRdWV1ZSA9IFtdO1xudmFyIHRpbWVyUXVldWUgPSBbXTsgLy8gSW5jcmVtZW50aW5nIGlkIGNvdW50ZXIuIFVzZWQgdG8gbWFpbnRhaW4gaW5zZXJ0aW9uIG9yZGVyLlxuXG52YXIgdGFza0lkQ291bnRlciA9IDE7IC8vIFBhdXNpbmcgdGhlIHNjaGVkdWxlciBpcyB1c2VmdWwgZm9yIGRlYnVnZ2luZy5cbnZhciBjdXJyZW50VGFzayA9IG51bGw7XG52YXIgY3VycmVudFByaW9yaXR5TGV2ZWwgPSBOb3JtYWxQcmlvcml0eTsgLy8gVGhpcyBpcyBzZXQgd2hpbGUgcGVyZm9ybWluZyB3b3JrLCB0byBwcmV2ZW50IHJlLWVudHJhbmN5LlxuXG52YXIgaXNQZXJmb3JtaW5nV29yayA9IGZhbHNlO1xudmFyIGlzSG9zdENhbGxiYWNrU2NoZWR1bGVkID0gZmFsc2U7XG52YXIgaXNIb3N0VGltZW91dFNjaGVkdWxlZCA9IGZhbHNlO1xuXG5mdW5jdGlvbiBhZHZhbmNlVGltZXJzKGN1cnJlbnRUaW1lKSB7XG4gIC8vIENoZWNrIGZvciB0YXNrcyB0aGF0IGFyZSBubyBsb25nZXIgZGVsYXllZCBhbmQgYWRkIHRoZW0gdG8gdGhlIHF1ZXVlLlxuICB2YXIgdGltZXIgPSBwZWVrKHRpbWVyUXVldWUpO1xuXG4gIHdoaWxlICh0aW1lciAhPT0gbnVsbCkge1xuICAgIGlmICh0aW1lci5jYWxsYmFjayA9PT0gbnVsbCkge1xuICAgICAgLy8gVGltZXIgd2FzIGNhbmNlbGxlZC5cbiAgICAgIHBvcCh0aW1lclF1ZXVlKTtcbiAgICB9IGVsc2UgaWYgKHRpbWVyLnN0YXJ0VGltZSA8PSBjdXJyZW50VGltZSkge1xuICAgICAgLy8gVGltZXIgZmlyZWQuIFRyYW5zZmVyIHRvIHRoZSB0YXNrIHF1ZXVlLlxuICAgICAgcG9wKHRpbWVyUXVldWUpO1xuICAgICAgdGltZXIuc29ydEluZGV4ID0gdGltZXIuZXhwaXJhdGlvblRpbWU7XG4gICAgICBwdXNoKHRhc2tRdWV1ZSwgdGltZXIpO1xuXG4gICAgICB7XG4gICAgICAgIG1hcmtUYXNrU3RhcnQodGltZXIsIGN1cnJlbnRUaW1lKTtcbiAgICAgICAgdGltZXIuaXNRdWV1ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZW1haW5pbmcgdGltZXJzIGFyZSBwZW5kaW5nLlxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRpbWVyID0gcGVlayh0aW1lclF1ZXVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVUaW1lb3V0KGN1cnJlbnRUaW1lKSB7XG4gIGlzSG9zdFRpbWVvdXRTY2hlZHVsZWQgPSBmYWxzZTtcbiAgYWR2YW5jZVRpbWVycyhjdXJyZW50VGltZSk7XG5cbiAgaWYgKCFpc0hvc3RDYWxsYmFja1NjaGVkdWxlZCkge1xuICAgIGlmIChwZWVrKHRhc2tRdWV1ZSkgIT09IG51bGwpIHtcbiAgICAgIGlzSG9zdENhbGxiYWNrU2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgIHJlcXVlc3RIb3N0Q2FsbGJhY2soZmx1c2hXb3JrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGZpcnN0VGltZXIgPSBwZWVrKHRpbWVyUXVldWUpO1xuXG4gICAgICBpZiAoZmlyc3RUaW1lciAhPT0gbnVsbCkge1xuICAgICAgICByZXF1ZXN0SG9zdFRpbWVvdXQoaGFuZGxlVGltZW91dCwgZmlyc3RUaW1lci5zdGFydFRpbWUgLSBjdXJyZW50VGltZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGZsdXNoV29yayhoYXNUaW1lUmVtYWluaW5nLCBpbml0aWFsVGltZSkge1xuICB7XG4gICAgbWFya1NjaGVkdWxlclVuc3VzcGVuZGVkKGluaXRpYWxUaW1lKTtcbiAgfSAvLyBXZSdsbCBuZWVkIGEgaG9zdCBjYWxsYmFjayB0aGUgbmV4dCB0aW1lIHdvcmsgaXMgc2NoZWR1bGVkLlxuXG5cbiAgaXNIb3N0Q2FsbGJhY2tTY2hlZHVsZWQgPSBmYWxzZTtcblxuICBpZiAoaXNIb3N0VGltZW91dFNjaGVkdWxlZCkge1xuICAgIC8vIFdlIHNjaGVkdWxlZCBhIHRpbWVvdXQgYnV0IGl0J3Mgbm8gbG9uZ2VyIG5lZWRlZC4gQ2FuY2VsIGl0LlxuICAgIGlzSG9zdFRpbWVvdXRTY2hlZHVsZWQgPSBmYWxzZTtcbiAgICBjYW5jZWxIb3N0VGltZW91dCgpO1xuICB9XG5cbiAgaXNQZXJmb3JtaW5nV29yayA9IHRydWU7XG4gIHZhciBwcmV2aW91c1ByaW9yaXR5TGV2ZWwgPSBjdXJyZW50UHJpb3JpdHlMZXZlbDtcblxuICB0cnkge1xuICAgIGlmIChlbmFibGVQcm9maWxpbmcpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB3b3JrTG9vcChoYXNUaW1lUmVtYWluaW5nLCBpbml0aWFsVGltZSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAoY3VycmVudFRhc2sgIT09IG51bGwpIHtcbiAgICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBnZXRDdXJyZW50VGltZSgpO1xuICAgICAgICAgIG1hcmtUYXNrRXJyb3JlZChjdXJyZW50VGFzaywgY3VycmVudFRpbWUpO1xuICAgICAgICAgIGN1cnJlbnRUYXNrLmlzUXVldWVkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTm8gY2F0Y2ggaW4gcHJvZCBjb2RlcGF0aC5cbiAgICAgIHJldHVybiB3b3JrTG9vcChoYXNUaW1lUmVtYWluaW5nLCBpbml0aWFsVGltZSk7XG4gICAgfVxuICB9IGZpbmFsbHkge1xuICAgIGN1cnJlbnRUYXNrID0gbnVsbDtcbiAgICBjdXJyZW50UHJpb3JpdHlMZXZlbCA9IHByZXZpb3VzUHJpb3JpdHlMZXZlbDtcbiAgICBpc1BlcmZvcm1pbmdXb3JrID0gZmFsc2U7XG5cbiAgICB7XG4gICAgICB2YXIgX2N1cnJlbnRUaW1lID0gZ2V0Q3VycmVudFRpbWUoKTtcblxuICAgICAgbWFya1NjaGVkdWxlclN1c3BlbmRlZChfY3VycmVudFRpbWUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB3b3JrTG9vcChoYXNUaW1lUmVtYWluaW5nLCBpbml0aWFsVGltZSkge1xuICB2YXIgY3VycmVudFRpbWUgPSBpbml0aWFsVGltZTtcbiAgYWR2YW5jZVRpbWVycyhjdXJyZW50VGltZSk7XG4gIGN1cnJlbnRUYXNrID0gcGVlayh0YXNrUXVldWUpO1xuXG4gIHdoaWxlIChjdXJyZW50VGFzayAhPT0gbnVsbCAmJiAhKGVuYWJsZVNjaGVkdWxlckRlYnVnZ2luZyApKSB7XG4gICAgaWYgKGN1cnJlbnRUYXNrLmV4cGlyYXRpb25UaW1lID4gY3VycmVudFRpbWUgJiYgKCFoYXNUaW1lUmVtYWluaW5nIHx8IHNob3VsZFlpZWxkVG9Ib3N0KCkpKSB7XG4gICAgICAvLyBUaGlzIGN1cnJlbnRUYXNrIGhhc24ndCBleHBpcmVkLCBhbmQgd2UndmUgcmVhY2hlZCB0aGUgZGVhZGxpbmUuXG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICB2YXIgY2FsbGJhY2sgPSBjdXJyZW50VGFzay5jYWxsYmFjaztcblxuICAgIGlmIChjYWxsYmFjayAhPT0gbnVsbCkge1xuICAgICAgY3VycmVudFRhc2suY2FsbGJhY2sgPSBudWxsO1xuICAgICAgY3VycmVudFByaW9yaXR5TGV2ZWwgPSBjdXJyZW50VGFzay5wcmlvcml0eUxldmVsO1xuICAgICAgdmFyIGRpZFVzZXJDYWxsYmFja1RpbWVvdXQgPSBjdXJyZW50VGFzay5leHBpcmF0aW9uVGltZSA8PSBjdXJyZW50VGltZTtcbiAgICAgIG1hcmtUYXNrUnVuKGN1cnJlbnRUYXNrLCBjdXJyZW50VGltZSk7XG4gICAgICB2YXIgY29udGludWF0aW9uQ2FsbGJhY2sgPSBjYWxsYmFjayhkaWRVc2VyQ2FsbGJhY2tUaW1lb3V0KTtcbiAgICAgIGN1cnJlbnRUaW1lID0gZ2V0Q3VycmVudFRpbWUoKTtcblxuICAgICAgaWYgKHR5cGVvZiBjb250aW51YXRpb25DYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjdXJyZW50VGFzay5jYWxsYmFjayA9IGNvbnRpbnVhdGlvbkNhbGxiYWNrO1xuICAgICAgICBtYXJrVGFza1lpZWxkKGN1cnJlbnRUYXNrLCBjdXJyZW50VGltZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB7XG4gICAgICAgICAgbWFya1Rhc2tDb21wbGV0ZWQoY3VycmVudFRhc2ssIGN1cnJlbnRUaW1lKTtcbiAgICAgICAgICBjdXJyZW50VGFzay5pc1F1ZXVlZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGN1cnJlbnRUYXNrID09PSBwZWVrKHRhc2tRdWV1ZSkpIHtcbiAgICAgICAgICBwb3AodGFza1F1ZXVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBhZHZhbmNlVGltZXJzKGN1cnJlbnRUaW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcG9wKHRhc2tRdWV1ZSk7XG4gICAgfVxuXG4gICAgY3VycmVudFRhc2sgPSBwZWVrKHRhc2tRdWV1ZSk7XG4gIH0gLy8gUmV0dXJuIHdoZXRoZXIgdGhlcmUncyBhZGRpdGlvbmFsIHdvcmtcblxuXG4gIGlmIChjdXJyZW50VGFzayAhPT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2Uge1xuICAgIHZhciBmaXJzdFRpbWVyID0gcGVlayh0aW1lclF1ZXVlKTtcblxuICAgIGlmIChmaXJzdFRpbWVyICE9PSBudWxsKSB7XG4gICAgICByZXF1ZXN0SG9zdFRpbWVvdXQoaGFuZGxlVGltZW91dCwgZmlyc3RUaW1lci5zdGFydFRpbWUgLSBjdXJyZW50VGltZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVuc3RhYmxlX3J1bldpdGhQcmlvcml0eShwcmlvcml0eUxldmVsLCBldmVudEhhbmRsZXIpIHtcbiAgc3dpdGNoIChwcmlvcml0eUxldmVsKSB7XG4gICAgY2FzZSBJbW1lZGlhdGVQcmlvcml0eTpcbiAgICBjYXNlIFVzZXJCbG9ja2luZ1ByaW9yaXR5OlxuICAgIGNhc2UgTm9ybWFsUHJpb3JpdHk6XG4gICAgY2FzZSBMb3dQcmlvcml0eTpcbiAgICBjYXNlIElkbGVQcmlvcml0eTpcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHByaW9yaXR5TGV2ZWwgPSBOb3JtYWxQcmlvcml0eTtcbiAgfVxuXG4gIHZhciBwcmV2aW91c1ByaW9yaXR5TGV2ZWwgPSBjdXJyZW50UHJpb3JpdHlMZXZlbDtcbiAgY3VycmVudFByaW9yaXR5TGV2ZWwgPSBwcmlvcml0eUxldmVsO1xuXG4gIHRyeSB7XG4gICAgcmV0dXJuIGV2ZW50SGFuZGxlcigpO1xuICB9IGZpbmFsbHkge1xuICAgIGN1cnJlbnRQcmlvcml0eUxldmVsID0gcHJldmlvdXNQcmlvcml0eUxldmVsO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVuc3RhYmxlX25leHQoZXZlbnRIYW5kbGVyKSB7XG4gIHZhciBwcmlvcml0eUxldmVsO1xuXG4gIHN3aXRjaCAoY3VycmVudFByaW9yaXR5TGV2ZWwpIHtcbiAgICBjYXNlIEltbWVkaWF0ZVByaW9yaXR5OlxuICAgIGNhc2UgVXNlckJsb2NraW5nUHJpb3JpdHk6XG4gICAgY2FzZSBOb3JtYWxQcmlvcml0eTpcbiAgICAgIC8vIFNoaWZ0IGRvd24gdG8gbm9ybWFsIHByaW9yaXR5XG4gICAgICBwcmlvcml0eUxldmVsID0gTm9ybWFsUHJpb3JpdHk7XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICAvLyBBbnl0aGluZyBsb3dlciB0aGFuIG5vcm1hbCBwcmlvcml0eSBzaG91bGQgcmVtYWluIGF0IHRoZSBjdXJyZW50IGxldmVsLlxuICAgICAgcHJpb3JpdHlMZXZlbCA9IGN1cnJlbnRQcmlvcml0eUxldmVsO1xuICAgICAgYnJlYWs7XG4gIH1cblxuICB2YXIgcHJldmlvdXNQcmlvcml0eUxldmVsID0gY3VycmVudFByaW9yaXR5TGV2ZWw7XG4gIGN1cnJlbnRQcmlvcml0eUxldmVsID0gcHJpb3JpdHlMZXZlbDtcblxuICB0cnkge1xuICAgIHJldHVybiBldmVudEhhbmRsZXIoKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBjdXJyZW50UHJpb3JpdHlMZXZlbCA9IHByZXZpb3VzUHJpb3JpdHlMZXZlbDtcbiAgfVxufVxuXG5mdW5jdGlvbiB1bnN0YWJsZV93cmFwQ2FsbGJhY2soY2FsbGJhY2spIHtcbiAgdmFyIHBhcmVudFByaW9yaXR5TGV2ZWwgPSBjdXJyZW50UHJpb3JpdHlMZXZlbDtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAvLyBUaGlzIGlzIGEgZm9yayBvZiBydW5XaXRoUHJpb3JpdHksIGlubGluZWQgZm9yIHBlcmZvcm1hbmNlLlxuICAgIHZhciBwcmV2aW91c1ByaW9yaXR5TGV2ZWwgPSBjdXJyZW50UHJpb3JpdHlMZXZlbDtcbiAgICBjdXJyZW50UHJpb3JpdHlMZXZlbCA9IHBhcmVudFByaW9yaXR5TGV2ZWw7XG5cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGN1cnJlbnRQcmlvcml0eUxldmVsID0gcHJldmlvdXNQcmlvcml0eUxldmVsO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gdGltZW91dEZvclByaW9yaXR5TGV2ZWwocHJpb3JpdHlMZXZlbCkge1xuICBzd2l0Y2ggKHByaW9yaXR5TGV2ZWwpIHtcbiAgICBjYXNlIEltbWVkaWF0ZVByaW9yaXR5OlxuICAgICAgcmV0dXJuIElNTUVESUFURV9QUklPUklUWV9USU1FT1VUO1xuXG4gICAgY2FzZSBVc2VyQmxvY2tpbmdQcmlvcml0eTpcbiAgICAgIHJldHVybiBVU0VSX0JMT0NLSU5HX1BSSU9SSVRZO1xuXG4gICAgY2FzZSBJZGxlUHJpb3JpdHk6XG4gICAgICByZXR1cm4gSURMRV9QUklPUklUWTtcblxuICAgIGNhc2UgTG93UHJpb3JpdHk6XG4gICAgICByZXR1cm4gTE9XX1BSSU9SSVRZX1RJTUVPVVQ7XG5cbiAgICBjYXNlIE5vcm1hbFByaW9yaXR5OlxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gTk9STUFMX1BSSU9SSVRZX1RJTUVPVVQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gdW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjayhwcmlvcml0eUxldmVsLCBjYWxsYmFjaywgb3B0aW9ucykge1xuICB2YXIgY3VycmVudFRpbWUgPSBnZXRDdXJyZW50VGltZSgpO1xuICB2YXIgc3RhcnRUaW1lO1xuICB2YXIgdGltZW91dDtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnICYmIG9wdGlvbnMgIT09IG51bGwpIHtcbiAgICB2YXIgZGVsYXkgPSBvcHRpb25zLmRlbGF5O1xuXG4gICAgaWYgKHR5cGVvZiBkZWxheSA9PT0gJ251bWJlcicgJiYgZGVsYXkgPiAwKSB7XG4gICAgICBzdGFydFRpbWUgPSBjdXJyZW50VGltZSArIGRlbGF5O1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGFydFRpbWUgPSBjdXJyZW50VGltZTtcbiAgICB9XG5cbiAgICB0aW1lb3V0ID0gdHlwZW9mIG9wdGlvbnMudGltZW91dCA9PT0gJ251bWJlcicgPyBvcHRpb25zLnRpbWVvdXQgOiB0aW1lb3V0Rm9yUHJpb3JpdHlMZXZlbChwcmlvcml0eUxldmVsKTtcbiAgfSBlbHNlIHtcbiAgICB0aW1lb3V0ID0gdGltZW91dEZvclByaW9yaXR5TGV2ZWwocHJpb3JpdHlMZXZlbCk7XG4gICAgc3RhcnRUaW1lID0gY3VycmVudFRpbWU7XG4gIH1cblxuICB2YXIgZXhwaXJhdGlvblRpbWUgPSBzdGFydFRpbWUgKyB0aW1lb3V0O1xuICB2YXIgbmV3VGFzayA9IHtcbiAgICBpZDogdGFza0lkQ291bnRlcisrLFxuICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcbiAgICBwcmlvcml0eUxldmVsOiBwcmlvcml0eUxldmVsLFxuICAgIHN0YXJ0VGltZTogc3RhcnRUaW1lLFxuICAgIGV4cGlyYXRpb25UaW1lOiBleHBpcmF0aW9uVGltZSxcbiAgICBzb3J0SW5kZXg6IC0xXG4gIH07XG5cbiAge1xuICAgIG5ld1Rhc2suaXNRdWV1ZWQgPSBmYWxzZTtcbiAgfVxuXG4gIGlmIChzdGFydFRpbWUgPiBjdXJyZW50VGltZSkge1xuICAgIC8vIFRoaXMgaXMgYSBkZWxheWVkIHRhc2suXG4gICAgbmV3VGFzay5zb3J0SW5kZXggPSBzdGFydFRpbWU7XG4gICAgcHVzaCh0aW1lclF1ZXVlLCBuZXdUYXNrKTtcblxuICAgIGlmIChwZWVrKHRhc2tRdWV1ZSkgPT09IG51bGwgJiYgbmV3VGFzayA9PT0gcGVlayh0aW1lclF1ZXVlKSkge1xuICAgICAgLy8gQWxsIHRhc2tzIGFyZSBkZWxheWVkLCBhbmQgdGhpcyBpcyB0aGUgdGFzayB3aXRoIHRoZSBlYXJsaWVzdCBkZWxheS5cbiAgICAgIGlmIChpc0hvc3RUaW1lb3V0U2NoZWR1bGVkKSB7XG4gICAgICAgIC8vIENhbmNlbCBhbiBleGlzdGluZyB0aW1lb3V0LlxuICAgICAgICBjYW5jZWxIb3N0VGltZW91dCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXNIb3N0VGltZW91dFNjaGVkdWxlZCA9IHRydWU7XG4gICAgICB9IC8vIFNjaGVkdWxlIGEgdGltZW91dC5cblxuXG4gICAgICByZXF1ZXN0SG9zdFRpbWVvdXQoaGFuZGxlVGltZW91dCwgc3RhcnRUaW1lIC0gY3VycmVudFRpbWUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBuZXdUYXNrLnNvcnRJbmRleCA9IGV4cGlyYXRpb25UaW1lO1xuICAgIHB1c2godGFza1F1ZXVlLCBuZXdUYXNrKTtcblxuICAgIHtcbiAgICAgIG1hcmtUYXNrU3RhcnQobmV3VGFzaywgY3VycmVudFRpbWUpO1xuICAgICAgbmV3VGFzay5pc1F1ZXVlZCA9IHRydWU7XG4gICAgfSAvLyBTY2hlZHVsZSBhIGhvc3QgY2FsbGJhY2ssIGlmIG5lZWRlZC4gSWYgd2UncmUgYWxyZWFkeSBwZXJmb3JtaW5nIHdvcmssXG4gICAgLy8gd2FpdCB1bnRpbCB0aGUgbmV4dCB0aW1lIHdlIHlpZWxkLlxuXG5cbiAgICBpZiAoIWlzSG9zdENhbGxiYWNrU2NoZWR1bGVkICYmICFpc1BlcmZvcm1pbmdXb3JrKSB7XG4gICAgICBpc0hvc3RDYWxsYmFja1NjaGVkdWxlZCA9IHRydWU7XG4gICAgICByZXF1ZXN0SG9zdENhbGxiYWNrKGZsdXNoV29yayk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ld1Rhc2s7XG59XG5cbmZ1bmN0aW9uIHVuc3RhYmxlX3BhdXNlRXhlY3V0aW9uKCkge1xufVxuXG5mdW5jdGlvbiB1bnN0YWJsZV9jb250aW51ZUV4ZWN1dGlvbigpIHtcblxuICBpZiAoIWlzSG9zdENhbGxiYWNrU2NoZWR1bGVkICYmICFpc1BlcmZvcm1pbmdXb3JrKSB7XG4gICAgaXNIb3N0Q2FsbGJhY2tTY2hlZHVsZWQgPSB0cnVlO1xuICAgIHJlcXVlc3RIb3N0Q2FsbGJhY2soZmx1c2hXb3JrKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1bnN0YWJsZV9nZXRGaXJzdENhbGxiYWNrTm9kZSgpIHtcbiAgcmV0dXJuIHBlZWsodGFza1F1ZXVlKTtcbn1cblxuZnVuY3Rpb24gdW5zdGFibGVfY2FuY2VsQ2FsbGJhY2sodGFzaykge1xuICB7XG4gICAgaWYgKHRhc2suaXNRdWV1ZWQpIHtcbiAgICAgIHZhciBjdXJyZW50VGltZSA9IGdldEN1cnJlbnRUaW1lKCk7XG4gICAgICBtYXJrVGFza0NhbmNlbGVkKHRhc2ssIGN1cnJlbnRUaW1lKTtcbiAgICAgIHRhc2suaXNRdWV1ZWQgPSBmYWxzZTtcbiAgICB9XG4gIH0gLy8gTnVsbCBvdXQgdGhlIGNhbGxiYWNrIHRvIGluZGljYXRlIHRoZSB0YXNrIGhhcyBiZWVuIGNhbmNlbGVkLiAoQ2FuJ3RcbiAgLy8gcmVtb3ZlIGZyb20gdGhlIHF1ZXVlIGJlY2F1c2UgeW91IGNhbid0IHJlbW92ZSBhcmJpdHJhcnkgbm9kZXMgZnJvbSBhblxuICAvLyBhcnJheSBiYXNlZCBoZWFwLCBvbmx5IHRoZSBmaXJzdCBvbmUuKVxuXG5cbiAgdGFzay5jYWxsYmFjayA9IG51bGw7XG59XG5cbmZ1bmN0aW9uIHVuc3RhYmxlX2dldEN1cnJlbnRQcmlvcml0eUxldmVsKCkge1xuICByZXR1cm4gY3VycmVudFByaW9yaXR5TGV2ZWw7XG59XG5cbmZ1bmN0aW9uIHVuc3RhYmxlX3Nob3VsZFlpZWxkKCkge1xuICB2YXIgY3VycmVudFRpbWUgPSBnZXRDdXJyZW50VGltZSgpO1xuICBhZHZhbmNlVGltZXJzKGN1cnJlbnRUaW1lKTtcbiAgdmFyIGZpcnN0VGFzayA9IHBlZWsodGFza1F1ZXVlKTtcbiAgcmV0dXJuIGZpcnN0VGFzayAhPT0gY3VycmVudFRhc2sgJiYgY3VycmVudFRhc2sgIT09IG51bGwgJiYgZmlyc3RUYXNrICE9PSBudWxsICYmIGZpcnN0VGFzay5jYWxsYmFjayAhPT0gbnVsbCAmJiBmaXJzdFRhc2suc3RhcnRUaW1lIDw9IGN1cnJlbnRUaW1lICYmIGZpcnN0VGFzay5leHBpcmF0aW9uVGltZSA8IGN1cnJlbnRUYXNrLmV4cGlyYXRpb25UaW1lIHx8IHNob3VsZFlpZWxkVG9Ib3N0KCk7XG59XG5cbnZhciB1bnN0YWJsZV9yZXF1ZXN0UGFpbnQgPSByZXF1ZXN0UGFpbnQ7XG52YXIgdW5zdGFibGVfUHJvZmlsaW5nID0gIHtcbiAgc3RhcnRMb2dnaW5nUHJvZmlsaW5nRXZlbnRzOiBzdGFydExvZ2dpbmdQcm9maWxpbmdFdmVudHMsXG4gIHN0b3BMb2dnaW5nUHJvZmlsaW5nRXZlbnRzOiBzdG9wTG9nZ2luZ1Byb2ZpbGluZ0V2ZW50cyxcbiAgc2hhcmVkUHJvZmlsaW5nQnVmZmVyOiBzaGFyZWRQcm9maWxpbmdCdWZmZXJcbn0gO1xuXG5leHBvcnRzLnVuc3RhYmxlX0lkbGVQcmlvcml0eSA9IElkbGVQcmlvcml0eTtcbmV4cG9ydHMudW5zdGFibGVfSW1tZWRpYXRlUHJpb3JpdHkgPSBJbW1lZGlhdGVQcmlvcml0eTtcbmV4cG9ydHMudW5zdGFibGVfTG93UHJpb3JpdHkgPSBMb3dQcmlvcml0eTtcbmV4cG9ydHMudW5zdGFibGVfTm9ybWFsUHJpb3JpdHkgPSBOb3JtYWxQcmlvcml0eTtcbmV4cG9ydHMudW5zdGFibGVfUHJvZmlsaW5nID0gdW5zdGFibGVfUHJvZmlsaW5nO1xuZXhwb3J0cy51bnN0YWJsZV9Vc2VyQmxvY2tpbmdQcmlvcml0eSA9IFVzZXJCbG9ja2luZ1ByaW9yaXR5O1xuZXhwb3J0cy51bnN0YWJsZV9hZHZhbmNlVGltZSA9IHVuc3RhYmxlX2FkdmFuY2VUaW1lO1xuZXhwb3J0cy51bnN0YWJsZV9jYW5jZWxDYWxsYmFjayA9IHVuc3RhYmxlX2NhbmNlbENhbGxiYWNrO1xuZXhwb3J0cy51bnN0YWJsZV9jbGVhcllpZWxkcyA9IHVuc3RhYmxlX2NsZWFyWWllbGRzO1xuZXhwb3J0cy51bnN0YWJsZV9jb250aW51ZUV4ZWN1dGlvbiA9IHVuc3RhYmxlX2NvbnRpbnVlRXhlY3V0aW9uO1xuZXhwb3J0cy51bnN0YWJsZV9mbHVzaEFsbCA9IHVuc3RhYmxlX2ZsdXNoQWxsO1xuZXhwb3J0cy51bnN0YWJsZV9mbHVzaEFsbFdpdGhvdXRBc3NlcnRpbmcgPSB1bnN0YWJsZV9mbHVzaEFsbFdpdGhvdXRBc3NlcnRpbmc7XG5leHBvcnRzLnVuc3RhYmxlX2ZsdXNoRXhwaXJlZCA9IHVuc3RhYmxlX2ZsdXNoRXhwaXJlZDtcbmV4cG9ydHMudW5zdGFibGVfZmx1c2hOdW1iZXJPZllpZWxkcyA9IHVuc3RhYmxlX2ZsdXNoTnVtYmVyT2ZZaWVsZHM7XG5leHBvcnRzLnVuc3RhYmxlX2ZsdXNoVW50aWxOZXh0UGFpbnQgPSB1bnN0YWJsZV9mbHVzaFVudGlsTmV4dFBhaW50O1xuZXhwb3J0cy51bnN0YWJsZV9mb3JjZUZyYW1lUmF0ZSA9IGZvcmNlRnJhbWVSYXRlO1xuZXhwb3J0cy51bnN0YWJsZV9nZXRDdXJyZW50UHJpb3JpdHlMZXZlbCA9IHVuc3RhYmxlX2dldEN1cnJlbnRQcmlvcml0eUxldmVsO1xuZXhwb3J0cy51bnN0YWJsZV9nZXRGaXJzdENhbGxiYWNrTm9kZSA9IHVuc3RhYmxlX2dldEZpcnN0Q2FsbGJhY2tOb2RlO1xuZXhwb3J0cy51bnN0YWJsZV9uZXh0ID0gdW5zdGFibGVfbmV4dDtcbmV4cG9ydHMudW5zdGFibGVfbm93ID0gZ2V0Q3VycmVudFRpbWU7XG5leHBvcnRzLnVuc3RhYmxlX3BhdXNlRXhlY3V0aW9uID0gdW5zdGFibGVfcGF1c2VFeGVjdXRpb247XG5leHBvcnRzLnVuc3RhYmxlX3JlcXVlc3RQYWludCA9IHVuc3RhYmxlX3JlcXVlc3RQYWludDtcbmV4cG9ydHMudW5zdGFibGVfcnVuV2l0aFByaW9yaXR5ID0gdW5zdGFibGVfcnVuV2l0aFByaW9yaXR5O1xuZXhwb3J0cy51bnN0YWJsZV9zY2hlZHVsZUNhbGxiYWNrID0gdW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjaztcbmV4cG9ydHMudW5zdGFibGVfc2hvdWxkWWllbGQgPSB1bnN0YWJsZV9zaG91bGRZaWVsZDtcbmV4cG9ydHMudW5zdGFibGVfd3JhcENhbGxiYWNrID0gdW5zdGFibGVfd3JhcENhbGxiYWNrO1xuZXhwb3J0cy51bnN0YWJsZV95aWVsZFZhbHVlID0gdW5zdGFibGVfeWllbGRWYWx1ZTtcbiAgfSkoKTtcbn1cbiJdfQ==