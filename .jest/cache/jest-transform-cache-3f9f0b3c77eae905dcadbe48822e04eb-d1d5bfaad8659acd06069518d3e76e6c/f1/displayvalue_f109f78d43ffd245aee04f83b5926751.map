{"version":3,"sources":["display-value.js"],"names":["Object","defineProperty","exports","value","findByDisplayValue","findAllByDisplayValue","getAllByDisplayValue","getByDisplayValue","queryAllByDisplayValue","queryByDisplayValue","_queryHelpers","require","_helpers","_allUtils","container","exact","collapseWhitespace","trim","normalizer","checkContainerType","matcher","matches","fuzzyMatches","matchNormalizer","makeNormalizer","Array","from","querySelectorAll","filter","node","tagName","selectedOptions","options","option","selected","some","optionNode","getNodeText","getMultipleError","c","getMissingError","queryAllByDisplayValueWithSuggestions","wrapAllByQueryWithSuggestion","name","buildQueries"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.findByDisplayValue = exports.findAllByDisplayValue = exports.getAllByDisplayValue = exports.getByDisplayValue = exports.queryAllByDisplayValue = exports.queryByDisplayValue = void 0;\n\nvar _queryHelpers = require(\"../query-helpers\");\n\nvar _helpers = require(\"../helpers\");\n\nvar _allUtils = require(\"./all-utils\");\n\nconst queryAllByDisplayValue = (container, value, {\n  exact = true,\n  collapseWhitespace,\n  trim,\n  normalizer\n} = {}) => {\n  (0, _helpers.checkContainerType)(container);\n  const matcher = exact ? _allUtils.matches : _allUtils.fuzzyMatches;\n  const matchNormalizer = (0, _allUtils.makeNormalizer)({\n    collapseWhitespace,\n    trim,\n    normalizer\n  });\n  return Array.from(container.querySelectorAll(`input,textarea,select`)).filter(node => {\n    if (node.tagName === 'SELECT') {\n      const selectedOptions = Array.from(node.options).filter(option => option.selected);\n      return selectedOptions.some(optionNode => matcher((0, _allUtils.getNodeText)(optionNode), optionNode, value, matchNormalizer));\n    } else {\n      return matcher(node.value, node, value, matchNormalizer);\n    }\n  });\n};\n\nconst getMultipleError = (c, value) => `Found multiple elements with the display value: ${value}.`;\n\nconst getMissingError = (c, value) => `Unable to find an element with the display value: ${value}.`;\n\nconst queryAllByDisplayValueWithSuggestions = (0, _queryHelpers.wrapAllByQueryWithSuggestion)(queryAllByDisplayValue, queryAllByDisplayValue.name, 'queryAll');\nexports.queryAllByDisplayValue = queryAllByDisplayValueWithSuggestions;\nconst [queryByDisplayValue, getAllByDisplayValue, getByDisplayValue, findAllByDisplayValue, findByDisplayValue] = (0, _allUtils.buildQueries)(queryAllByDisplayValue, getMultipleError, getMissingError);\nexports.findByDisplayValue = findByDisplayValue;\nexports.findAllByDisplayValue = findAllByDisplayValue;\nexports.getByDisplayValue = getByDisplayValue;\nexports.getAllByDisplayValue = getAllByDisplayValue;\nexports.queryByDisplayValue = queryByDisplayValue;"]}