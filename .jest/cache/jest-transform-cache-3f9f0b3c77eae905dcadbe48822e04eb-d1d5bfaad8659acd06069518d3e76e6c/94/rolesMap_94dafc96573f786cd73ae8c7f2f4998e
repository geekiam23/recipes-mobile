cbdfc3c51bc0bb36025af774723649c4
"use strict";

var _interopRequireDefault = require("@babel/runtime-corejs3/helpers/interopRequireDefault");

var _Object$defineProperty = require("@babel/runtime-corejs3/core-js-stable/object/define-property");

_Object$defineProperty(exports, "__esModule", {
  value: true
});

exports.default = void 0;

var _getIterator2 = _interopRequireDefault(require("@babel/runtime-corejs3/core-js/get-iterator"));

var _isArray = _interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/array/is-array"));

var _getIteratorMethod2 = _interopRequireDefault(require("@babel/runtime-corejs3/core-js/get-iterator-method"));

var _symbol = _interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/symbol"));

var _from = _interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/array/from"));

var _slice = _interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/instance/slice"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime-corejs3/helpers/defineProperty"));

var _assign = _interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/object/assign"));

var _keys = _interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/object/keys"));

var _forEach = _interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/instance/for-each"));

var _map = _interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/map"));

var _ariaAbstractRoles = _interopRequireDefault(require("./etc/roles/ariaAbstractRoles"));

var _ariaLiteralRoles = _interopRequireDefault(require("./etc/roles/ariaLiteralRoles"));

var _ariaDpubRoles = _interopRequireDefault(require("./etc/roles/ariaDpubRoles"));

var _context;

function _createForOfIteratorHelper(o, allowArrayLike) {
  var it;

  if (typeof _symbol.default === "undefined" || (0, _getIteratorMethod2.default)(o) == null) {
    if ((0, _isArray.default)(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") {
      if (it) o = it;
      var i = 0;

      var F = function F() {};

      return {
        s: F,
        n: function n() {
          if (i >= o.length) return {
            done: true
          };
          return {
            done: false,
            value: o[i++]
          };
        },
        e: function e(_e) {
          throw _e;
        },
        f: F
      };
    }

    throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }

  var normalCompletion = true,
      didErr = false,
      err;
  return {
    s: function s() {
      it = (0, _getIterator2.default)(o);
    },
    n: function n() {
      var step = it.next();
      normalCompletion = step.done;
      return step;
    },
    e: function e(_e2) {
      didErr = true;
      err = _e2;
    },
    f: function f() {
      try {
        if (!normalCompletion && it.return != null) it.return();
      } finally {
        if (didErr) throw err;
      }
    }
  };
}

function _unsupportedIterableToArray(o, minLen) {
  var _context2;

  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = (0, _slice.default)(_context2 = Object.prototype.toString.call(o)).call(_context2, 8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return (0, _from.default)(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}

var rolesMap = new _map.default([]);
(0, _forEach.default)(_context = [_ariaAbstractRoles.default, _ariaLiteralRoles.default, _ariaDpubRoles.default]).call(_context, function (roleSet) {
  (0, _forEach.default)(roleSet).call(roleSet, function (roleDefinition, name) {
    return rolesMap.set(name, roleDefinition);
  });
});
(0, _forEach.default)(rolesMap).call(rolesMap, function (roleDefinition, name) {
  var _iterator = _createForOfIteratorHelper(roleDefinition.superClass),
      _step;

  try {
    for (_iterator.s(); !(_step = _iterator.n()).done;) {
      var superClassIter = _step.value;

      var _iterator2 = _createForOfIteratorHelper(superClassIter),
          _step2;

      try {
        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
          var superClassName = _step2.value;
          var superClassDefinition = rolesMap.get(superClassName);

          if (superClassDefinition) {
            for (var _i = 0, _Object$keys = (0, _keys.default)(superClassDefinition.props); _i < _Object$keys.length; _i++) {
              var prop = _Object$keys[_i];

              if (!Object.prototype.hasOwnProperty.call(roleDefinition.props, prop)) {
                (0, _assign.default)(roleDefinition.props, (0, _defineProperty2.default)({}, prop, superClassDefinition.props[prop]));
              }
            }
          }
        }
      } catch (err) {
        _iterator2.e(err);
      } finally {
        _iterator2.f();
      }
    }
  } catch (err) {
    _iterator.e(err);
  } finally {
    _iterator.f();
  }
});
var _default = rolesMap;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvbGVzTWFwLmpzIl0sIm5hbWVzIjpbIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX09iamVjdCRkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImRlZmF1bHQiLCJfZ2V0SXRlcmF0b3IyIiwiX2lzQXJyYXkiLCJfZ2V0SXRlcmF0b3JNZXRob2QyIiwiX3N5bWJvbCIsIl9mcm9tIiwiX3NsaWNlIiwiX2RlZmluZVByb3BlcnR5MiIsIl9hc3NpZ24iLCJfa2V5cyIsIl9mb3JFYWNoIiwiX21hcCIsIl9hcmlhQWJzdHJhY3RSb2xlcyIsIl9hcmlhTGl0ZXJhbFJvbGVzIiwiX2FyaWFEcHViUm9sZXMiLCJfY29udGV4dCIsIl9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIiwibyIsImFsbG93QXJyYXlMaWtlIiwiaXQiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJsZW5ndGgiLCJpIiwiRiIsInMiLCJuIiwiZG9uZSIsImUiLCJfZSIsImYiLCJUeXBlRXJyb3IiLCJub3JtYWxDb21wbGV0aW9uIiwiZGlkRXJyIiwiZXJyIiwic3RlcCIsIm5leHQiLCJfZTIiLCJyZXR1cm4iLCJtaW5MZW4iLCJfY29udGV4dDIiLCJfYXJyYXlMaWtlVG9BcnJheSIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsImNvbnN0cnVjdG9yIiwibmFtZSIsInRlc3QiLCJhcnIiLCJsZW4iLCJhcnIyIiwiQXJyYXkiLCJyb2xlc01hcCIsInJvbGVTZXQiLCJyb2xlRGVmaW5pdGlvbiIsInNldCIsIl9pdGVyYXRvciIsInN1cGVyQ2xhc3MiLCJfc3RlcCIsInN1cGVyQ2xhc3NJdGVyIiwiX2l0ZXJhdG9yMiIsIl9zdGVwMiIsInN1cGVyQ2xhc3NOYW1lIiwic3VwZXJDbGFzc0RlZmluaXRpb24iLCJnZXQiLCJfaSIsIl9PYmplY3Qka2V5cyIsInByb3BzIiwicHJvcCIsImhhc093blByb3BlcnR5IiwiX2RlZmF1bHQi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LFFBQUFBLFVBQVUsQ0FBQ2pDLENBQVgsQ0FBYU0sR0FBYjtBQUNELE9BakJELFNBaUJVO0FBQ1IyQixRQUFBQSxVQUFVLENBQUMvQixDQUFYO0FBQ0Q7QUFDRjtBQUNGLEdBNUJELENBNEJFLE9BQU9JLEdBQVAsRUFBWTtBQUNadUIsSUFBQUEsU0FBUyxDQUFDN0IsQ0FBVixDQUFZTSxHQUFaO0FBQ0QsR0E5QkQsU0E4QlU7QUFDUnVCLElBQUFBLFNBQVMsQ0FBQzNCLENBQVY7QUFDRDtBQUNGLENBdENEO0FBdUNBLElBQUl5QyxRQUFRLEdBQUdsQixRQUFmO0FBQ0F0RCxPQUFPLENBQUNFLE9BQVIsR0FBa0JzRSxRQUFsQiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS1jb3JlanMzL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpO1xuXG52YXIgX09iamVjdCRkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS1jb3JlanMzL2NvcmUtanMtc3RhYmxlL29iamVjdC9kZWZpbmUtcHJvcGVydHlcIik7XG5cbl9PYmplY3QkZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfZ2V0SXRlcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzL2dldC1pdGVyYXRvclwiKSk7XG5cbnZhciBfaXNBcnJheSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIkBiYWJlbC9ydW50aW1lLWNvcmVqczMvY29yZS1qcy1zdGFibGUvYXJyYXkvaXMtYXJyYXlcIikpO1xuXG52YXIgX2dldEl0ZXJhdG9yTWV0aG9kMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIkBiYWJlbC9ydW50aW1lLWNvcmVqczMvY29yZS1qcy9nZXQtaXRlcmF0b3ItbWV0aG9kXCIpKTtcblxudmFyIF9zeW1ib2wgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS1jb3JlanMzL2NvcmUtanMtc3RhYmxlL3N5bWJvbFwiKSk7XG5cbnZhciBfZnJvbSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIkBiYWJlbC9ydW50aW1lLWNvcmVqczMvY29yZS1qcy1zdGFibGUvYXJyYXkvZnJvbVwiKSk7XG5cbnZhciBfc2xpY2UgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS1jb3JlanMzL2NvcmUtanMtc3RhYmxlL2luc3RhbmNlL3NsaWNlXCIpKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS1jb3JlanMzL2hlbHBlcnMvZGVmaW5lUHJvcGVydHlcIikpO1xuXG52YXIgX2Fzc2lnbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIkBiYWJlbC9ydW50aW1lLWNvcmVqczMvY29yZS1qcy1zdGFibGUvb2JqZWN0L2Fzc2lnblwiKSk7XG5cbnZhciBfa2V5cyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIkBiYWJlbC9ydW50aW1lLWNvcmVqczMvY29yZS1qcy1zdGFibGUvb2JqZWN0L2tleXNcIikpO1xuXG52YXIgX2ZvckVhY2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS1jb3JlanMzL2NvcmUtanMtc3RhYmxlL2luc3RhbmNlL2Zvci1lYWNoXCIpKTtcblxudmFyIF9tYXAgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS1jb3JlanMzL2NvcmUtanMtc3RhYmxlL21hcFwiKSk7XG5cbnZhciBfYXJpYUFic3RyYWN0Um9sZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2V0Yy9yb2xlcy9hcmlhQWJzdHJhY3RSb2xlc1wiKSk7XG5cbnZhciBfYXJpYUxpdGVyYWxSb2xlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vZXRjL3JvbGVzL2FyaWFMaXRlcmFsUm9sZXNcIikpO1xuXG52YXIgX2FyaWFEcHViUm9sZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2V0Yy9yb2xlcy9hcmlhRHB1YlJvbGVzXCIpKTtcblxudmFyIF9jb250ZXh0O1xuXG5mdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQ7IGlmICh0eXBlb2YgX3N5bWJvbC5kZWZhdWx0ID09PSBcInVuZGVmaW5lZFwiIHx8ICgwLCBfZ2V0SXRlcmF0b3JNZXRob2QyLmRlZmF1bHQpKG8pID09IG51bGwpIHsgaWYgKCgwLCBfaXNBcnJheS5kZWZhdWx0KShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lKSB7IHRocm93IF9lOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSAoMCwgX2dldEl0ZXJhdG9yMi5kZWZhdWx0KShvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdC5yZXR1cm4gIT0gbnVsbCkgaXQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyB2YXIgX2NvbnRleHQyOyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSAoMCwgX3NsaWNlLmRlZmF1bHQpKF9jb250ZXh0MiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKSkuY2FsbChfY29udGV4dDIsIDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuICgwLCBfZnJvbS5kZWZhdWx0KShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG52YXIgcm9sZXNNYXAgPSBuZXcgX21hcC5kZWZhdWx0KFtdKTtcbigwLCBfZm9yRWFjaC5kZWZhdWx0KShfY29udGV4dCA9IFtfYXJpYUFic3RyYWN0Um9sZXMuZGVmYXVsdCwgX2FyaWFMaXRlcmFsUm9sZXMuZGVmYXVsdCwgX2FyaWFEcHViUm9sZXMuZGVmYXVsdF0pLmNhbGwoX2NvbnRleHQsIGZ1bmN0aW9uIChyb2xlU2V0KSB7XG4gICgwLCBfZm9yRWFjaC5kZWZhdWx0KShyb2xlU2V0KS5jYWxsKHJvbGVTZXQsIGZ1bmN0aW9uIChyb2xlRGVmaW5pdGlvbiwgbmFtZSkge1xuICAgIHJldHVybiByb2xlc01hcC5zZXQobmFtZSwgcm9sZURlZmluaXRpb24pO1xuICB9KTtcbn0pO1xuKDAsIF9mb3JFYWNoLmRlZmF1bHQpKHJvbGVzTWFwKS5jYWxsKHJvbGVzTWFwLCBmdW5jdGlvbiAocm9sZURlZmluaXRpb24sIG5hbWUpIHtcbiAgLy8gQ29uZ2xvbWVyYXRlIHRoZSBwcm9wZXJ0aWVzXG4gIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihyb2xlRGVmaW5pdGlvbi5zdXBlckNsYXNzKSxcbiAgICAgIF9zdGVwO1xuXG4gIHRyeSB7XG4gICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHtcbiAgICAgIHZhciBzdXBlckNsYXNzSXRlciA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHN1cGVyQ2xhc3NJdGVyKSxcbiAgICAgICAgICBfc3RlcDI7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgdmFyIHN1cGVyQ2xhc3NOYW1lID0gX3N0ZXAyLnZhbHVlO1xuICAgICAgICAgIHZhciBzdXBlckNsYXNzRGVmaW5pdGlvbiA9IHJvbGVzTWFwLmdldChzdXBlckNsYXNzTmFtZSk7XG5cbiAgICAgICAgICBpZiAoc3VwZXJDbGFzc0RlZmluaXRpb24pIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX09iamVjdCRrZXlzID0gKDAsIF9rZXlzLmRlZmF1bHQpKHN1cGVyQ2xhc3NEZWZpbml0aW9uLnByb3BzKTsgX2kgPCBfT2JqZWN0JGtleXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgIHZhciBwcm9wID0gX09iamVjdCRrZXlzW19pXTtcblxuICAgICAgICAgICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyb2xlRGVmaW5pdGlvbi5wcm9wcywgcHJvcCkpIHtcbiAgICAgICAgICAgICAgICAoMCwgX2Fzc2lnbi5kZWZhdWx0KShyb2xlRGVmaW5pdGlvbi5wcm9wcywgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkoe30sIHByb3AsIHN1cGVyQ2xhc3NEZWZpbml0aW9uLnByb3BzW3Byb3BdKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIF9pdGVyYXRvcjIuZigpO1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2l0ZXJhdG9yLmUoZXJyKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBfaXRlcmF0b3IuZigpO1xuICB9XG59KTtcbnZhciBfZGVmYXVsdCA9IHJvbGVzTWFwO1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7Il19