44147e9262b740c564bc0334aa0f1e3e
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.screen = void 0;

var _lzString = require("lz-string");

var queries = _interopRequireWildcard(require("./queries"));

var _getQueriesForElement = require("./get-queries-for-element");

var _prettyDom = require("./pretty-dom");

var _helpers = require("./helpers");

function _getRequireWildcardCache(nodeInterop) {
  if (typeof WeakMap !== "function") return null;
  var cacheBabelInterop = new WeakMap();
  var cacheNodeInterop = new WeakMap();
  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {
    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
  })(nodeInterop);
}

function _interopRequireWildcard(obj, nodeInterop) {
  if (!nodeInterop && obj && obj.__esModule) {
    return obj;
  }

  if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
    return {
      default: obj
    };
  }

  var cache = _getRequireWildcardCache(nodeInterop);

  if (cache && cache.has(obj)) {
    return cache.get(obj);
  }

  var newObj = {};
  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;

  for (var key in obj) {
    if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;

      if (desc && (desc.get || desc.set)) {
        Object.defineProperty(newObj, key, desc);
      } else {
        newObj[key] = obj[key];
      }
    }
  }

  newObj.default = obj;

  if (cache) {
    cache.set(obj, newObj);
  }

  return newObj;
}

function unindent(string) {
  return string.replace(/[ \t]*[\n][ \t]*/g, '\n');
}

function encode(value) {
  return (0, _lzString.compressToEncodedURIComponent)(unindent(value));
}

function getPlaygroundUrl(markup) {
  return "https://testing-playground.com/#markup=" + encode(markup);
}

var debug = function debug(element, maxLength, options) {
  return Array.isArray(element) ? element.forEach(function (el) {
    return (0, _prettyDom.logDOM)(el, maxLength, options);
  }) : (0, _prettyDom.logDOM)(element, maxLength, options);
};

var logTestingPlaygroundURL = function logTestingPlaygroundURL() {
  var element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : (0, _helpers.getDocument)().body;

  if (!element || !('innerHTML' in element)) {
    console.log("The element you're providing isn't a valid DOM element.");
    return;
  }

  if (!element.innerHTML) {
    console.log("The provided element doesn't have any children.");
    return;
  }

  console.log("Open this URL in your browser\n\n" + getPlaygroundUrl(element.innerHTML));
};

var initialValue = {
  debug: debug,
  logTestingPlaygroundURL: logTestingPlaygroundURL
};
var screen = typeof document !== 'undefined' && document.body ? (0, _getQueriesForElement.getQueriesForElement)(document.body, queries, initialValue) : Object.keys(queries).reduce(function (helpers, key) {
  helpers[key] = function () {
    throw new TypeError('For queries bound to document.body a global document has to be available... Learn more: https://testing-library.com/s/screen-global-error');
  };

  return helpers;
}, initialValue);
exports.screen = screen;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmVlbi5qcyJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInNjcmVlbiIsIl9selN0cmluZyIsInJlcXVpcmUiLCJxdWVyaWVzIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJfZ2V0UXVlcmllc0ZvckVsZW1lbnQiLCJfcHJldHR5RG9tIiwiX2hlbHBlcnMiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiZGVzYyIsInNldCIsInVuaW5kZW50Iiwic3RyaW5nIiwicmVwbGFjZSIsImVuY29kZSIsImNvbXByZXNzVG9FbmNvZGVkVVJJQ29tcG9uZW50IiwiZ2V0UGxheWdyb3VuZFVybCIsIm1hcmt1cCIsImRlYnVnIiwiZWxlbWVudCIsIm1heExlbmd0aCIsIm9wdGlvbnMiLCJBcnJheSIsImlzQXJyYXkiLCJmb3JFYWNoIiwiZWwiLCJsb2dET00iLCJsb2dUZXN0aW5nUGxheWdyb3VuZFVSTCIsImdldERvY3VtZW50IiwiYm9keSIsImNvbnNvbGUiLCJsb2ciLCJpbm5lckhUTUwiLCJpbml0aWFsVmFsdWUiLCJkb2N1bWVudCIsImdldFF1ZXJpZXNGb3JFbGVtZW50Iiwia2V5cyIsInJlZHVjZSIsImhlbHBlcnMiLCJUeXBlRXJyb3IiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBQSxNQUFNLENBQUNDLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDO0FBQzNDQyxFQUFBQSxLQUFLLEVBQUU7QUFE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RDs7QUFjQSxJQUFNQyxZQUFZLEdBQUc7QUFDbkJmLEVBQUFBLEtBQUssRUFBTEEsS0FEbUI7QUFFbkJTLEVBQUFBLHVCQUF1QixFQUF2QkE7QUFGbUIsQ0FBckI7QUFJQSxJQUFNNUMsTUFBTSxHQUFHLE9BQU9tRCxRQUFQLEtBQW9CLFdBQXBCLElBQW1DQSxRQUFRLENBQUNMLElBQTVDLEdBQW1ELENBQUMsR0FBR3pDLHFCQUFxQixDQUFDK0Msb0JBQTFCLEVBQWdERCxRQUFRLENBQUNMLElBQXpELEVBQStEM0MsT0FBL0QsRUFBd0UrQyxZQUF4RSxDQUFuRCxHQUEySXRELE1BQU0sQ0FBQ3lELElBQVAsQ0FBWWxELE9BQVosRUFBcUJtRCxNQUFyQixDQUE0QixVQUFDQyxPQUFELEVBQVVqQyxHQUFWLEVBQWtCO0FBQ3RNaUMsRUFBQUEsT0FBTyxDQUFDakMsR0FBRCxDQUFQLEdBQWUsWUFBTTtBQUNuQixVQUFNLElBQUlrQyxTQUFKLENBQWMsMklBQWQsQ0FBTjtBQUNELEdBRkQ7O0FBSUEsU0FBT0QsT0FBUDtBQUNELENBTnlKLEVBTXZKTCxZQU51SixDQUExSjtBQU9BcEQsT0FBTyxDQUFDRSxNQUFSLEdBQWlCQSxNQUFqQiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5zY3JlZW4gPSB2b2lkIDA7XG5cbnZhciBfbHpTdHJpbmcgPSByZXF1aXJlKFwibHotc3RyaW5nXCIpO1xuXG52YXIgcXVlcmllcyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoXCIuL3F1ZXJpZXNcIikpO1xuXG52YXIgX2dldFF1ZXJpZXNGb3JFbGVtZW50ID0gcmVxdWlyZShcIi4vZ2V0LXF1ZXJpZXMtZm9yLWVsZW1lbnRcIik7XG5cbnZhciBfcHJldHR5RG9tID0gcmVxdWlyZShcIi4vcHJldHR5LWRvbVwiKTtcblxudmFyIF9oZWxwZXJzID0gcmVxdWlyZShcIi4vaGVscGVyc1wiKTtcblxuZnVuY3Rpb24gX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlKG5vZGVJbnRlcm9wKSB7IGlmICh0eXBlb2YgV2Vha01hcCAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm4gbnVsbDsgdmFyIGNhY2hlQmFiZWxJbnRlcm9wID0gbmV3IFdlYWtNYXAoKTsgdmFyIGNhY2hlTm9kZUludGVyb3AgPSBuZXcgV2Vha01hcCgpOyByZXR1cm4gKF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSA9IGZ1bmN0aW9uIChub2RlSW50ZXJvcCkgeyByZXR1cm4gbm9kZUludGVyb3AgPyBjYWNoZU5vZGVJbnRlcm9wIDogY2FjaGVCYWJlbEludGVyb3A7IH0pKG5vZGVJbnRlcm9wKTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmosIG5vZGVJbnRlcm9wKSB7IGlmICghbm9kZUludGVyb3AgJiYgb2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBvYmogIT09IFwiZnVuY3Rpb25cIikgeyByZXR1cm4geyBkZWZhdWx0OiBvYmogfTsgfSB2YXIgY2FjaGUgPSBfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUobm9kZUludGVyb3ApOyBpZiAoY2FjaGUgJiYgY2FjaGUuaGFzKG9iaikpIHsgcmV0dXJuIGNhY2hlLmdldChvYmopOyB9IHZhciBuZXdPYmogPSB7fTsgdmFyIGhhc1Byb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChrZXkgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBoYXNQcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IG51bGw7IGlmIChkZXNjICYmIChkZXNjLmdldCB8fCBkZXNjLnNldCkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IGlmIChjYWNoZSkgeyBjYWNoZS5zZXQob2JqLCBuZXdPYmopOyB9IHJldHVybiBuZXdPYmo7IH1cblxuZnVuY3Rpb24gdW5pbmRlbnQoc3RyaW5nKSB7XG4gIC8vIHJlbW92ZSB3aGl0ZSBzcGFjZXMgZmlyc3QsIHRvIHNhdmUgYSBmZXcgYnl0ZXMuXG4gIC8vIHRlc3RpbmctcGxheWdyb3VuZCB3aWxsIHJlZm9ybWF0IG9uIGxvYWQgYW55IHdheXMuXG4gIHJldHVybiBzdHJpbmcucmVwbGFjZSgvWyBcXHRdKltcXG5dWyBcXHRdKi9nLCAnXFxuJyk7XG59XG5cbmZ1bmN0aW9uIGVuY29kZSh2YWx1ZSkge1xuICByZXR1cm4gKDAsIF9selN0cmluZy5jb21wcmVzc1RvRW5jb2RlZFVSSUNvbXBvbmVudCkodW5pbmRlbnQodmFsdWUpKTtcbn1cblxuZnVuY3Rpb24gZ2V0UGxheWdyb3VuZFVybChtYXJrdXApIHtcbiAgcmV0dXJuIGBodHRwczovL3Rlc3RpbmctcGxheWdyb3VuZC5jb20vI21hcmt1cD0ke2VuY29kZShtYXJrdXApfWA7XG59XG5cbmNvbnN0IGRlYnVnID0gKGVsZW1lbnQsIG1heExlbmd0aCwgb3B0aW9ucykgPT4gQXJyYXkuaXNBcnJheShlbGVtZW50KSA/IGVsZW1lbnQuZm9yRWFjaChlbCA9PiAoMCwgX3ByZXR0eURvbS5sb2dET00pKGVsLCBtYXhMZW5ndGgsIG9wdGlvbnMpKSA6ICgwLCBfcHJldHR5RG9tLmxvZ0RPTSkoZWxlbWVudCwgbWF4TGVuZ3RoLCBvcHRpb25zKTtcblxuY29uc3QgbG9nVGVzdGluZ1BsYXlncm91bmRVUkwgPSAoZWxlbWVudCA9ICgwLCBfaGVscGVycy5nZXREb2N1bWVudCkoKS5ib2R5KSA9PiB7XG4gIGlmICghZWxlbWVudCB8fCAhKCdpbm5lckhUTUwnIGluIGVsZW1lbnQpKSB7XG4gICAgY29uc29sZS5sb2coYFRoZSBlbGVtZW50IHlvdSdyZSBwcm92aWRpbmcgaXNuJ3QgYSB2YWxpZCBET00gZWxlbWVudC5gKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIWVsZW1lbnQuaW5uZXJIVE1MKSB7XG4gICAgY29uc29sZS5sb2coYFRoZSBwcm92aWRlZCBlbGVtZW50IGRvZXNuJ3QgaGF2ZSBhbnkgY2hpbGRyZW4uYCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc29sZS5sb2coYE9wZW4gdGhpcyBVUkwgaW4geW91ciBicm93c2VyXFxuXFxuJHtnZXRQbGF5Z3JvdW5kVXJsKGVsZW1lbnQuaW5uZXJIVE1MKX1gKTtcbn07XG5cbmNvbnN0IGluaXRpYWxWYWx1ZSA9IHtcbiAgZGVidWcsXG4gIGxvZ1Rlc3RpbmdQbGF5Z3JvdW5kVVJMXG59O1xuY29uc3Qgc2NyZWVuID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5ib2R5ID8gKDAsIF9nZXRRdWVyaWVzRm9yRWxlbWVudC5nZXRRdWVyaWVzRm9yRWxlbWVudCkoZG9jdW1lbnQuYm9keSwgcXVlcmllcywgaW5pdGlhbFZhbHVlKSA6IE9iamVjdC5rZXlzKHF1ZXJpZXMpLnJlZHVjZSgoaGVscGVycywga2V5KSA9PiB7XG4gIGhlbHBlcnNba2V5XSA9ICgpID0+IHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGb3IgcXVlcmllcyBib3VuZCB0byBkb2N1bWVudC5ib2R5IGEgZ2xvYmFsIGRvY3VtZW50IGhhcyB0byBiZSBhdmFpbGFibGUuLi4gTGVhcm4gbW9yZTogaHR0cHM6Ly90ZXN0aW5nLWxpYnJhcnkuY29tL3Mvc2NyZWVuLWdsb2JhbC1lcnJvcicpO1xuICB9O1xuXG4gIHJldHVybiBoZWxwZXJzO1xufSwgaW5pdGlhbFZhbHVlKTtcbmV4cG9ydHMuc2NyZWVuID0gc2NyZWVuOyJdfQ==