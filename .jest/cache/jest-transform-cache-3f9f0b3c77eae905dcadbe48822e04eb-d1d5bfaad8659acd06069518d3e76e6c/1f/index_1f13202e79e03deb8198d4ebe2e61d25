313a9293a79f0e4189f0979ddc473121
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
var _exportNames = {
  within: true,
  queries: true,
  queryHelpers: true,
  getDefaultNormalizer: true,
  getRoles: true,
  logRoles: true,
  isInaccessible: true,
  configure: true,
  getConfig: true
};
Object.defineProperty(exports, "within", {
  enumerable: true,
  get: function get() {
    return _getQueriesForElement.getQueriesForElement;
  }
});
Object.defineProperty(exports, "getDefaultNormalizer", {
  enumerable: true,
  get: function get() {
    return _matches.getDefaultNormalizer;
  }
});
Object.defineProperty(exports, "getRoles", {
  enumerable: true,
  get: function get() {
    return _roleHelpers.getRoles;
  }
});
Object.defineProperty(exports, "logRoles", {
  enumerable: true,
  get: function get() {
    return _roleHelpers.logRoles;
  }
});
Object.defineProperty(exports, "isInaccessible", {
  enumerable: true,
  get: function get() {
    return _roleHelpers.isInaccessible;
  }
});
Object.defineProperty(exports, "configure", {
  enumerable: true,
  get: function get() {
    return _config.configure;
  }
});
Object.defineProperty(exports, "getConfig", {
  enumerable: true,
  get: function get() {
    return _config.getConfig;
  }
});
exports.queryHelpers = exports.queries = void 0;

var _getQueriesForElement = require("./get-queries-for-element");

Object.keys(_getQueriesForElement).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;
  if (key in exports && exports[key] === _getQueriesForElement[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _getQueriesForElement[key];
    }
  });
});

var queries = _interopRequireWildcard(require("./queries"));

exports.queries = queries;
Object.keys(queries).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;
  if (key in exports && exports[key] === queries[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return queries[key];
    }
  });
});

var queryHelpers = _interopRequireWildcard(require("./query-helpers"));

exports.queryHelpers = queryHelpers;
Object.keys(queryHelpers).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;
  if (key in exports && exports[key] === queryHelpers[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return queryHelpers[key];
    }
  });
});

var _waitFor = require("./wait-for");

Object.keys(_waitFor).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;
  if (key in exports && exports[key] === _waitFor[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _waitFor[key];
    }
  });
});

var _waitForElementToBeRemoved = require("./wait-for-element-to-be-removed");

Object.keys(_waitForElementToBeRemoved).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;
  if (key in exports && exports[key] === _waitForElementToBeRemoved[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _waitForElementToBeRemoved[key];
    }
  });
});

var _matches = require("./matches");

var _getNodeText = require("./get-node-text");

Object.keys(_getNodeText).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;
  if (key in exports && exports[key] === _getNodeText[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _getNodeText[key];
    }
  });
});

var _events = require("./events");

Object.keys(_events).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;
  if (key in exports && exports[key] === _events[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _events[key];
    }
  });
});

var _screen = require("./screen");

Object.keys(_screen).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;
  if (key in exports && exports[key] === _screen[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _screen[key];
    }
  });
});

var _roleHelpers = require("./role-helpers");

var _prettyDom = require("./pretty-dom");

Object.keys(_prettyDom).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;
  if (key in exports && exports[key] === _prettyDom[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _prettyDom[key];
    }
  });
});

var _config = require("./config");

var _suggestions = require("./suggestions");

Object.keys(_suggestions).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;
  if (key in exports && exports[key] === _suggestions[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _suggestions[key];
    }
  });
});

function _getRequireWildcardCache(nodeInterop) {
  if (typeof WeakMap !== "function") return null;
  var cacheBabelInterop = new WeakMap();
  var cacheNodeInterop = new WeakMap();
  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {
    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
  })(nodeInterop);
}

function _interopRequireWildcard(obj, nodeInterop) {
  if (!nodeInterop && obj && obj.__esModule) {
    return obj;
  }

  if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
    return {
      default: obj
    };
  }

  var cache = _getRequireWildcardCache(nodeInterop);

  if (cache && cache.has(obj)) {
    return cache.get(obj);
  }

  var newObj = {};
  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;

  for (var key in obj) {
    if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;

      if (desc && (desc.get || desc.set)) {
        Object.defineProperty(newObj, key, desc);
      } else {
        newObj[key] = obj[key];
      }
    }
  }

  newObj.default = obj;

  if (cache) {
    cache.set(obj, newObj);
  }

  return newObj;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiX2V4cG9ydE5hbWVzIiwid2l0aGluIiwicXVlcmllcyIsInF1ZXJ5SGVscGVycyIsImdldERlZmF1bHROb3JtYWxpemVyIiwiZ2V0Um9sZXMiLCJsb2dSb2xlcyIsImlzSW5hY2Nlc3NpYmxlIiwiY29uZmlndXJlIiwiZ2V0Q29uZmlnIiwiZW51bWVyYWJsZSIsImdldCIsIl9nZXRRdWVyaWVzRm9yRWxlbWVudCIsImdldFF1ZXJpZXNGb3JFbGVtZW50IiwiX21hdGNoZXMiLCJfcm9sZUhlbHBlcnMiLCJfY29uZmlnIiwicmVxdWlyZSIsImtleXMiLCJmb3JFYWNoIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJfd2FpdEZvciIsIl93YWl0Rm9yRWxlbWVudFRvQmVSZW1vdmVkIiwiX2dldE5vZGVUZXh0IiwiX2V2ZW50cyIsIl9zY3JlZW4iLCJfcHJldHR5RG9tIiwiX3N1Z2dlc3Rpb25zIiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwibm9kZUludGVyb3AiLCJXZWFrTWFwIiwiY2FjaGVCYWJlbEludGVyb3AiLCJjYWNoZU5vZGVJbnRlcm9wIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJjYWNoZSIsImhhcyIsIm5ld09iaiIsImhhc1Byb3BlcnR5RGVzY3JpcHRvciIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImRlc2MiLCJzZXQiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBQSxNQUFNLENBQUNDLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDO0FBQzNDQyxFQUFBQSxLQUFLLEVBQUU7QUFEb0MsQ0FBN0M7QUFHQSxJQUFJQyxZQUFZLEdBQUc7QUFDakJDLEVBQUFBLE1BQU0sRUFBRSxJQURTO0FBRWpCQyxFQUFBQSxP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dEIsRUFBOEJ0QixHQUE5QixFQUFtQ3lCLElBQW5DO0FBQTJDLE9BQWpGLE1BQXVGO0FBQUVILFFBQUFBLE1BQU0sQ0FBQ3RCLEdBQUQsQ0FBTixHQUFjaUIsR0FBRyxDQUFDakIsR0FBRCxDQUFqQjtBQUF5QjtBQUFFO0FBQUU7O0FBQUNzQixFQUFBQSxNQUFNLENBQUNILE9BQVAsR0FBaUJGLEdBQWpCOztBQUFzQixNQUFJRyxLQUFKLEVBQVc7QUFBRUEsSUFBQUEsS0FBSyxDQUFDTSxHQUFOLENBQVVULEdBQVYsRUFBZUssTUFBZjtBQUF5Qjs7QUFBQyxTQUFPQSxNQUFQO0FBQWdCIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgX2V4cG9ydE5hbWVzID0ge1xuICB3aXRoaW46IHRydWUsXG4gIHF1ZXJpZXM6IHRydWUsXG4gIHF1ZXJ5SGVscGVyczogdHJ1ZSxcbiAgZ2V0RGVmYXVsdE5vcm1hbGl6ZXI6IHRydWUsXG4gIGdldFJvbGVzOiB0cnVlLFxuICBsb2dSb2xlczogdHJ1ZSxcbiAgaXNJbmFjY2Vzc2libGU6IHRydWUsXG4gIGNvbmZpZ3VyZTogdHJ1ZSxcbiAgZ2V0Q29uZmlnOiB0cnVlXG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwid2l0aGluXCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9nZXRRdWVyaWVzRm9yRWxlbWVudC5nZXRRdWVyaWVzRm9yRWxlbWVudDtcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJnZXREZWZhdWx0Tm9ybWFsaXplclwiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfbWF0Y2hlcy5nZXREZWZhdWx0Tm9ybWFsaXplcjtcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJnZXRSb2xlc1wiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfcm9sZUhlbHBlcnMuZ2V0Um9sZXM7XG4gIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwibG9nUm9sZXNcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX3JvbGVIZWxwZXJzLmxvZ1JvbGVzO1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImlzSW5hY2Nlc3NpYmxlXCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9yb2xlSGVscGVycy5pc0luYWNjZXNzaWJsZTtcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjb25maWd1cmVcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX2NvbmZpZy5jb25maWd1cmU7XG4gIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZ2V0Q29uZmlnXCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9jb25maWcuZ2V0Q29uZmlnO1xuICB9XG59KTtcbmV4cG9ydHMucXVlcnlIZWxwZXJzID0gZXhwb3J0cy5xdWVyaWVzID0gdm9pZCAwO1xuXG52YXIgX2dldFF1ZXJpZXNGb3JFbGVtZW50ID0gcmVxdWlyZShcIi4vZ2V0LXF1ZXJpZXMtZm9yLWVsZW1lbnRcIik7XG5cbk9iamVjdC5rZXlzKF9nZXRRdWVyaWVzRm9yRWxlbWVudCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gIGlmIChrZXkgPT09IFwiZGVmYXVsdFwiIHx8IGtleSA9PT0gXCJfX2VzTW9kdWxlXCIpIHJldHVybjtcbiAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChfZXhwb3J0TmFtZXMsIGtleSkpIHJldHVybjtcbiAgaWYgKGtleSBpbiBleHBvcnRzICYmIGV4cG9ydHNba2V5XSA9PT0gX2dldFF1ZXJpZXNGb3JFbGVtZW50W2tleV0pIHJldHVybjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX2dldFF1ZXJpZXNGb3JFbGVtZW50W2tleV07XG4gICAgfVxuICB9KTtcbn0pO1xuXG52YXIgcXVlcmllcyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoXCIuL3F1ZXJpZXNcIikpO1xuXG5leHBvcnRzLnF1ZXJpZXMgPSBxdWVyaWVzO1xuT2JqZWN0LmtleXMocXVlcmllcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gIGlmIChrZXkgPT09IFwiZGVmYXVsdFwiIHx8IGtleSA9PT0gXCJfX2VzTW9kdWxlXCIpIHJldHVybjtcbiAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChfZXhwb3J0TmFtZXMsIGtleSkpIHJldHVybjtcbiAgaWYgKGtleSBpbiBleHBvcnRzICYmIGV4cG9ydHNba2V5XSA9PT0gcXVlcmllc1trZXldKSByZXR1cm47XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHF1ZXJpZXNba2V5XTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbnZhciBxdWVyeUhlbHBlcnMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwiLi9xdWVyeS1oZWxwZXJzXCIpKTtcblxuZXhwb3J0cy5xdWVyeUhlbHBlcnMgPSBxdWVyeUhlbHBlcnM7XG5PYmplY3Qua2V5cyhxdWVyeUhlbHBlcnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICBpZiAoa2V5ID09PSBcImRlZmF1bHRcIiB8fCBrZXkgPT09IFwiX19lc01vZHVsZVwiKSByZXR1cm47XG4gIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoX2V4cG9ydE5hbWVzLCBrZXkpKSByZXR1cm47XG4gIGlmIChrZXkgaW4gZXhwb3J0cyAmJiBleHBvcnRzW2tleV0gPT09IHF1ZXJ5SGVscGVyc1trZXldKSByZXR1cm47XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHF1ZXJ5SGVscGVyc1trZXldO1xuICAgIH1cbiAgfSk7XG59KTtcblxudmFyIF93YWl0Rm9yID0gcmVxdWlyZShcIi4vd2FpdC1mb3JcIik7XG5cbk9iamVjdC5rZXlzKF93YWl0Rm9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgaWYgKGtleSA9PT0gXCJkZWZhdWx0XCIgfHwga2V5ID09PSBcIl9fZXNNb2R1bGVcIikgcmV0dXJuO1xuICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9leHBvcnROYW1lcywga2V5KSkgcmV0dXJuO1xuICBpZiAoa2V5IGluIGV4cG9ydHMgJiYgZXhwb3J0c1trZXldID09PSBfd2FpdEZvcltrZXldKSByZXR1cm47XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF93YWl0Rm9yW2tleV07XG4gICAgfVxuICB9KTtcbn0pO1xuXG52YXIgX3dhaXRGb3JFbGVtZW50VG9CZVJlbW92ZWQgPSByZXF1aXJlKFwiLi93YWl0LWZvci1lbGVtZW50LXRvLWJlLXJlbW92ZWRcIik7XG5cbk9iamVjdC5rZXlzKF93YWl0Rm9yRWxlbWVudFRvQmVSZW1vdmVkKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgaWYgKGtleSA9PT0gXCJkZWZhdWx0XCIgfHwga2V5ID09PSBcIl9fZXNNb2R1bGVcIikgcmV0dXJuO1xuICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9leHBvcnROYW1lcywga2V5KSkgcmV0dXJuO1xuICBpZiAoa2V5IGluIGV4cG9ydHMgJiYgZXhwb3J0c1trZXldID09PSBfd2FpdEZvckVsZW1lbnRUb0JlUmVtb3ZlZFtrZXldKSByZXR1cm47XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF93YWl0Rm9yRWxlbWVudFRvQmVSZW1vdmVkW2tleV07XG4gICAgfVxuICB9KTtcbn0pO1xuXG52YXIgX21hdGNoZXMgPSByZXF1aXJlKFwiLi9tYXRjaGVzXCIpO1xuXG52YXIgX2dldE5vZGVUZXh0ID0gcmVxdWlyZShcIi4vZ2V0LW5vZGUtdGV4dFwiKTtcblxuT2JqZWN0LmtleXMoX2dldE5vZGVUZXh0KS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgaWYgKGtleSA9PT0gXCJkZWZhdWx0XCIgfHwga2V5ID09PSBcIl9fZXNNb2R1bGVcIikgcmV0dXJuO1xuICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9leHBvcnROYW1lcywga2V5KSkgcmV0dXJuO1xuICBpZiAoa2V5IGluIGV4cG9ydHMgJiYgZXhwb3J0c1trZXldID09PSBfZ2V0Tm9kZVRleHRba2V5XSkgcmV0dXJuO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfZ2V0Tm9kZVRleHRba2V5XTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbnZhciBfZXZlbnRzID0gcmVxdWlyZShcIi4vZXZlbnRzXCIpO1xuXG5PYmplY3Qua2V5cyhfZXZlbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgaWYgKGtleSA9PT0gXCJkZWZhdWx0XCIgfHwga2V5ID09PSBcIl9fZXNNb2R1bGVcIikgcmV0dXJuO1xuICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9leHBvcnROYW1lcywga2V5KSkgcmV0dXJuO1xuICBpZiAoa2V5IGluIGV4cG9ydHMgJiYgZXhwb3J0c1trZXldID09PSBfZXZlbnRzW2tleV0pIHJldHVybjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX2V2ZW50c1trZXldO1xuICAgIH1cbiAgfSk7XG59KTtcblxudmFyIF9zY3JlZW4gPSByZXF1aXJlKFwiLi9zY3JlZW5cIik7XG5cbk9iamVjdC5rZXlzKF9zY3JlZW4pLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICBpZiAoa2V5ID09PSBcImRlZmF1bHRcIiB8fCBrZXkgPT09IFwiX19lc01vZHVsZVwiKSByZXR1cm47XG4gIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoX2V4cG9ydE5hbWVzLCBrZXkpKSByZXR1cm47XG4gIGlmIChrZXkgaW4gZXhwb3J0cyAmJiBleHBvcnRzW2tleV0gPT09IF9zY3JlZW5ba2V5XSkgcmV0dXJuO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfc2NyZWVuW2tleV07XG4gICAgfVxuICB9KTtcbn0pO1xuXG52YXIgX3JvbGVIZWxwZXJzID0gcmVxdWlyZShcIi4vcm9sZS1oZWxwZXJzXCIpO1xuXG52YXIgX3ByZXR0eURvbSA9IHJlcXVpcmUoXCIuL3ByZXR0eS1kb21cIik7XG5cbk9iamVjdC5rZXlzKF9wcmV0dHlEb20pLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICBpZiAoa2V5ID09PSBcImRlZmF1bHRcIiB8fCBrZXkgPT09IFwiX19lc01vZHVsZVwiKSByZXR1cm47XG4gIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoX2V4cG9ydE5hbWVzLCBrZXkpKSByZXR1cm47XG4gIGlmIChrZXkgaW4gZXhwb3J0cyAmJiBleHBvcnRzW2tleV0gPT09IF9wcmV0dHlEb21ba2V5XSkgcmV0dXJuO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfcHJldHR5RG9tW2tleV07XG4gICAgfVxuICB9KTtcbn0pO1xuXG52YXIgX2NvbmZpZyA9IHJlcXVpcmUoXCIuL2NvbmZpZ1wiKTtcblxudmFyIF9zdWdnZXN0aW9ucyA9IHJlcXVpcmUoXCIuL3N1Z2dlc3Rpb25zXCIpO1xuXG5PYmplY3Qua2V5cyhfc3VnZ2VzdGlvbnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICBpZiAoa2V5ID09PSBcImRlZmF1bHRcIiB8fCBrZXkgPT09IFwiX19lc01vZHVsZVwiKSByZXR1cm47XG4gIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoX2V4cG9ydE5hbWVzLCBrZXkpKSByZXR1cm47XG4gIGlmIChrZXkgaW4gZXhwb3J0cyAmJiBleHBvcnRzW2tleV0gPT09IF9zdWdnZXN0aW9uc1trZXldKSByZXR1cm47XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF9zdWdnZXN0aW9uc1trZXldO1xuICAgIH1cbiAgfSk7XG59KTtcblxuZnVuY3Rpb24gX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlKG5vZGVJbnRlcm9wKSB7IGlmICh0eXBlb2YgV2Vha01hcCAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm4gbnVsbDsgdmFyIGNhY2hlQmFiZWxJbnRlcm9wID0gbmV3IFdlYWtNYXAoKTsgdmFyIGNhY2hlTm9kZUludGVyb3AgPSBuZXcgV2Vha01hcCgpOyByZXR1cm4gKF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSA9IGZ1bmN0aW9uIChub2RlSW50ZXJvcCkgeyByZXR1cm4gbm9kZUludGVyb3AgPyBjYWNoZU5vZGVJbnRlcm9wIDogY2FjaGVCYWJlbEludGVyb3A7IH0pKG5vZGVJbnRlcm9wKTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmosIG5vZGVJbnRlcm9wKSB7IGlmICghbm9kZUludGVyb3AgJiYgb2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBvYmogIT09IFwiZnVuY3Rpb25cIikgeyByZXR1cm4geyBkZWZhdWx0OiBvYmogfTsgfSB2YXIgY2FjaGUgPSBfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUobm9kZUludGVyb3ApOyBpZiAoY2FjaGUgJiYgY2FjaGUuaGFzKG9iaikpIHsgcmV0dXJuIGNhY2hlLmdldChvYmopOyB9IHZhciBuZXdPYmogPSB7fTsgdmFyIGhhc1Byb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChrZXkgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBoYXNQcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IG51bGw7IGlmIChkZXNjICYmIChkZXNjLmdldCB8fCBkZXNjLnNldCkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IGlmIChjYWNoZSkgeyBjYWNoZS5zZXQob2JqLCBuZXdPYmopOyB9IHJldHVybiBuZXdPYmo7IH0iXX0=