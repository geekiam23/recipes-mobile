97a6b4744caa08f766e6112563d62ce9
var _forceReduced = require("./_forceReduced");

var _isArrayLike = require("./_isArrayLike");

var _reduce = require("./_reduce");

var _xfBase = require("./_xfBase");

var preservingReduced = function preservingReduced(xf) {
  return {
    '@@transducer/init': _xfBase.init,
    '@@transducer/result': function transducerResult(result) {
      return xf['@@transducer/result'](result);
    },
    '@@transducer/step': function transducerStep(result, input) {
      var ret = xf['@@transducer/step'](result, input);
      return ret['@@transducer/reduced'] ? _forceReduced(ret) : ret;
    }
  };
};

var _flatCat = function _xcat(xf) {
  var rxf = preservingReduced(xf);
  return {
    '@@transducer/init': _xfBase.init,
    '@@transducer/result': function transducerResult(result) {
      return rxf['@@transducer/result'](result);
    },
    '@@transducer/step': function transducerStep(result, input) {
      return !_isArrayLike(input) ? _reduce(rxf, result, [input]) : _reduce(rxf, result, input);
    }
  };
};

module.exports = _flatCat;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9mbGF0Q2F0LmpzIl0sIm5hbWVzIjpbIl9mb3JjZVJlZHVjZWQiLCJyZXF1aXJlIiwiX2lzQXJyYXlMaWtlIiwiX3JlZHVjZSIsIl94ZkJhc2UiLCJwcmVzZXJ2aW5nUmVkdWNlZCIsInhmIiwiaW5pdCIsInJlc3VsdCIsImlucHV0IiwicmV0IiwiX2ZsYXRDYXQiLCJfeGNhdCIsInJ4ZiIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLElBQUlBLGFBQWEsR0FBZ0JDLE9BQU8sbUJBQXhDOztBQUVBLElBQUlDLFlBQVksR0FBZ0JELE9BQU8sa0JBQXZDOztBQUVBLElBQUlFLE9BQU8sR0FBZ0JGLE9BQU8sYUFBbEM7O0FBRUEsSUFBSUcsT0FBTyxHQUFnQkgsT0FBTyxhQUFsQzs7QUFFQSxJQUFJSSxpQkFBaUIsR0FBRyxTQUFwQkEsaUJBQW9CLENBQVVDLEVBQVYsRUFBYztBQUNwQyxTQUFPO0FBQ0wseUJBQXFCRixPQUFPLENBQUNHLElBRHhCO0FBRUwsMkJBQXVCLDBCQUFVQyxNQUFWLEVBQWtCO0FBQ3ZDLGFBQU9GLEVBQUUsQ0FBQyxxQkFBRCxDQUFGLENBQTBCRSxNQUExQixDQUFQO0FBQ0QsS0FKSTtBQUtMLHlCQUFxQix3QkFBVUEsTUFBVixFQUFrQkMsS0FBbEIsRUFBeUI7QUFDNUMsVUFBSUMsR0FBRyxHQUFHSixFQUFFLENBQUMsbUJBQUQsQ0FBRixDQUF3QkUsTUFBeEIsRUFBZ0NDLEtBQWhDLENBQVY7QUFDQSxhQUFPQyxHQUFHLENBQUMsc0JBQUQsQ0FBSCxHQUE4QlYsYUFBYSxDQUFDVSxHQUFELENBQTNDLEdBQW1EQSxHQUExRDtBQUNEO0FBUkksR0FBUDtBQVVELENBWEQ7O0FBYUEsSUFBSUMsUUFBUSxHQUFHLFNBQVNDLEtBQVQsQ0FBZU4sRUFBZixFQUFtQjtBQUNoQyxNQUFJTyxHQUFHLEdBQUdSLGlCQUFpQixDQUFDQyxFQUFELENBQTNCO0FBQ0EsU0FBTztBQUNMLHlCQUFxQkYsT0FBTyxDQUFDRyxJQUR4QjtBQUVMLDJCQUF1QiwwQkFBVUMsTUFBVixFQUFrQjtBQUN2QyxhQUFPSyxHQUFHLENBQUMscUJBQUQsQ0FBSCxDQUEyQkwsTUFBM0IsQ0FBUDtBQUNELEtBSkk7QUFLTCx5QkFBcUIsd0JBQVVBLE1BQVYsRUFBa0JDLEtBQWxCLEVBQXlCO0FBQzVDLGFBQU8sQ0FBQ1AsWUFBWSxDQUFDTyxLQUFELENBQWIsR0FBdUJOLE9BQU8sQ0FBQ1UsR0FBRCxFQUFNTCxNQUFOLEVBQWMsQ0FBQ0MsS0FBRCxDQUFkLENBQTlCLEdBQXVETixPQUFPLENBQUNVLEdBQUQsRUFBTUwsTUFBTixFQUFjQyxLQUFkLENBQXJFO0FBQ0Q7QUFQSSxHQUFQO0FBU0QsQ0FYRDs7QUFhQUssTUFBTSxDQUFDQyxPQUFQLEdBQWlCSixRQUFqQiIsInNvdXJjZXNDb250ZW50IjpbInZhciBfZm9yY2VSZWR1Y2VkID0gLyojX19QVVJFX18qL3JlcXVpcmUoJy4vX2ZvcmNlUmVkdWNlZCcpO1xuXG52YXIgX2lzQXJyYXlMaWtlID0gLyojX19QVVJFX18qL3JlcXVpcmUoJy4vX2lzQXJyYXlMaWtlJyk7XG5cbnZhciBfcmVkdWNlID0gLyojX19QVVJFX18qL3JlcXVpcmUoJy4vX3JlZHVjZScpO1xuXG52YXIgX3hmQmFzZSA9IC8qI19fUFVSRV9fKi9yZXF1aXJlKCcuL194ZkJhc2UnKTtcblxudmFyIHByZXNlcnZpbmdSZWR1Y2VkID0gZnVuY3Rpb24gKHhmKSB7XG4gIHJldHVybiB7XG4gICAgJ0BAdHJhbnNkdWNlci9pbml0JzogX3hmQmFzZS5pbml0LFxuICAgICdAQHRyYW5zZHVjZXIvcmVzdWx0JzogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgcmV0dXJuIHhmWydAQHRyYW5zZHVjZXIvcmVzdWx0J10ocmVzdWx0KTtcbiAgICB9LFxuICAgICdAQHRyYW5zZHVjZXIvc3RlcCc6IGZ1bmN0aW9uIChyZXN1bHQsIGlucHV0KSB7XG4gICAgICB2YXIgcmV0ID0geGZbJ0BAdHJhbnNkdWNlci9zdGVwJ10ocmVzdWx0LCBpbnB1dCk7XG4gICAgICByZXR1cm4gcmV0WydAQHRyYW5zZHVjZXIvcmVkdWNlZCddID8gX2ZvcmNlUmVkdWNlZChyZXQpIDogcmV0O1xuICAgIH1cbiAgfTtcbn07XG5cbnZhciBfZmxhdENhdCA9IGZ1bmN0aW9uIF94Y2F0KHhmKSB7XG4gIHZhciByeGYgPSBwcmVzZXJ2aW5nUmVkdWNlZCh4Zik7XG4gIHJldHVybiB7XG4gICAgJ0BAdHJhbnNkdWNlci9pbml0JzogX3hmQmFzZS5pbml0LFxuICAgICdAQHRyYW5zZHVjZXIvcmVzdWx0JzogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgcmV0dXJuIHJ4ZlsnQEB0cmFuc2R1Y2VyL3Jlc3VsdCddKHJlc3VsdCk7XG4gICAgfSxcbiAgICAnQEB0cmFuc2R1Y2VyL3N0ZXAnOiBmdW5jdGlvbiAocmVzdWx0LCBpbnB1dCkge1xuICAgICAgcmV0dXJuICFfaXNBcnJheUxpa2UoaW5wdXQpID8gX3JlZHVjZShyeGYsIHJlc3VsdCwgW2lucHV0XSkgOiBfcmVkdWNlKHJ4ZiwgcmVzdWx0LCBpbnB1dCk7XG4gICAgfVxuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBfZmxhdENhdDsiXX0=