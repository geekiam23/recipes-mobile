55fe709c72174776fc1c4778860014c4
var _curry2 = require("./_curry2");

var _xfBase = require("./_xfBase");

var XDropRepeatsWith = function () {
  function XDropRepeatsWith(pred, xf) {
    this.xf = xf;
    this.pred = pred;
    this.lastValue = undefined;
    this.seenFirstValue = false;
  }

  XDropRepeatsWith.prototype['@@transducer/init'] = _xfBase.init;
  XDropRepeatsWith.prototype['@@transducer/result'] = _xfBase.result;

  XDropRepeatsWith.prototype['@@transducer/step'] = function (result, input) {
    var sameAsLast = false;

    if (!this.seenFirstValue) {
      this.seenFirstValue = true;
    } else if (this.pred(this.lastValue, input)) {
      sameAsLast = true;
    }

    this.lastValue = input;
    return sameAsLast ? result : this.xf['@@transducer/step'](result, input);
  };

  return XDropRepeatsWith;
}();

var _xdropRepeatsWith = _curry2(function _xdropRepeatsWith(pred, xf) {
  return new XDropRepeatsWith(pred, xf);
});

module.exports = _xdropRepeatsWith;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl94ZHJvcFJlcGVhdHNXaXRoLmpzIl0sIm5hbWVzIjpbIl9jdXJyeTIiLCJyZXF1aXJlIiwiX3hmQmFzZSIsIlhEcm9wUmVwZWF0c1dpdGgiLCJwcmVkIiwieGYiLCJsYXN0VmFsdWUiLCJ1bmRlZmluZWQiLCJzZWVuRmlyc3RWYWx1ZSIsInByb3RvdHlwZSIsImluaXQiLCJyZXN1bHQiLCJpbnB1dCIsInNhbWVBc0xhc3QiLCJfeGRyb3BSZXBlYXRzV2l0aCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLElBQUlBLE9BQU8sR0FBZ0JDLE9BQU8sYUFBbEM7O0FBRUEsSUFBSUMsT0FBTyxHQUFnQkQsT0FBTyxhQUFsQzs7QUFFQSxJQUFJRSxnQkFBZ0IsR0FBZ0IsWUFBWTtBQUU5QyxXQUFTQSxnQkFBVCxDQUEwQkMsSUFBMUIsRUFBZ0NDLEVBQWhDLEVBQW9DO0FBQ2xDLFNBQUtBLEVBQUwsR0FBVUEsRUFBVjtBQUNBLFNBQUtELElBQUwsR0FBWUEsSUFBWjtBQUNBLFNBQUtFLFNBQUwsR0FBaUJDLFNBQWpCO0FBQ0EsU0FBS0MsY0FBTCxHQUFzQixLQUF0QjtBQUNEOztBQUVETCxFQUFBQSxnQkFBZ0IsQ0FBQ00sU0FBakIsQ0FBMkIsbUJBQTNCLElBQWtEUCxPQUFPLENBQUNRLElBQTFEO0FBQ0FQLEVBQUFBLGdCQUFnQixDQUFDTSxTQUFqQixDQUEyQixxQkFBM0IsSUFBb0RQLE9BQU8sQ0FBQ1MsTUFBNUQ7O0FBQ0FSLEVBQUFBLGdCQUFnQixDQUFDTSxTQUFqQixDQUEyQixtQkFBM0IsSUFBa0QsVUFBVUUsTUFBVixFQUFrQkMsS0FBbEIsRUFBeUI7QUFDekUsUUFBSUMsVUFBVSxHQUFHLEtBQWpCOztBQUNBLFFBQUksQ0FBQyxLQUFLTCxjQUFWLEVBQTBCO0FBQ3hCLFdBQUtBLGNBQUwsR0FBc0IsSUFBdEI7QUFDRCxLQUZELE1BRU8sSUFBSSxLQUFLSixJQUFMLENBQVUsS0FBS0UsU0FBZixFQUEwQk0sS0FBMUIsQ0FBSixFQUFzQztBQUMzQ0MsTUFBQUEsVUFBVSxHQUFHLElBQWI7QUFDRDs7QUFDRCxTQUFLUCxTQUFMLEdBQWlCTSxLQUFqQjtBQUNBLFdBQU9DLFVBQVUsR0FBR0YsTUFBSCxHQUFZLEtBQUtOLEVBQUwsQ0FBUSxtQkFBUixFQUE2Qk0sTUFBN0IsRUFBcUNDLEtBQXJDLENBQTdCO0FBQ0QsR0FURDs7QUFXQSxTQUFPVCxnQkFBUDtBQUNELENBdkJtQyxFQUFwQzs7QUF5QkEsSUFBSVcsaUJBQWlCLEdBQWdCZCxPQUFPLENBQUMsU0FBU2MsaUJBQVQsQ0FBMkJWLElBQTNCLEVBQWlDQyxFQUFqQyxFQUFxQztBQUNoRixTQUFPLElBQUlGLGdCQUFKLENBQXFCQyxJQUFyQixFQUEyQkMsRUFBM0IsQ0FBUDtBQUNELENBRjJDLENBQTVDOztBQUdBVSxNQUFNLENBQUNDLE9BQVAsR0FBaUJGLGlCQUFqQiIsInNvdXJjZXNDb250ZW50IjpbInZhciBfY3VycnkyID0gLyojX19QVVJFX18qL3JlcXVpcmUoJy4vX2N1cnJ5MicpO1xuXG52YXIgX3hmQmFzZSA9IC8qI19fUFVSRV9fKi9yZXF1aXJlKCcuL194ZkJhc2UnKTtcblxudmFyIFhEcm9wUmVwZWF0c1dpdGggPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuXG4gIGZ1bmN0aW9uIFhEcm9wUmVwZWF0c1dpdGgocHJlZCwgeGYpIHtcbiAgICB0aGlzLnhmID0geGY7XG4gICAgdGhpcy5wcmVkID0gcHJlZDtcbiAgICB0aGlzLmxhc3RWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnNlZW5GaXJzdFZhbHVlID0gZmFsc2U7XG4gIH1cblxuICBYRHJvcFJlcGVhdHNXaXRoLnByb3RvdHlwZVsnQEB0cmFuc2R1Y2VyL2luaXQnXSA9IF94ZkJhc2UuaW5pdDtcbiAgWERyb3BSZXBlYXRzV2l0aC5wcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9yZXN1bHQnXSA9IF94ZkJhc2UucmVzdWx0O1xuICBYRHJvcFJlcGVhdHNXaXRoLnByb3RvdHlwZVsnQEB0cmFuc2R1Y2VyL3N0ZXAnXSA9IGZ1bmN0aW9uIChyZXN1bHQsIGlucHV0KSB7XG4gICAgdmFyIHNhbWVBc0xhc3QgPSBmYWxzZTtcbiAgICBpZiAoIXRoaXMuc2VlbkZpcnN0VmFsdWUpIHtcbiAgICAgIHRoaXMuc2VlbkZpcnN0VmFsdWUgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcmVkKHRoaXMubGFzdFZhbHVlLCBpbnB1dCkpIHtcbiAgICAgIHNhbWVBc0xhc3QgPSB0cnVlO1xuICAgIH1cbiAgICB0aGlzLmxhc3RWYWx1ZSA9IGlucHV0O1xuICAgIHJldHVybiBzYW1lQXNMYXN0ID8gcmVzdWx0IDogdGhpcy54ZlsnQEB0cmFuc2R1Y2VyL3N0ZXAnXShyZXN1bHQsIGlucHV0KTtcbiAgfTtcblxuICByZXR1cm4gWERyb3BSZXBlYXRzV2l0aDtcbn0oKTtcblxudmFyIF94ZHJvcFJlcGVhdHNXaXRoID0gLyojX19QVVJFX18qL19jdXJyeTIoZnVuY3Rpb24gX3hkcm9wUmVwZWF0c1dpdGgocHJlZCwgeGYpIHtcbiAgcmV0dXJuIG5ldyBYRHJvcFJlcGVhdHNXaXRoKHByZWQsIHhmKTtcbn0pO1xubW9kdWxlLmV4cG9ydHMgPSBfeGRyb3BSZXBlYXRzV2l0aDsiXX0=