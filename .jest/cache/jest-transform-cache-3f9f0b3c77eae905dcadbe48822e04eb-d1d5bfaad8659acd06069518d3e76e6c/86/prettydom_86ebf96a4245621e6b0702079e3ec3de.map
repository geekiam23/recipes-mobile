{"version":3,"sources":["pretty-dom.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","prettyDOM","prettyFormat","logDOM","_interopRequireWildcard","_DOMElementFilter","_getUserCodeFrame","_helpers","_shared","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","inCypress","dom","window","ownerDocument","defaultView","undefined","global","Cypress","inNode","process","versions","node","getMaxLength","env","DEBUG_PRINT_LIMIT","DOMCollection","plugins","ELEMENT_NODE","COMMENT_NODE","filterCommentsAndDefaultIgnoreTagsTags","nodeType","matches","DEFAULT_IGNORE_TAGS","maxLength","options","getDocument","body","documentElement","domTypeName","constructor","name","TypeError","filterNode","prettyFormatOptions","debugContent","format","printFunctionName","highlight","outerHTML","length","slice","userCodeFrame","getUserCodeFrame","console","log"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.prettyDOM = prettyDOM;\nexports.prettyFormat = exports.logDOM = void 0;\n\nvar prettyFormat = _interopRequireWildcard(require(\"pretty-format\"));\n\nexports.prettyFormat = prettyFormat;\n\nvar _DOMElementFilter = _interopRequireDefault(require(\"./DOMElementFilter\"));\n\nvar _getUserCodeFrame = require(\"./get-user-code-frame\");\n\nvar _helpers = require(\"./helpers\");\n\nvar _shared = require(\"./shared\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction inCypress(dom) {\n  const window = dom.ownerDocument && dom.ownerDocument.defaultView || undefined;\n  return typeof global !== 'undefined' && global.Cypress || typeof window !== 'undefined' && window.Cypress;\n}\n\nconst inNode = () => typeof process !== 'undefined' && process.versions !== undefined && process.versions.node !== undefined;\n\nconst getMaxLength = dom => inCypress(dom) ? 0 : typeof process !== 'undefined' && process.env.DEBUG_PRINT_LIMIT || 7000;\n\nconst {\n  DOMCollection\n} = prettyFormat.plugins; // https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType#node_type_constants\n\nconst ELEMENT_NODE = 1;\nconst COMMENT_NODE = 8; // https://github.com/facebook/jest/blob/615084195ae1ae61ddd56162c62bbdda17587569/packages/pretty-format/src/plugins/DOMElement.ts#L50\n\nfunction filterCommentsAndDefaultIgnoreTagsTags(value) {\n  return value.nodeType !== COMMENT_NODE && ( // value.nodeType === ELEMENT_NODE => !value.matches(DEFAULT_IGNORE_TAGS)\n  value.nodeType !== ELEMENT_NODE || !value.matches(_shared.DEFAULT_IGNORE_TAGS));\n}\n\nfunction prettyDOM(dom, maxLength, options = {}) {\n  if (!dom) {\n    dom = (0, _helpers.getDocument)().body;\n  }\n\n  if (typeof maxLength !== 'number') {\n    maxLength = getMaxLength(dom);\n  }\n\n  if (maxLength === 0) {\n    return '';\n  }\n\n  if (dom.documentElement) {\n    dom = dom.documentElement;\n  }\n\n  let domTypeName = typeof dom;\n\n  if (domTypeName === 'object') {\n    domTypeName = dom.constructor.name;\n  } else {\n    // To don't fall with `in` operator\n    dom = {};\n  }\n\n  if (!('outerHTML' in dom)) {\n    throw new TypeError(`Expected an element or document but got ${domTypeName}`);\n  }\n\n  const {\n    filterNode = filterCommentsAndDefaultIgnoreTagsTags,\n    ...prettyFormatOptions\n  } = options;\n  const debugContent = prettyFormat.format(dom, {\n    plugins: [(0, _DOMElementFilter.default)(filterNode), DOMCollection],\n    printFunctionName: false,\n    highlight: inNode(),\n    ...prettyFormatOptions\n  });\n  return maxLength !== undefined && dom.outerHTML.length > maxLength ? `${debugContent.slice(0, maxLength)}...` : debugContent;\n}\n\nconst logDOM = (...args) => {\n  const userCodeFrame = (0, _getUserCodeFrame.getUserCodeFrame)();\n\n  if (userCodeFrame) {\n    console.log(`${prettyDOM(...args)}\\n\\n${userCodeFrame}`);\n  } else {\n    console.log(prettyDOM(...args));\n  }\n};\n\nexports.logDOM = logDOM;"]}