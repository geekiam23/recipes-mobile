3c23e0d3e1bd2d56c0cf497a8458a064
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports.default = exports.test = exports.serialize = void 0;

var _markup = require("./lib/markup");

var Symbol = global['jest-symbol-do-not-touch'] || global.Symbol;
var testSymbol = Symbol.for('react.test.json');

var getPropKeys = function getPropKeys(object) {
  var props = object.props;
  return props ? Object.keys(props).filter(function (key) {
    return props[key] !== undefined;
  }).sort() : [];
};

var serialize = function serialize(object, config, indentation, depth, refs, printer) {
  return ++depth > config.maxDepth ? (0, _markup.printElementAsLeaf)(object.type, config) : (0, _markup.printElement)(object.type, object.props ? (0, _markup.printProps)(getPropKeys(object), object.props, config, indentation + config.indent, depth, refs, printer) : '', object.children ? (0, _markup.printChildren)(object.children, config, indentation + config.indent, depth, refs, printer) : '', config, indentation);
};

exports.serialize = serialize;

var test = function test(val) {
  return val && val.$$typeof === testSymbol;
};

exports.test = test;
var plugin = {
  serialize: serialize,
  test: test
};
var _default = plugin;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJlYWN0VGVzdENvbXBvbmVudC5qcyJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImRlZmF1bHQiLCJ0ZXN0Iiwic2VyaWFsaXplIiwiX21hcmt1cCIsInJlcXVpcmUiLCJTeW1ib2wiLCJnbG9iYWwiLCJ0ZXN0U3ltYm9sIiwiZm9yIiwiZ2V0UHJvcEtleXMiLCJvYmplY3QiLCJwcm9wcyIsImtleXMiLCJmaWx0ZXIiLCJrZXkiLCJ1bmRlZmluZWQiLCJzb3J0IiwiY29uZmlnIiwiaW5kZW50YXRpb24iLCJkZXB0aCIsInJlZnMiLCJwcmludGVyIiwibWF4RGVwdGgiLCJwcmludEVsZW1lbnRBc0xlYWYiLCJ0eXBlIiwicHJpbnRFbGVtZW50IiwicHJpbnRQcm9wcyIsImluZGVudCIsImNoaWxkcmVuIiwicHJpbnRDaGlsZHJlbiIsInZhbCIsIiQkdHlwZW9mIiwicGx1Z2luIiwiX2RlZmF1bHQiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBQSxNQUFNLENBQUNDLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDO0FBQzNDQyxFQUFBQSxLQUFLLEVBQUU7QUFEb0MsQ0FBN0M7QUFHQUQsT0FBTyxDQUFDRSxPQUFSLEdBQWtCRixPQUFPLENBQUNHLElBQVIsR0FBZUgsT0FBTyxDQUFDSSxTQUFSLEdBQW9CLEtBQUssQ0FBMUQ7O0FBRUEsSUFBSUMsT0FBTyxHQUFHQyxPQUFPLGdCQUFyQjs7QUFFQSxJQUFJQyxNQUFNLEdBQUdDLE1BQU0sQ0FBQywwQkFBRCxDQUFOLElBQXNDQSxNQUFNLENBQUNELE1BQTFEO0FBQ0EsSUFBTUUsVUFBVSxHQUFHRixNQUFNLENBQUNHLEdBQVAsQ0FBVyxpQkFBWCxDQUFuQjs7QUFFQSxJQUFNQyxXQUFXLEdBQUcsU0FBZEEsV0FBYyxDQUFBQyxNQUFNLEVBQUk7QUFDNUIsTUFBTUMsS0FBSyxHQUFHRCxNQUFNLENBQUNDLEtBQXJCO0FBQ0EsU0FBT0EsS0FBSyxHQUNSZixNQUFNLENBQUNnQixJQUFQLENBQVlELEtBQVosRUFDR0UsTUFESCxDQUNVLFVBQUFDLEdBQUc7QUFBQSxXQUFJSCxLQUFLLENBQUNHLEdBQUQsQ0FBTCxLQUFlQyxTQUFuQjtBQUFBLEdBRGIsRUFFR0MsSUFGSCxFQURRLEdBSVIsRUFKSjtBQUtELENBUEQ7O0FBU0EsSUFBTWQsU0FBUyxHQUFHLFNBQVpBLFNBQVksQ0FBQ1EsTUFBRCxFQUFTTyxNQUFULEVBQWlCQyxXQUFqQixFQUE4QkMsS0FBOUIsRUFBcUNDLElBQXJDLEVBQTJDQyxPQUEzQztBQUFBLFNBQ2hCLEVBQUVGLEtBQUYsR0FBVUYsTUFBTSxDQUFDSyxRQUFqQixHQUNJLENBQUMsR0FBR25CLE9BQU8sQ0FBQ29CLGtCQUFaLEVBQWdDYixNQUFNLENBQUNjLElBQXZDLEVBQTZDUCxNQUE3QyxDQURKLEdBRUksQ0FBQyxHQUFHZCxPQUFPLENBQUNzQixZQUFaLEVBQ0VmLE1BQU0sQ0FBQ2MsSUFEVCxFQUVFZCxNQUFNLENBQUNDLEtBQVAsR0FDSSxDQUFDLEdBQUdSLE9BQU8sQ0FBQ3VCLFVBQVosRUFDRWpCLFdBQVcsQ0FBQ0MsTUFBRCxDQURiLEVBRUVBLE1BQU0sQ0FBQ0MsS0FGVCxFQUdFTSxNQUhGLEVBSUVDLFdBQVcsR0FBR0QsTUFBTSxDQUFDVSxNQUp2QixFQUtFUixLQUxGLEVBTUVDLElBTkYsRUFPRUMsT0FQRixDQURKLEdBVUksRUFaTixFQWFFWCxNQUFNLENBQUNrQixRQUFQLEdBQ0ksQ0FBQyxHQUFHekIsT0FBTyxDQUFDMEIsYUFBWixFQUNFbkIsTUFBTSxDQUFDa0IsUUFEVCxFQUVFWCxNQUZGLEVBR0VDLFdBQVcsR0FBR0QsTUFBTSxDQUFDVSxNQUh2QixFQUlFUixLQUpGLEVBS0VDLElBTEYsRUFNRUMsT0FORixDQURKLEdBU0ksRUF0Qk4sRUF1QkVKLE1BdkJGLEVBd0JFQyxXQXhCRixDQUhZO0FBQUEsQ0FBbEI7O0FBOEJBcEIsT0FBTyxDQUFDSSxTQUFSLEdBQW9CQSxTQUFwQjs7QUFFQSxJQUFNRCxJQUFJLEdBQUcsU0FBUEEsSUFBTyxDQUFBNkIsR0FBRztBQUFBLFNBQUlBLEdBQUcsSUFBSUEsR0FBRyxDQUFDQyxRQUFKLEtBQWlCeEIsVUFBNUI7QUFBQSxDQUFoQjs7QUFFQVQsT0FBTyxDQUFDRyxJQUFSLEdBQWVBLElBQWY7QUFDQSxJQUFNK0IsTUFBTSxHQUFHO0FBQ2I5QixFQUFBQSxTQUFTLEVBQVRBLFNBRGE7QUFFYkQsRUFBQUEsSUFBSSxFQUFKQTtBQUZhLENBQWY7QUFJQSxJQUFJZ0MsUUFBUSxHQUFHRCxNQUFmO0FBQ0FsQyxPQUFPLENBQUNFLE9BQVIsR0FBa0JpQyxRQUFsQiIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBleHBvcnRzLnRlc3QgPSBleHBvcnRzLnNlcmlhbGl6ZSA9IHZvaWQgMDtcblxudmFyIF9tYXJrdXAgPSByZXF1aXJlKCcuL2xpYi9tYXJrdXAnKTtcblxudmFyIFN5bWJvbCA9IGdsb2JhbFsnamVzdC1zeW1ib2wtZG8tbm90LXRvdWNoJ10gfHwgZ2xvYmFsLlN5bWJvbDtcbmNvbnN0IHRlc3RTeW1ib2wgPSBTeW1ib2wuZm9yKCdyZWFjdC50ZXN0Lmpzb24nKTtcblxuY29uc3QgZ2V0UHJvcEtleXMgPSBvYmplY3QgPT4ge1xuICBjb25zdCBwcm9wcyA9IG9iamVjdC5wcm9wcztcbiAgcmV0dXJuIHByb3BzXG4gICAgPyBPYmplY3Qua2V5cyhwcm9wcylcbiAgICAgICAgLmZpbHRlcihrZXkgPT4gcHJvcHNba2V5XSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAuc29ydCgpXG4gICAgOiBbXTtcbn07XG5cbmNvbnN0IHNlcmlhbGl6ZSA9IChvYmplY3QsIGNvbmZpZywgaW5kZW50YXRpb24sIGRlcHRoLCByZWZzLCBwcmludGVyKSA9PlxuICArK2RlcHRoID4gY29uZmlnLm1heERlcHRoXG4gICAgPyAoMCwgX21hcmt1cC5wcmludEVsZW1lbnRBc0xlYWYpKG9iamVjdC50eXBlLCBjb25maWcpXG4gICAgOiAoMCwgX21hcmt1cC5wcmludEVsZW1lbnQpKFxuICAgICAgICBvYmplY3QudHlwZSxcbiAgICAgICAgb2JqZWN0LnByb3BzXG4gICAgICAgICAgPyAoMCwgX21hcmt1cC5wcmludFByb3BzKShcbiAgICAgICAgICAgICAgZ2V0UHJvcEtleXMob2JqZWN0KSxcbiAgICAgICAgICAgICAgb2JqZWN0LnByb3BzLFxuICAgICAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgICAgIGluZGVudGF0aW9uICsgY29uZmlnLmluZGVudCxcbiAgICAgICAgICAgICAgZGVwdGgsXG4gICAgICAgICAgICAgIHJlZnMsXG4gICAgICAgICAgICAgIHByaW50ZXJcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6ICcnLFxuICAgICAgICBvYmplY3QuY2hpbGRyZW5cbiAgICAgICAgICA/ICgwLCBfbWFya3VwLnByaW50Q2hpbGRyZW4pKFxuICAgICAgICAgICAgICBvYmplY3QuY2hpbGRyZW4sXG4gICAgICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICAgICAgaW5kZW50YXRpb24gKyBjb25maWcuaW5kZW50LFxuICAgICAgICAgICAgICBkZXB0aCxcbiAgICAgICAgICAgICAgcmVmcyxcbiAgICAgICAgICAgICAgcHJpbnRlclxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogJycsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgaW5kZW50YXRpb25cbiAgICAgICk7XG5cbmV4cG9ydHMuc2VyaWFsaXplID0gc2VyaWFsaXplO1xuXG5jb25zdCB0ZXN0ID0gdmFsID0+IHZhbCAmJiB2YWwuJCR0eXBlb2YgPT09IHRlc3RTeW1ib2w7XG5cbmV4cG9ydHMudGVzdCA9IHRlc3Q7XG5jb25zdCBwbHVnaW4gPSB7XG4gIHNlcmlhbGl6ZSxcbiAgdGVzdFxufTtcbnZhciBfZGVmYXVsdCA9IHBsdWdpbjtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xuIl19