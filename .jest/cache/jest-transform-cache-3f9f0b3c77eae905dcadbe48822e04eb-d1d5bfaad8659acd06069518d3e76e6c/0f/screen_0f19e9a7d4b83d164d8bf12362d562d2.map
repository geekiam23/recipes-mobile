{"version":3,"sources":["screen.js"],"names":["Object","defineProperty","exports","value","screen","_lzString","require","queries","_interopRequireWildcard","_getQueriesForElement","_prettyDom","_helpers","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","unindent","string","replace","encode","compressToEncodedURIComponent","getPlaygroundUrl","markup","debug","element","maxLength","options","Array","isArray","forEach","el","logDOM","logTestingPlaygroundURL","getDocument","body","console","log","innerHTML","initialValue","document","getQueriesForElement","keys","reduce","helpers","TypeError"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.screen = void 0;\n\nvar _lzString = require(\"lz-string\");\n\nvar queries = _interopRequireWildcard(require(\"./queries\"));\n\nvar _getQueriesForElement = require(\"./get-queries-for-element\");\n\nvar _prettyDom = require(\"./pretty-dom\");\n\nvar _helpers = require(\"./helpers\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction unindent(string) {\n  // remove white spaces first, to save a few bytes.\n  // testing-playground will reformat on load any ways.\n  return string.replace(/[ \\t]*[\\n][ \\t]*/g, '\\n');\n}\n\nfunction encode(value) {\n  return (0, _lzString.compressToEncodedURIComponent)(unindent(value));\n}\n\nfunction getPlaygroundUrl(markup) {\n  return `https://testing-playground.com/#markup=${encode(markup)}`;\n}\n\nconst debug = (element, maxLength, options) => Array.isArray(element) ? element.forEach(el => (0, _prettyDom.logDOM)(el, maxLength, options)) : (0, _prettyDom.logDOM)(element, maxLength, options);\n\nconst logTestingPlaygroundURL = (element = (0, _helpers.getDocument)().body) => {\n  if (!element || !('innerHTML' in element)) {\n    console.log(`The element you're providing isn't a valid DOM element.`);\n    return;\n  }\n\n  if (!element.innerHTML) {\n    console.log(`The provided element doesn't have any children.`);\n    return;\n  }\n\n  console.log(`Open this URL in your browser\\n\\n${getPlaygroundUrl(element.innerHTML)}`);\n};\n\nconst initialValue = {\n  debug,\n  logTestingPlaygroundURL\n};\nconst screen = typeof document !== 'undefined' && document.body ? (0, _getQueriesForElement.getQueriesForElement)(document.body, queries, initialValue) : Object.keys(queries).reduce((helpers, key) => {\n  helpers[key] = () => {\n    throw new TypeError('For queries bound to document.body a global document has to be available... Learn more: https://testing-library.com/s/screen-global-error');\n  };\n\n  return helpers;\n}, initialValue);\nexports.screen = screen;"]}