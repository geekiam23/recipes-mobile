d183af563394e535203268ccf6f53635
var _cloneRegExp = require("./_cloneRegExp");

var type = require("../type");

function _clone(value, refFrom, refTo, deep) {
  var copy = function copy(copiedValue) {
    var len = refFrom.length;
    var idx = 0;

    while (idx < len) {
      if (value === refFrom[idx]) {
        return refTo[idx];
      }

      idx += 1;
    }

    refFrom[idx + 1] = value;
    refTo[idx + 1] = copiedValue;

    for (var key in value) {
      copiedValue[key] = deep ? _clone(value[key], refFrom, refTo, true) : value[key];
    }

    return copiedValue;
  };

  switch (type(value)) {
    case 'Object':
      return copy({});

    case 'Array':
      return copy([]);

    case 'Date':
      return new Date(value.valueOf());

    case 'RegExp':
      return _cloneRegExp(value);

    default:
      return value;
  }
}

module.exports = _clone;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9jbG9uZS5qcyJdLCJuYW1lcyI6WyJfY2xvbmVSZWdFeHAiLCJyZXF1aXJlIiwidHlwZSIsIl9jbG9uZSIsInZhbHVlIiwicmVmRnJvbSIsInJlZlRvIiwiZGVlcCIsImNvcHkiLCJjb3BpZWRWYWx1ZSIsImxlbiIsImxlbmd0aCIsImlkeCIsImtleSIsIkRhdGUiLCJ2YWx1ZU9mIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSUEsWUFBWSxHQUFnQkMsT0FBTyxrQkFBdkM7O0FBRUEsSUFBSUMsSUFBSSxHQUFnQkQsT0FBTyxXQUEvQjs7QUFjQSxTQUFTRSxNQUFULENBQWdCQyxLQUFoQixFQUF1QkMsT0FBdkIsRUFBZ0NDLEtBQWhDLEVBQXVDQyxJQUF2QyxFQUE2QztBQUMzQyxNQUFJQyxJQUFJLEdBQUcsU0FBU0EsSUFBVCxDQUFjQyxXQUFkLEVBQTJCO0FBQ3BDLFFBQUlDLEdBQUcsR0FBR0wsT0FBTyxDQUFDTSxNQUFsQjtBQUNBLFFBQUlDLEdBQUcsR0FBRyxDQUFWOztBQUNBLFdBQU9BLEdBQUcsR0FBR0YsR0FBYixFQUFrQjtBQUNoQixVQUFJTixLQUFLLEtBQUtDLE9BQU8sQ0FBQ08sR0FBRCxDQUFyQixFQUE0QjtBQUMxQixlQUFPTixLQUFLLENBQUNNLEdBQUQsQ0FBWjtBQUNEOztBQUNEQSxNQUFBQSxHQUFHLElBQUksQ0FBUDtBQUNEOztBQUNEUCxJQUFBQSxPQUFPLENBQUNPLEdBQUcsR0FBRyxDQUFQLENBQVAsR0FBbUJSLEtBQW5CO0FBQ0FFLElBQUFBLEtBQUssQ0FBQ00sR0FBRyxHQUFHLENBQVAsQ0FBTCxHQUFpQkgsV0FBakI7O0FBQ0EsU0FBSyxJQUFJSSxHQUFULElBQWdCVCxLQUFoQixFQUF1QjtBQUNyQkssTUFBQUEsV0FBVyxDQUFDSSxHQUFELENBQVgsR0FBbUJOLElBQUksR0FBR0osTUFBTSxDQUFDQyxLQUFLLENBQUNTLEdBQUQsQ0FBTixFQUFhUixPQUFiLEVBQXNCQyxLQUF0QixFQUE2QixJQUE3QixDQUFULEdBQThDRixLQUFLLENBQUNTLEdBQUQsQ0FBMUU7QUFDRDs7QUFDRCxXQUFPSixXQUFQO0FBQ0QsR0FmRDs7QUFnQkEsVUFBUVAsSUFBSSxDQUFDRSxLQUFELENBQVo7QUFDRSxTQUFLLFFBQUw7QUFDRSxhQUFPSSxJQUFJLENBQUMsRUFBRCxDQUFYOztBQUNGLFNBQUssT0FBTDtBQUNFLGFBQU9BLElBQUksQ0FBQyxFQUFELENBQVg7O0FBQ0YsU0FBSyxNQUFMO0FBQ0UsYUFBTyxJQUFJTSxJQUFKLENBQVNWLEtBQUssQ0FBQ1csT0FBTixFQUFULENBQVA7O0FBQ0YsU0FBSyxRQUFMO0FBQ0UsYUFBT2YsWUFBWSxDQUFDSSxLQUFELENBQW5COztBQUNGO0FBQ0UsYUFBT0EsS0FBUDtBQVZKO0FBWUQ7O0FBQ0RZLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmQsTUFBakIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX2Nsb25lUmVnRXhwID0gLyojX19QVVJFX18qL3JlcXVpcmUoJy4vX2Nsb25lUmVnRXhwJyk7XG5cbnZhciB0eXBlID0gLyojX19QVVJFX18qL3JlcXVpcmUoJy4uL3R5cGUnKTtcblxuLyoqXG4gKiBDb3BpZXMgYW4gb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBiZSBjb3BpZWRcbiAqIEBwYXJhbSB7QXJyYXl9IHJlZkZyb20gQXJyYXkgY29udGFpbmluZyB0aGUgc291cmNlIHJlZmVyZW5jZXNcbiAqIEBwYXJhbSB7QXJyYXl9IHJlZlRvIEFycmF5IGNvbnRhaW5pbmcgdGhlIGNvcGllZCBzb3VyY2UgcmVmZXJlbmNlc1xuICogQHBhcmFtIHtCb29sZWFufSBkZWVwIFdoZXRoZXIgb3Igbm90IHRvIHBlcmZvcm0gZGVlcCBjbG9uaW5nLlxuICogQHJldHVybiB7Kn0gVGhlIGNvcGllZCB2YWx1ZS5cbiAqL1xuXG5cbmZ1bmN0aW9uIF9jbG9uZSh2YWx1ZSwgcmVmRnJvbSwgcmVmVG8sIGRlZXApIHtcbiAgdmFyIGNvcHkgPSBmdW5jdGlvbiBjb3B5KGNvcGllZFZhbHVlKSB7XG4gICAgdmFyIGxlbiA9IHJlZkZyb20ubGVuZ3RoO1xuICAgIHZhciBpZHggPSAwO1xuICAgIHdoaWxlIChpZHggPCBsZW4pIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gcmVmRnJvbVtpZHhdKSB7XG4gICAgICAgIHJldHVybiByZWZUb1tpZHhdO1xuICAgICAgfVxuICAgICAgaWR4ICs9IDE7XG4gICAgfVxuICAgIHJlZkZyb21baWR4ICsgMV0gPSB2YWx1ZTtcbiAgICByZWZUb1tpZHggKyAxXSA9IGNvcGllZFZhbHVlO1xuICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgICAgY29waWVkVmFsdWVba2V5XSA9IGRlZXAgPyBfY2xvbmUodmFsdWVba2V5XSwgcmVmRnJvbSwgcmVmVG8sIHRydWUpIDogdmFsdWVba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIGNvcGllZFZhbHVlO1xuICB9O1xuICBzd2l0Y2ggKHR5cGUodmFsdWUpKSB7XG4gICAgY2FzZSAnT2JqZWN0JzpcbiAgICAgIHJldHVybiBjb3B5KHt9KTtcbiAgICBjYXNlICdBcnJheSc6XG4gICAgICByZXR1cm4gY29weShbXSk7XG4gICAgY2FzZSAnRGF0ZSc6XG4gICAgICByZXR1cm4gbmV3IERhdGUodmFsdWUudmFsdWVPZigpKTtcbiAgICBjYXNlICdSZWdFeHAnOlxuICAgICAgcmV0dXJuIF9jbG9uZVJlZ0V4cCh2YWx1ZSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBfY2xvbmU7Il19