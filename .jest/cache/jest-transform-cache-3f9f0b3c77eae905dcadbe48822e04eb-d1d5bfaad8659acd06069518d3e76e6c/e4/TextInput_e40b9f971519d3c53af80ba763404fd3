c72689ac0700166f5377491718f028cc
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var DeprecatedTextInputPropTypes = require("../../DeprecatedPropTypes/DeprecatedTextInputPropTypes");

var Platform = require("../../Utilities/Platform");

var React = require('react');

var StyleSheet = require("../../StyleSheet/StyleSheet");

var Text = require("../../Text/Text");

var TextAncestor = require("../../Text/TextAncestor");

var TextInputState = require("./TextInputState");

var TouchableWithoutFeedback = require("../Touchable/TouchableWithoutFeedback");

var invariant = require('invariant');

var nullthrows = require('nullthrows');

var setAndForwardRef = require("../../Utilities/setAndForwardRef");

var useLayoutEffect = React.useLayoutEffect,
    useRef = React.useRef,
    useState = React.useState;
var AndroidTextInput;
var AndroidTextInputCommands;
var RCTSinglelineTextInputView;
var RCTSinglelineTextInputNativeCommands;
var RCTMultilineTextInputView;
var RCTMultilineTextInputNativeCommands;

if (Platform.OS === 'android') {
  AndroidTextInput = require("./AndroidTextInputNativeComponent").default;
  AndroidTextInputCommands = require("./AndroidTextInputNativeComponent").Commands;
} else if (Platform.OS === 'ios') {
  RCTSinglelineTextInputView = require("./RCTSingelineTextInputNativeComponent").default;
  RCTSinglelineTextInputNativeCommands = require("./RCTSingelineTextInputNativeComponent").Commands;
  RCTMultilineTextInputView = require("./RCTMultilineTextInputNativeComponent").default;
  RCTMultilineTextInputNativeCommands = require("./RCTMultilineTextInputNativeComponent").Commands;
}

var emptyFunctionThatReturnsTrue = function emptyFunctionThatReturnsTrue() {
  return true;
};

function InternalTextInput(props) {
  var _props$selection$end, _props$blurOnSubmit;

  var inputRef = useRef(null);
  var selection = props.selection == null ? null : {
    start: props.selection.start,
    end: (_props$selection$end = props.selection.end) != null ? _props$selection$end : props.selection.start
  };

  var _useState = useState(0),
      _useState2 = (0, _slicedToArray2.default)(_useState, 2),
      mostRecentEventCount = _useState2[0],
      setMostRecentEventCount = _useState2[1];

  var _useState3 = useState(props.value),
      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),
      lastNativeText = _useState4[0],
      setLastNativeText = _useState4[1];

  var _useState5 = useState({
    selection: selection,
    mostRecentEventCount: mostRecentEventCount
  }),
      _useState6 = (0, _slicedToArray2.default)(_useState5, 2),
      lastNativeSelectionState = _useState6[0],
      setLastNativeSelection = _useState6[1];

  var lastNativeSelection = lastNativeSelectionState.selection;
  var lastNativeSelectionEventCount = lastNativeSelectionState.mostRecentEventCount;

  if (lastNativeSelectionEventCount < mostRecentEventCount) {
    selection = null;
  }

  var viewCommands;

  if (AndroidTextInputCommands) {
    viewCommands = AndroidTextInputCommands;
  } else {
    viewCommands = props.multiline ? RCTMultilineTextInputNativeCommands : RCTSinglelineTextInputNativeCommands;
  }

  var text = typeof props.value === 'string' ? props.value : typeof props.defaultValue === 'string' ? props.defaultValue : '';
  useLayoutEffect(function () {
    var nativeUpdate = {};

    if (lastNativeText !== props.value && typeof props.value === 'string') {
      nativeUpdate.text = props.value;
      setLastNativeText(props.value);
    }

    if (selection && lastNativeSelection && (lastNativeSelection.start !== selection.start || lastNativeSelection.end !== selection.end)) {
      nativeUpdate.selection = selection;
      setLastNativeSelection({
        selection: selection,
        mostRecentEventCount: mostRecentEventCount
      });
    }

    if (Object.keys(nativeUpdate).length === 0) {
      return;
    }

    if (inputRef.current != null) {
      var _selection$start, _selection, _selection$end, _selection2;

      viewCommands.setTextAndSelection(inputRef.current, mostRecentEventCount, text, (_selection$start = (_selection = selection) == null ? void 0 : _selection.start) != null ? _selection$start : -1, (_selection$end = (_selection2 = selection) == null ? void 0 : _selection2.end) != null ? _selection$end : -1);
    }
  }, [mostRecentEventCount, inputRef, props.value, props.defaultValue, lastNativeText, selection, lastNativeSelection, text, viewCommands]);
  useLayoutEffect(function () {
    var inputRefValue = inputRef.current;

    if (inputRefValue != null) {
      TextInputState.registerInput(inputRefValue);
      return function () {
        TextInputState.unregisterInput(inputRefValue);

        if (TextInputState.currentlyFocusedInput() === inputRefValue) {
          nullthrows(inputRefValue).blur();
        }
      };
    }
  }, [inputRef]);

  function clear() {
    if (inputRef.current != null) {
      viewCommands.setTextAndSelection(inputRef.current, mostRecentEventCount, '', 0, 0);
    }
  }

  function isFocused() {
    return TextInputState.currentlyFocusedInput() === inputRef.current;
  }

  function getNativeRef() {
    return inputRef.current;
  }

  var _setNativeRef = setAndForwardRef({
    getForwardedRef: function getForwardedRef() {
      return props.forwardedRef;
    },
    setLocalRef: function setLocalRef(ref) {
      inputRef.current = ref;

      if (ref) {
        ref.clear = clear;
        ref.isFocused = isFocused;
        ref.getNativeRef = getNativeRef;
      }
    }
  });

  var _onPress = function _onPress(event) {
    if (props.editable || props.editable === undefined) {
      nullthrows(inputRef.current).focus();
    }
  };

  var _onChange = function _onChange(event) {
    var text = event.nativeEvent.text;
    props.onChange && props.onChange(event);
    props.onChangeText && props.onChangeText(text);

    if (inputRef.current == null) {
      return;
    }

    setLastNativeText(text);
    setMostRecentEventCount(event.nativeEvent.eventCount);
  };

  var _onSelectionChange = function _onSelectionChange(event) {
    props.onSelectionChange && props.onSelectionChange(event);

    if (inputRef.current == null) {
      return;
    }

    setLastNativeSelection({
      selection: event.nativeEvent.selection,
      mostRecentEventCount: mostRecentEventCount
    });
  };

  var _onFocus = function _onFocus(event) {
    TextInputState.focusInput(inputRef.current);

    if (props.onFocus) {
      props.onFocus(event);
    }
  };

  var _onBlur = function _onBlur(event) {
    TextInputState.blurInput(inputRef.current);

    if (props.onBlur) {
      props.onBlur(event);
    }
  };

  var _onScroll = function _onScroll(event) {
    props.onScroll && props.onScroll(event);
  };

  var textInput = null;
  var additionalTouchableProps = (0, _extends2.default)({}, null);
  var blurOnSubmit = (_props$blurOnSubmit = props.blurOnSubmit) != null ? _props$blurOnSubmit : !props.multiline;

  if (Platform.OS === 'ios') {
    var RCTTextInputView = props.multiline ? RCTMultilineTextInputView : RCTSinglelineTextInputView;
    var style = props.multiline ? [styles.multilineInput, props.style] : props.style;
    additionalTouchableProps.rejectResponderTermination = props.rejectResponderTermination;
    textInput = React.createElement(RCTTextInputView, (0, _extends2.default)({
      ref: _setNativeRef
    }, props, {
      blurOnSubmit: blurOnSubmit,
      dataDetectorTypes: props.dataDetectorTypes,
      mostRecentEventCount: mostRecentEventCount,
      onBlur: _onBlur,
      onChange: _onChange,
      onContentSizeChange: props.onContentSizeChange,
      onFocus: _onFocus,
      onScroll: _onScroll,
      onSelectionChange: _onSelectionChange,
      onSelectionChangeShouldSetResponder: emptyFunctionThatReturnsTrue,
      selection: selection,
      style: style,
      text: text
    }));
  } else if (Platform.OS === 'android') {
    var _style = [props.style];
    var autoCapitalize = props.autoCapitalize || 'sentences';
    var children = props.children;
    var childCount = React.Children.count(children);
    invariant(!(props.value && childCount), 'Cannot specify both value and children.');

    if (childCount > 1) {
      children = React.createElement(Text, null, children);
    }

    textInput = React.createElement(AndroidTextInput, (0, _extends2.default)({
      ref: _setNativeRef
    }, props, {
      autoCapitalize: autoCapitalize,
      blurOnSubmit: blurOnSubmit,
      children: children,
      disableFullscreenUI: props.disableFullscreenUI,
      mostRecentEventCount: mostRecentEventCount,
      onBlur: _onBlur,
      onChange: _onChange,
      onFocus: _onFocus,
      onScroll: _onScroll,
      onSelectionChange: _onSelectionChange,
      selection: selection,
      style: _style,
      text: text,
      textBreakStrategy: props.textBreakStrategy
    }));
  }

  return React.createElement(TextAncestor.Provider, {
    value: true
  }, React.createElement(TouchableWithoutFeedback, (0, _extends2.default)({
    onLayout: props.onLayout,
    onPress: _onPress,
    onPressIn: props.onPressIn,
    onPressOut: props.onPressOut,
    accessible: props.accessible,
    accessibilityLabel: props.accessibilityLabel,
    accessibilityRole: props.accessibilityRole,
    accessibilityState: props.accessibilityState,
    nativeID: props.nativeID,
    testID: props.testID
  }, additionalTouchableProps), textInput));
}

var ExportedForwardRef = React.forwardRef(function TextInput(props, forwardedRef) {
  return React.createElement(InternalTextInput, (0, _extends2.default)({}, props, {
    forwardedRef: forwardedRef
  }));
});
ExportedForwardRef.defaultProps = {
  allowFontScaling: true,
  rejectResponderTermination: true,
  underlineColorAndroid: 'transparent'
};
ExportedForwardRef.propTypes = DeprecatedTextInputPropTypes;
ExportedForwardRef.State = {
  currentlyFocusedInput: TextInputState.currentlyFocusedInput,
  currentlyFocusedField: TextInputState.currentlyFocusedField,
  focusTextInput: TextInputState.focusTextInput,
  blurTextInput: TextInputState.blurTextInput
};
var styles = StyleSheet.create({
  multilineInput: {
    paddingTop: 5
  }
});
module.exports = ExportedForwardRef;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRleHRJbnB1dC5qcyJdLCJuYW1lcyI6WyJEZXByZWNhdGVkVGV4dElucHV0UHJvcFR5cGVzIiwicmVxdWlyZSIsIlBsYXRmb3JtIiwiUmVhY3QiLCJTdHlsZVNoZWV0IiwiVGV4dCIsIlRleHRBbmNlc3RvciIsIlRleHRJbnB1dFN0YXRlIiwiVG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrIiwiaW52YXJpYW50IiwibnVsbHRocm93cyIsInNldEFuZEZvcndhcmRSZWYiLCJ1c2VMYXlvdXRFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsIkFuZHJvaWRUZXh0SW5wdXQiLCJBbmRyb2lkVGV4dElucHV0Q29tbWFuZHMiLCJSQ1RTaW5nbGVsaW5lVGV4dElucHV0VmlldyIsIlJDVFNpbmdsZWxpbmVUZXh0SW5wdXROYXRpdmVDb21tYW5kcyIsIlJDVE11bHRpbGluZVRleHRJbnB1dFZpZXciLCJSQ1RNdWx0aWxpbmVUZXh0SW5wdXROYXRpdmVDb21tYW5kcyIsIk9TIiwiZGVmYXVsdCIsIkNvbW1hbmRzIiwiZW1wdHlGdW5jdGlvblRoYXRSZXR1cm5zVHJ1ZSIsIkludGVybmFsVGV4dElucHV0IiwicHJvcHMiLCJpbnB1dFJlZiIsInNlbGVjdGlvbiIsInN0YXJ0IiwiZW5kIiwibW9zdFJlY2VudEV2ZW50Q291bnQiLCJzZXRNb3N0UmVjZW50RXZlbnRDb3VudCIsInZhbHVlIiwibGFzdE5hdGl2ZVRleHQiLCJzZXRMYXN0TmF0aXZlVGV4dCIsImxhc3ROYXRpdmVTZWxlY3Rpb25TdGF0ZSIsInNldExhc3ROYXRpdmVTZWxlY3Rpb24iLCJsYXN0TmF0aXZlU2VsZWN0aW9uIiwibGFzdE5hdGl2ZVNlbGVjdGlvbkV2ZW50Q291bnQiLCJ2aWV3Q29tbWFuZHMiLCJtdWx0aWxpbmUiLCJ0ZXh0IiwiZGVmYXVsdFZhbHVlIiwibmF0aXZlVXBkYXRlIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsImN1cnJlbnQiLCJzZXRUZXh0QW5kU2VsZWN0aW9uIiwiaW5wdXRSZWZWYWx1ZSIsInJlZ2lzdGVySW5wdXQiLCJ1bnJlZ2lzdGVySW5wdXQiLCJjdXJyZW50bHlGb2N1c2VkSW5wdXQiLCJibHVyIiwiY2xlYXIiLCJpc0ZvY3VzZWQiLCJnZXROYXRpdmVSZWYiLCJfc2V0TmF0aXZlUmVmIiwiZ2V0Rm9yd2FyZGVkUmVmIiwiZm9yd2FyZGVkUmVmIiwic2V0TG9jYWxSZWYiLCJyZWYiLCJfb25QcmVzcyIsImV2ZW50IiwiZWRpdGFibGUiLCJ1bmRlZmluZWQiLCJmb2N1cyIsIl9vbkNoYW5nZSIsIm5hdGl2ZUV2ZW50Iiwib25DaGFuZ2UiLCJvbkNoYW5nZVRleHQiLCJldmVudENvdW50IiwiX29uU2VsZWN0aW9uQ2hhbmdlIiwib25TZWxlY3Rpb25DaGFuZ2UiLCJfb25Gb2N1cyIsImZvY3VzSW5wdXQiLCJvbkZvY3VzIiwiX29uQmx1ciIsImJsdXJJbnB1dCIsIm9uQmx1ciIsIl9vblNjcm9sbCIsIm9uU2Nyb2xsIiwidGV4dElucHV0IiwiYWRkaXRpb25hbFRvdWNoYWJsZVByb3BzIiwiYmx1ck9uU3VibWl0IiwiUkNUVGV4dElucHV0VmlldyIsInN0eWxlIiwic3R5bGVzIiwibXVsdGlsaW5lSW5wdXQiLCJyZWplY3RSZXNwb25kZXJUZXJtaW5hdGlvbiIsImRhdGFEZXRlY3RvclR5cGVzIiwib25Db250ZW50U2l6ZUNoYW5nZSIsImF1dG9DYXBpdGFsaXplIiwiY2hpbGRyZW4iLCJjaGlsZENvdW50IiwiQ2hpbGRyZW4iLCJjb3VudCIsImRpc2FibGVGdWxsc2NyZWVuVUkiLCJ0ZXh0QnJlYWtTdHJhdGVneSIsIm9uTGF5b3V0Iiwib25QcmVzc0luIiwib25QcmVzc091dCIsImFjY2Vzc2libGUiLCJhY2Nlc3NpYmlsaXR5TGFiZWwiLCJhY2Nlc3NpYmlsaXR5Um9sZSIsImFjY2Vzc2liaWxpdHlTdGF0ZSIsIm5hdGl2ZUlEIiwidGVzdElEIiwiRXhwb3J0ZWRGb3J3YXJkUmVmIiwiZm9yd2FyZFJlZiIsIlRleHRJbnB1dCIsImRlZmF1bHRQcm9wcyIsImFsbG93Rm9udFNjYWxpbmciLCJ1bmRlcmxpbmVDb2xvckFuZHJvaWQiLCJwcm9wVHlwZXMiLCJTdGF0ZSIsImN1cnJlbnRseUZvY3VzZWRGaWVsZCIsImZvY3VzVGV4dElucHV0IiwiYmx1clRleHRJbnB1dCIsImNyZWF0ZSIsInBhZGRpbmdUb3AiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFVQTs7Ozs7Ozs7QUFFQSxJQUFNQSw0QkFBNEIsR0FBR0MsT0FBTywwREFBNUM7O0FBQ0EsSUFBTUMsUUFBUSxHQUFHRCxPQUFPLDRCQUF4Qjs7QUFDQSxJQUFNRSxLQUFLLEdBQUdGLE9BQU8sQ0FBQyxPQUFELENBQXJCOztBQUNBLElBQU1HLFVBQVUsR0FBR0gsT0FBTywrQkFBMUI7O0FBQ0EsSUFBTUksSUFBSSxHQUFHSixPQUFPLG1CQUFwQjs7QUFDQSxJQUFNSyxZQUFZLEdBQUdMLE9BQU8sMkJBQTVCOztBQUNBLElBQU1NLGNBQWMsR0FBR04sT0FBTyxvQkFBOUI7O0FBQ0EsSUFBTU8sd0JBQXdCLEdBQUdQLE9BQU8seUNBQXhDOztBQUVBLElBQU1RLFNBQVMsR0FBR1IsT0FBTyxDQUFDLFdBQUQsQ0FBekI7O0FBQ0EsSUFBTVMsVUFBVSxHQUFHVCxPQUFPLENBQUMsWUFBRCxDQUExQjs7QUFDQSxJQUFNVSxnQkFBZ0IsR0FBR1YsT0FBTyxvQ0FBaEM7O0FBVUEsSUFBT1csZUFBUCxHQUE0Q1QsS0FBNUMsQ0FBT1MsZUFBUDtBQUFBLElBQXdCQyxNQUF4QixHQUE0Q1YsS0FBNUMsQ0FBd0JVLE1BQXhCO0FBQUEsSUFBZ0NDLFFBQWhDLEdBQTRDWCxLQUE1QyxDQUFnQ1csUUFBaEM7QUFJQSxJQUFJQyxnQkFBSjtBQUNBLElBQUlDLHdCQUFKO0FBQ0EsSUFBSUMsMEJBQUo7QUFDQSxJQUFJQyxvQ0FBSjtBQUNBLElBQUlDLHlCQUFKO0FBQ0EsSUFBSUMsbUNBQUo7O0FBRUEsSUFBSWxCLFFBQVEsQ0FBQ21CLEVBQVQsS0FBZ0IsU0FBcEIsRUFBK0I7QUFDN0JOLEVBQUFBLGdCQUFnQixHQUFH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dCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmbG93XG4gKiBAZm9ybWF0XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBEZXByZWNhdGVkVGV4dElucHV0UHJvcFR5cGVzID0gcmVxdWlyZSgnLi4vLi4vRGVwcmVjYXRlZFByb3BUeXBlcy9EZXByZWNhdGVkVGV4dElucHV0UHJvcFR5cGVzJyk7XG5jb25zdCBQbGF0Zm9ybSA9IHJlcXVpcmUoJy4uLy4uL1V0aWxpdGllcy9QbGF0Zm9ybScpO1xuY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuY29uc3QgU3R5bGVTaGVldCA9IHJlcXVpcmUoJy4uLy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldCcpO1xuY29uc3QgVGV4dCA9IHJlcXVpcmUoJy4uLy4uL1RleHQvVGV4dCcpO1xuY29uc3QgVGV4dEFuY2VzdG9yID0gcmVxdWlyZSgnLi4vLi4vVGV4dC9UZXh0QW5jZXN0b3InKTtcbmNvbnN0IFRleHRJbnB1dFN0YXRlID0gcmVxdWlyZSgnLi9UZXh0SW5wdXRTdGF0ZScpO1xuY29uc3QgVG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrID0gcmVxdWlyZSgnLi4vVG91Y2hhYmxlL1RvdWNoYWJsZVdpdGhvdXRGZWVkYmFjaycpO1xuXG5jb25zdCBpbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcbmNvbnN0IG51bGx0aHJvd3MgPSByZXF1aXJlKCdudWxsdGhyb3dzJyk7XG5jb25zdCBzZXRBbmRGb3J3YXJkUmVmID0gcmVxdWlyZSgnLi4vLi4vVXRpbGl0aWVzL3NldEFuZEZvcndhcmRSZWYnKTtcblxuaW1wb3J0IHR5cGUge1RleHRTdHlsZVByb3AsIFZpZXdTdHlsZVByb3B9IGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldCc7XG5pbXBvcnQgdHlwZSB7Q29sb3JWYWx1ZX0gZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9TdHlsZVNoZWV0JztcbmltcG9ydCB0eXBlIHtWaWV3UHJvcHN9IGZyb20gJy4uL1ZpZXcvVmlld1Byb3BUeXBlcyc7XG5pbXBvcnQgdHlwZSB7U3ludGhldGljRXZlbnQsIFNjcm9sbEV2ZW50fSBmcm9tICcuLi8uLi9UeXBlcy9Db3JlRXZlbnRUeXBlcyc7XG5pbXBvcnQgdHlwZSB7UHJlc3NFdmVudH0gZnJvbSAnLi4vLi4vVHlwZXMvQ29yZUV2ZW50VHlwZXMnO1xuaW1wb3J0IHR5cGUge0hvc3RDb21wb25lbnR9IGZyb20gJy4uLy4uL1JlbmRlcmVyL3NoaW1zL1JlYWN0TmF0aXZlVHlwZXMnO1xuaW1wb3J0IHR5cGUge1RleHRJbnB1dE5hdGl2ZUNvbW1hbmRzfSBmcm9tICcuL1RleHRJbnB1dE5hdGl2ZUNvbW1hbmRzJztcblxuY29uc3Qge3VzZUxheW91dEVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZX0gPSBSZWFjdDtcblxudHlwZSBSZWFjdFJlZlNldHRlcjxUPiA9IHtjdXJyZW50OiBudWxsIHwgVCwgLi4ufSB8ICgocmVmOiBudWxsIHwgVCkgPT4gbWl4ZWQpO1xuXG5sZXQgQW5kcm9pZFRleHRJbnB1dDtcbmxldCBBbmRyb2lkVGV4dElucHV0Q29tbWFuZHM7XG5sZXQgUkNUU2luZ2xlbGluZVRleHRJbnB1dFZpZXc7XG5sZXQgUkNUU2luZ2xlbGluZVRleHRJbnB1dE5hdGl2ZUNvbW1hbmRzO1xubGV0IFJDVE11bHRpbGluZVRleHRJbnB1dFZpZXc7XG5sZXQgUkNUTXVsdGlsaW5lVGV4dElucHV0TmF0aXZlQ29tbWFuZHM7XG5cbmlmIChQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnKSB7XG4gIEFuZHJvaWRUZXh0SW5wdXQgPSByZXF1aXJlKCcuL0FuZHJvaWRUZXh0SW5wdXROYXRpdmVDb21wb25lbnQnKS5kZWZhdWx0O1xuICBBbmRyb2lkVGV4dElucHV0Q29tbWFuZHMgPSByZXF1aXJlKCcuL0FuZHJvaWRUZXh0SW5wdXROYXRpdmVDb21wb25lbnQnKVxuICAgIC5Db21tYW5kcztcbn0gZWxzZSBpZiAoUGxhdGZvcm0uT1MgPT09ICdpb3MnKSB7XG4gIFJDVFNpbmdsZWxpbmVUZXh0SW5wdXRWaWV3ID0gcmVxdWlyZSgnLi9SQ1RTaW5nZWxpbmVUZXh0SW5wdXROYXRpdmVDb21wb25lbnQnKVxuICAgIC5kZWZhdWx0O1xuICBSQ1RTaW5nbGVsaW5lVGV4dElucHV0TmF0aXZlQ29tbWFuZHMgPSByZXF1aXJlKCcuL1JDVFNpbmdlbGluZVRleHRJbnB1dE5hdGl2ZUNvbXBvbmVudCcpXG4gICAgLkNvbW1hbmRzO1xuICBSQ1RNdWx0aWxpbmVUZXh0SW5wdXRWaWV3ID0gcmVxdWlyZSgnLi9SQ1RNdWx0aWxpbmVUZXh0SW5wdXROYXRpdmVDb21wb25lbnQnKVxuICAgIC5kZWZhdWx0O1xuICBSQ1RNdWx0aWxpbmVUZXh0SW5wdXROYXRpdmVDb21tYW5kcyA9IHJlcXVpcmUoJy4vUkNUTXVsdGlsaW5lVGV4dElucHV0TmF0aXZlQ29tcG9uZW50JylcbiAgICAuQ29tbWFuZHM7XG59XG5cbmV4cG9ydCB0eXBlIENoYW5nZUV2ZW50ID0gU3ludGhldGljRXZlbnQ8XG4gICRSZWFkT25seTx7fFxuICAgIGV2ZW50Q291bnQ6IG51bWJlcixcbiAgICB0YXJnZXQ6IG51bWJlcixcbiAgICB0ZXh0OiBzdHJpbmcsXG4gIHx9Pixcbj47XG5cbmV4cG9ydCB0eXBlIFRleHRJbnB1dEV2ZW50ID0gU3ludGhldGljRXZlbnQ8XG4gICRSZWFkT25seTx7fFxuICAgIGV2ZW50Q291bnQ6IG51bWJlcixcbiAgICBwcmV2aW91c1RleHQ6IHN0cmluZyxcbiAgICByYW5nZTogJFJlYWRPbmx5PHt8XG4gICAgICBzdGFydDogbnVtYmVyLFxuICAgICAgZW5kOiBudW1iZXIsXG4gICAgfH0+LFxuICAgIHRhcmdldDogbnVtYmVyLFxuICAgIHRleHQ6IHN0cmluZyxcbiAgfH0+LFxuPjtcblxuZXhwb3J0IHR5cGUgQ29udGVudFNpemVDaGFuZ2VFdmVudCA9IFN5bnRoZXRpY0V2ZW50PFxuICAkUmVhZE9ubHk8e3xcbiAgICB0YXJnZXQ6IG51bWJlcixcbiAgICBjb250ZW50U2l6ZTogJFJlYWRPbmx5PHt8XG4gICAgICB3aWR0aDogbnVtYmVyLFxuICAgICAgaGVpZ2h0OiBudW1iZXIsXG4gICAgfH0+LFxuICB8fT4sXG4+O1xuXG50eXBlIFRhcmdldEV2ZW50ID0gU3ludGhldGljRXZlbnQ8XG4gICRSZWFkT25seTx7fFxuICAgIHRhcmdldDogbnVtYmVyLFxuICB8fT4sXG4+O1xuXG5leHBvcnQgdHlwZSBCbHVyRXZlbnQgPSBUYXJnZXRFdmVudDtcbmV4cG9ydCB0eXBlIEZvY3VzRXZlbnQgPSBUYXJnZXRFdmVudDtcblxudHlwZSBTZWxlY3Rpb24gPSAkUmVhZE9ubHk8e3xcbiAgc3RhcnQ6IG51bWJlcixcbiAgZW5kOiBudW1iZXIsXG58fT47XG5cbmV4cG9ydCB0eXBlIFNlbGVjdGlvbkNoYW5nZUV2ZW50ID0gU3ludGhldGljRXZlbnQ8XG4gICRSZWFkT25seTx7fFxuICAgIHNlbGVjdGlvbjogU2VsZWN0aW9uLFxuICAgIHRhcmdldDogbnVtYmVyLFxuICB8fT4sXG4+O1xuXG5leHBvcnQgdHlwZSBLZXlQcmVzc0V2ZW50ID0gU3ludGhldGljRXZlbnQ8XG4gICRSZWFkT25seTx7fFxuICAgIGtleTogc3RyaW5nLFxuICAgIHRhcmdldD86ID9udW1iZXIsXG4gICAgZXZlbnRDb3VudD86ID9udW1iZXIsXG4gIHx9Pixcbj47XG5cbmV4cG9ydCB0eXBlIEVkaXRpbmdFdmVudCA9IFN5bnRoZXRpY0V2ZW50PFxuICAkUmVhZE9ubHk8e3xcbiAgICBldmVudENvdW50OiBudW1iZXIsXG4gICAgdGV4dDogc3RyaW5nLFxuICAgIHRhcmdldDogbnVtYmVyLFxuICB8fT4sXG4+O1xuXG50eXBlIERhdGFEZXRlY3RvclR5cGVzVHlwZSA9XG4gIHwgJ3Bob25lTnVtYmVyJ1xuICB8ICdsaW5rJ1xuICB8ICdhZGRyZXNzJ1xuICB8ICdjYWxlbmRhckV2ZW50J1xuICB8ICdub25lJ1xuICB8ICdhbGwnO1xuXG5leHBvcnQgdHlwZSBLZXlib2FyZFR5cGUgPVxuICAvLyBDcm9zcyBQbGF0Zm9ybVxuICB8ICdkZWZhdWx0J1xuICB8ICdlbWFpbC1hZGRyZXNzJ1xuICB8ICdudW1lcmljJ1xuICB8ICdwaG9uZS1wYWQnXG4gIHwgJ251bWJlci1wYWQnXG4gIHwgJ2RlY2ltYWwtcGFkJ1xuICAvLyBpT1Mtb25seVxuICB8ICdhc2NpaS1jYXBhYmxlJ1xuICB8ICdudW1iZXJzLWFuZC1wdW5jdHVhdGlvbidcbiAgfCAndXJsJ1xuICB8ICduYW1lLXBob25lLXBhZCdcbiAgfCAndHdpdHRlcidcbiAgfCAnd2ViLXNlYXJjaCdcbiAgLy8gaU9TIDEwKyBvbmx5XG4gIHwgJ2FzY2lpLWNhcGFibGUtbnVtYmVyLXBhZCdcbiAgLy8gQW5kcm9pZC1vbmx5XG4gIHwgJ3Zpc2libGUtcGFzc3dvcmQnO1xuXG5leHBvcnQgdHlwZSBSZXR1cm5LZXlUeXBlID1cbiAgLy8gQ3Jvc3MgUGxhdGZvcm1cbiAgfCAnZG9uZSdcbiAgfCAnZ28nXG4gIHwgJ25leHQnXG4gIHwgJ3NlYXJjaCdcbiAgfCAnc2VuZCdcbiAgLy8gQW5kcm9pZC1vbmx5XG4gIHwgJ25vbmUnXG4gIHwgJ3ByZXZpb3VzJ1xuICAvLyBpT1Mtb25seVxuICB8ICdkZWZhdWx0J1xuICB8ICdlbWVyZ2VuY3ktY2FsbCdcbiAgfCAnZ29vZ2xlJ1xuICB8ICdqb2luJ1xuICB8ICdyb3V0ZSdcbiAgfCAneWFob28nO1xuXG5leHBvcnQgdHlwZSBBdXRvQ2FwaXRhbGl6ZSA9ICdub25lJyB8ICdzZW50ZW5jZXMnIHwgJ3dvcmRzJyB8ICdjaGFyYWN0ZXJzJztcblxuZXhwb3J0IHR5cGUgVGV4dENvbnRlbnRUeXBlID1cbiAgfCAnbm9uZSdcbiAgfCAnVVJMJ1xuICB8ICdhZGRyZXNzQ2l0eSdcbiAgfCAnYWRkcmVzc0NpdHlBbmRTdGF0ZSdcbiAgfCAnYWRkcmVzc1N0YXRlJ1xuICB8ICdjb3VudHJ5TmFtZSdcbiAgfCAnY3JlZGl0Q2FyZE51bWJlcidcbiAgfCAnZW1haWxBZGRyZXNzJ1xuICB8ICdmYW1pbHlOYW1lJ1xuICB8ICdmdWxsU3RyZWV0QWRkcmVzcydcbiAgfCAnZ2l2ZW5OYW1lJ1xuICB8ICdqb2JUaXRsZSdcbiAgfCAnbG9jYXRpb24nXG4gIHwgJ21pZGRsZU5hbWUnXG4gIHwgJ25hbWUnXG4gIHwgJ25hbWVQcmVmaXgnXG4gIHwgJ25hbWVTdWZmaXgnXG4gIHwgJ25pY2tuYW1lJ1xuICB8ICdvcmdhbml6YXRpb25OYW1lJ1xuICB8ICdwb3N0YWxDb2RlJ1xuICB8ICdzdHJlZXRBZGRyZXNzTGluZTEnXG4gIHwgJ3N0cmVldEFkZHJlc3NMaW5lMidcbiAgfCAnc3VibG9jYWxpdHknXG4gIHwgJ3RlbGVwaG9uZU51bWJlcidcbiAgfCAndXNlcm5hbWUnXG4gIHwgJ3Bhc3N3b3JkJ1xuICB8ICduZXdQYXNzd29yZCdcbiAgfCAnb25lVGltZUNvZGUnO1xuXG50eXBlIFBhc3N3b3JkUnVsZXMgPSBzdHJpbmc7XG5cbnR5cGUgSU9TUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgLyoqXG4gICAqIElmIGBmYWxzZWAsIGRpc2FibGVzIHNwZWxsLWNoZWNrIHN0eWxlIChpLmUuIHJlZCB1bmRlcmxpbmVzKS5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgaW5oZXJpdGVkIGZyb20gYGF1dG9Db3JyZWN0YC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgc3BlbGxDaGVjaz86ID9ib29sZWFuLFxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHRoZSBjb2xvciBvZiB0aGUga2V5Ym9hcmQuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGtleWJvYXJkQXBwZWFyYW5jZT86ID8oJ2RlZmF1bHQnIHwgJ2xpZ2h0JyB8ICdkYXJrJyksXG5cbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIGtleWJvYXJkIGRpc2FibGVzIHRoZSByZXR1cm4ga2V5IHdoZW4gdGhlcmUgaXMgbm8gdGV4dCBhbmRcbiAgICogYXV0b21hdGljYWxseSBlbmFibGVzIGl0IHdoZW4gdGhlcmUgaXMgdGV4dC4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgYGZhbHNlYC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgZW5hYmxlc1JldHVybktleUF1dG9tYXRpY2FsbHk/OiA/Ym9vbGVhbixcblxuICAvKipcbiAgICogV2hlbiB0aGUgY2xlYXIgYnV0dG9uIHNob3VsZCBhcHBlYXIgb24gdGhlIHJpZ2h0IHNpZGUgb2YgdGhlIHRleHQgdmlldy5cbiAgICogVGhpcyBwcm9wZXJ0eSBpcyBzdXBwb3J0ZWQgb25seSBmb3Igc2luZ2xlLWxpbmUgVGV4dElucHV0IGNvbXBvbmVudC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgY2xlYXJCdXR0b25Nb2RlPzogPygnbmV2ZXInIHwgJ3doaWxlLWVkaXRpbmcnIHwgJ3VubGVzcy1lZGl0aW5nJyB8ICdhbHdheXMnKSxcblxuICAvKipcbiAgICogSWYgYHRydWVgLCBjbGVhcnMgdGhlIHRleHQgZmllbGQgYXV0b21hdGljYWxseSB3aGVuIGVkaXRpbmcgYmVnaW5zLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBjbGVhclRleHRPbkZvY3VzPzogP2Jvb2xlYW4sXG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgdGhlIHR5cGVzIG9mIGRhdGEgY29udmVydGVkIHRvIGNsaWNrYWJsZSBVUkxzIGluIHRoZSB0ZXh0IGlucHV0LlxuICAgKiBPbmx5IHZhbGlkIGlmIGBtdWx0aWxpbmU9e3RydWV9YCBhbmQgYGVkaXRhYmxlPXtmYWxzZX1gLlxuICAgKiBCeSBkZWZhdWx0IG5vIGRhdGEgdHlwZXMgYXJlIGRldGVjdGVkLlxuICAgKlxuICAgKiBZb3UgY2FuIHByb3ZpZGUgb25lIHR5cGUgb3IgYW4gYXJyYXkgb2YgbWFueSB0eXBlcy5cbiAgICpcbiAgICogUG9zc2libGUgdmFsdWVzIGZvciBgZGF0YURldGVjdG9yVHlwZXNgIGFyZTpcbiAgICpcbiAgICogLSBgJ3Bob25lTnVtYmVyJ2BcbiAgICogLSBgJ2xpbmsnYFxuICAgKiAtIGAnYWRkcmVzcydgXG4gICAqIC0gYCdjYWxlbmRhckV2ZW50J2BcbiAgICogLSBgJ25vbmUnYFxuICAgKiAtIGAnYWxsJ2BcbiAgICpcbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgZGF0YURldGVjdG9yVHlwZXM/OlxuICAgIHwgP0RhdGFEZXRlY3RvclR5cGVzVHlwZVxuICAgIHwgJFJlYWRPbmx5QXJyYXk8RGF0YURldGVjdG9yVHlwZXNUeXBlPixcblxuICAvKipcbiAgICogQW4gb3B0aW9uYWwgaWRlbnRpZmllciB3aGljaCBsaW5rcyBhIGN1c3RvbSBJbnB1dEFjY2Vzc29yeVZpZXcgdG9cbiAgICogdGhpcyB0ZXh0IGlucHV0LiBUaGUgSW5wdXRBY2Nlc3NvcnlWaWV3IGlzIHJlbmRlcmVkIGFib3ZlIHRoZVxuICAgKiBrZXlib2FyZCB3aGVuIHRoaXMgdGV4dCBpbnB1dCBpcyBmb2N1c2VkLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBpbnB1dEFjY2Vzc29yeVZpZXdJRD86ID9zdHJpbmcsXG5cbiAgLyoqXG4gICAqIEdpdmUgdGhlIGtleWJvYXJkIGFuZCB0aGUgc3lzdGVtIGluZm9ybWF0aW9uIGFib3V0IHRoZVxuICAgKiBleHBlY3RlZCBzZW1hbnRpYyBtZWFuaW5nIGZvciB0aGUgY29udGVudCB0aGF0IHVzZXJzIGVudGVyLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICB0ZXh0Q29udGVudFR5cGU/OiA/VGV4dENvbnRlbnRUeXBlLFxuXG4gIC8qKlxuICAgKiBQcm92aWRlIHJ1bGVzIGZvciB5b3VyIHBhc3N3b3JkLlxuICAgKiBGb3IgZXhhbXBsZSwgc2F5IHlvdSB3YW50IHRvIHJlcXVpcmUgYSBwYXNzd29yZCB3aXRoIGF0IGxlYXN0IGVpZ2h0IGNoYXJhY3RlcnMgY29uc2lzdGluZyBvZiBhIG1peCBvZiB1cHBlcmNhc2UgYW5kIGxvd2VyY2FzZSBsZXR0ZXJzLCBhdCBsZWFzdCBvbmUgbnVtYmVyLCBhbmQgYXQgbW9zdCB0d28gY29uc2VjdXRpdmUgY2hhcmFjdGVycy5cbiAgICogXCJyZXF1aXJlZDogdXBwZXI7IHJlcXVpcmVkOiBsb3dlcjsgcmVxdWlyZWQ6IGRpZ2l0OyBtYXgtY29uc2VjdXRpdmU6IDI7IG1pbmxlbmd0aDogODtcIlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBwYXNzd29yZFJ1bGVzPzogP1Bhc3N3b3JkUnVsZXMsXG5cbiAgLypcbiAgICogSWYgYHRydWVgLCBhbGxvd3MgVGV4dElucHV0IHRvIHBhc3MgdG91Y2ggZXZlbnRzIHRvIHRoZSBwYXJlbnQgY29tcG9uZW50LlxuICAgKiBUaGlzIGFsbG93cyBjb21wb25lbnRzIHRvIGJlIHN3aXBlYWJsZSBmcm9tIHRoZSBUZXh0SW5wdXQgb24gaU9TLFxuICAgKiBhcyBpcyB0aGUgY2FzZSBvbiBBbmRyb2lkIGJ5IGRlZmF1bHQuXG4gICAqIElmIGBmYWxzZWAsIFRleHRJbnB1dCBhbHdheXMgYXNrcyB0byBoYW5kbGUgdGhlIGlucHV0IChleGNlcHQgd2hlbiBkaXNhYmxlZCkuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHJlamVjdFJlc3BvbmRlclRlcm1pbmF0aW9uPzogP2Jvb2xlYW4sXG5cbiAgLyoqXG4gICAqIElmIGBmYWxzZWAsIHNjcm9sbGluZyBvZiB0aGUgdGV4dCB2aWV3IHdpbGwgYmUgZGlzYWJsZWQuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGB0cnVlYC4gRG9lcyBvbmx5IHdvcmsgd2l0aCAnbXVsdGlsaW5lPXt0cnVlfScuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHNjcm9sbEVuYWJsZWQ/OiA/Ym9vbGVhbixcbnx9PjtcblxudHlwZSBBbmRyb2lkUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgLyoqXG4gICAqIERldGVybWluZXMgd2hpY2ggY29udGVudCB0byBzdWdnZXN0IG9uIGF1dG8gY29tcGxldGUsIGUuZy5gdXNlcm5hbWVgLlxuICAgKiBUbyBkaXNhYmxlIGF1dG8gY29tcGxldGUsIHVzZSBgb2ZmYC5cbiAgICpcbiAgICogKkFuZHJvaWQgT25seSpcbiAgICpcbiAgICogVGhlIGZvbGxvd2luZyB2YWx1ZXMgd29yayBvbiBBbmRyb2lkIG9ubHk6XG4gICAqXG4gICAqIC0gYHVzZXJuYW1lYFxuICAgKiAtIGBwYXNzd29yZGBcbiAgICogLSBgZW1haWxgXG4gICAqIC0gYG5hbWVgXG4gICAqIC0gYHRlbGBcbiAgICogLSBgc3RyZWV0LWFkZHJlc3NgXG4gICAqIC0gYHBvc3RhbC1jb2RlYFxuICAgKiAtIGBjYy1udW1iZXJgXG4gICAqIC0gYGNjLWNzY2BcbiAgICogLSBgY2MtZXhwYFxuICAgKiAtIGBjYy1leHAtbW9udGhgXG4gICAqIC0gYGNjLWV4cC15ZWFyYFxuICAgKiAtIGBvZmZgXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBhdXRvQ29tcGxldGVUeXBlPzogPyhcbiAgICB8ICdjYy1jc2MnXG4gICAgfCAnY2MtZXhwJ1xuICAgIHwgJ2NjLWV4cC1tb250aCdcbiAgICB8ICdjYy1leHAteWVhcidcbiAgICB8ICdjYy1udW1iZXInXG4gICAgfCAnZW1haWwnXG4gICAgfCAnbmFtZSdcbiAgICB8ICdwYXNzd29yZCdcbiAgICB8ICdwb3N0YWwtY29kZSdcbiAgICB8ICdzdHJlZXQtYWRkcmVzcydcbiAgICB8ICd0ZWwnXG4gICAgfCAndXNlcm5hbWUnXG4gICAgfCAnb2ZmJ1xuICApLFxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSByZXR1cm4ga2V5IHRvIHRoZSBsYWJlbC4gVXNlIGl0IGluc3RlYWQgb2YgYHJldHVybktleVR5cGVgLlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgcmV0dXJuS2V5TGFiZWw/OiA/c3RyaW5nLFxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBudW1iZXIgb2YgbGluZXMgZm9yIGEgYFRleHRJbnB1dGAuIFVzZSBpdCB3aXRoIG11bHRpbGluZSBzZXQgdG9cbiAgICogYHRydWVgIHRvIGJlIGFibGUgdG8gZmlsbCB0aGUgbGluZXMuXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBudW1iZXJPZkxpbmVzPzogP251bWJlcixcblxuICAvKipcbiAgICogV2hlbiBgZmFsc2VgLCBpZiB0aGVyZSBpcyBhIHNtYWxsIGFtb3VudCBvZiBzcGFjZSBhdmFpbGFibGUgYXJvdW5kIGEgdGV4dCBpbnB1dFxuICAgKiAoZS5nLiBsYW5kc2NhcGUgb3JpZW50YXRpb24gb24gYSBwaG9uZSksIHRoZSBPUyBtYXkgY2hvb3NlIHRvIGhhdmUgdGhlIHVzZXIgZWRpdFxuICAgKiB0aGUgdGV4dCBpbnNpZGUgb2YgYSBmdWxsIHNjcmVlbiB0ZXh0IGlucHV0IG1vZGUuIFdoZW4gYHRydWVgLCB0aGlzIGZlYXR1cmUgaXNcbiAgICogZGlzYWJsZWQgYW5kIHVzZXJzIHdpbGwgYWx3YXlzIGVkaXQgdGhlIHRleHQgZGlyZWN0bHkgaW5zaWRlIG9mIHRoZSB0ZXh0IGlucHV0LlxuICAgKiBEZWZhdWx0cyB0byBgZmFsc2VgLlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgZGlzYWJsZUZ1bGxzY3JlZW5VST86ID9ib29sZWFuLFxuXG4gIC8qKlxuICAgKiBTZXQgdGV4dCBicmVhayBzdHJhdGVneSBvbiBBbmRyb2lkIEFQSSBMZXZlbCAyMyssIHBvc3NpYmxlIHZhbHVlcyBhcmUgYHNpbXBsZWAsIGBoaWdoUXVhbGl0eWAsIGBiYWxhbmNlZGBcbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgYHNpbXBsZWAuXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICB0ZXh0QnJlYWtTdHJhdGVneT86ID8oJ3NpbXBsZScgfCAnaGlnaFF1YWxpdHknIHwgJ2JhbGFuY2VkJyksXG5cbiAgLyoqXG4gICAqIFRoZSBjb2xvciBvZiB0aGUgYFRleHRJbnB1dGAgdW5kZXJsaW5lLlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgdW5kZXJsaW5lQ29sb3JBbmRyb2lkPzogP0NvbG9yVmFsdWUsXG5cbiAgLyoqXG4gICAqIElmIGRlZmluZWQsIHRoZSBwcm92aWRlZCBpbWFnZSByZXNvdXJjZSB3aWxsIGJlIHJlbmRlcmVkIG9uIHRoZSBsZWZ0LlxuICAgKiBUaGUgaW1hZ2UgcmVzb3VyY2UgbXVzdCBiZSBpbnNpZGUgYC9hbmRyb2lkL2FwcC9zcmMvbWFpbi9yZXMvZHJhd2FibGVgIGFuZCByZWZlcmVuY2VkXG4gICAqIGxpa2VcbiAgICogYGBgXG4gICAqIDxUZXh0SW5wdXRcbiAgICogIGlubGluZUltYWdlTGVmdD0nc2VhcmNoX2ljb24nXG4gICAqIC8+XG4gICAqIGBgYFxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgaW5saW5lSW1hZ2VMZWZ0PzogP3N0cmluZyxcblxuICAvKipcbiAgICogUGFkZGluZyBiZXR3ZWVuIHRoZSBpbmxpbmUgaW1hZ2UsIGlmIGFueSwgYW5kIHRoZSB0ZXh0IGlucHV0IGl0c2VsZi5cbiAgICogQHBsYXRmb3JtIGFuZHJvaWRcbiAgICovXG4gIGlubGluZUltYWdlUGFkZGluZz86ID9udW1iZXIsXG5cbiAgaW1wb3J0YW50Rm9yQXV0b2ZpbGw/OiA/KFxuICAgIHwgJ2F1dG8nXG4gICAgfCAnbm8nXG4gICAgfCAnbm9FeGNsdWRlRGVzY2VuZGFudHMnXG4gICAgfCAneWVzJ1xuICAgIHwgJ3llc0V4Y2x1ZGVEZXNjZW5kYW50cydcbiAgKSxcblxuICAvKipcbiAgICogV2hlbiBgZmFsc2VgLCBpdCB3aWxsIHByZXZlbnQgdGhlIHNvZnQga2V5Ym9hcmQgZnJvbSBzaG93aW5nIHdoZW4gdGhlIGZpZWxkIGlzIGZvY3VzZWQuXG4gICAqIERlZmF1bHRzIHRvIGB0cnVlYC5cbiAgICovXG4gIHNob3dTb2Z0SW5wdXRPbkZvY3VzPzogP2Jvb2xlYW4sXG58fT47XG5cbmV4cG9ydCB0eXBlIFByb3BzID0gJFJlYWRPbmx5PHt8XG4gIC4uLiREaWZmPFZpZXdQcm9wcywgJFJlYWRPbmx5PHt8c3R5bGU6ID9WaWV3U3R5bGVQcm9wfH0+PixcbiAgLi4uSU9TUHJvcHMsXG4gIC4uLkFuZHJvaWRQcm9wcyxcblxuICAvKipcbiAgICogQ2FuIHRlbGwgYFRleHRJbnB1dGAgdG8gYXV0b21hdGljYWxseSBjYXBpdGFsaXplIGNlcnRhaW4gY2hhcmFjdGVycy5cbiAgICpcbiAgICogLSBgY2hhcmFjdGVyc2A6IGFsbCBjaGFyYWN0ZXJzLlxuICAgKiAtIGB3b3Jkc2A6IGZpcnN0IGxldHRlciBvZiBlYWNoIHdvcmQuXG4gICAqIC0gYHNlbnRlbmNlc2A6IGZpcnN0IGxldHRlciBvZiBlYWNoIHNlbnRlbmNlICgqZGVmYXVsdCopLlxuICAgKiAtIGBub25lYDogZG9uJ3QgYXV0byBjYXBpdGFsaXplIGFueXRoaW5nLlxuICAgKi9cbiAgYXV0b0NhcGl0YWxpemU/OiA/QXV0b0NhcGl0YWxpemUsXG5cbiAgLyoqXG4gICAqIElmIGBmYWxzZWAsIGRpc2FibGVzIGF1dG8tY29ycmVjdC4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgYHRydWVgLlxuICAgKi9cbiAgYXV0b0NvcnJlY3Q/OiA/Ym9vbGVhbixcblxuICAvKipcbiAgICogSWYgYHRydWVgLCBmb2N1c2VzIHRoZSBpbnB1dCBvbiBgY29tcG9uZW50RGlkTW91bnRgLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBgZmFsc2VgLlxuICAgKi9cbiAgYXV0b0ZvY3VzPzogP2Jvb2xlYW4sXG5cbiAgLyoqXG4gICAqIFNwZWNpZmllcyB3aGV0aGVyIGZvbnRzIHNob3VsZCBzY2FsZSB0byByZXNwZWN0IFRleHQgU2l6ZSBhY2Nlc3NpYmlsaXR5IHNldHRpbmdzLiBUaGVcbiAgICogZGVmYXVsdCBpcyBgdHJ1ZWAuXG4gICAqL1xuICBhbGxvd0ZvbnRTY2FsaW5nPzogP2Jvb2xlYW4sXG5cbiAgLyoqXG4gICAqIFNwZWNpZmllcyBsYXJnZXN0IHBvc3NpYmxlIHNjYWxlIGEgZm9udCBjYW4gcmVhY2ggd2hlbiBgYWxsb3dGb250U2NhbGluZ2AgaXMgZW5hYmxlZC5cbiAgICogUG9zc2libGUgdmFsdWVzOlxuICAgKiBgbnVsbC91bmRlZmluZWRgIChkZWZhdWx0KTogaW5oZXJpdCBmcm9tIHRoZSBwYXJlbnQgbm9kZSBvciB0aGUgZ2xvYmFsIGRlZmF1bHQgKDApXG4gICAqIGAwYDogbm8gbWF4LCBpZ25vcmUgcGFyZW50L2dsb2JhbCBkZWZhdWx0XG4gICAqIGA+PSAxYDogc2V0cyB0aGUgbWF4Rm9udFNpemVNdWx0aXBsaWVyIG9mIHRoaXMgbm9kZSB0byB0aGlzIHZhbHVlXG4gICAqL1xuICBtYXhGb250U2l6ZU11bHRpcGxpZXI/OiA/bnVtYmVyLFxuXG4gIC8qKlxuICAgKiBJZiBgZmFsc2VgLCB0ZXh0IGlzIG5vdCBlZGl0YWJsZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgYHRydWVgLlxuICAgKi9cbiAgZWRpdGFibGU/OiA/Ym9vbGVhbixcblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB3aGljaCBrZXlib2FyZCB0byBvcGVuLCBlLmcuYG51bWVyaWNgLlxuICAgKlxuICAgKiBUaGUgZm9sbG93aW5nIHZhbHVlcyB3b3JrIGFjcm9zcyBwbGF0Zm9ybXM6XG4gICAqXG4gICAqIC0gYGRlZmF1bHRgXG4gICAqIC0gYG51bWVyaWNgXG4gICAqIC0gYG51bWJlci1wYWRgXG4gICAqIC0gYGRlY2ltYWwtcGFkYFxuICAgKiAtIGBlbWFpbC1hZGRyZXNzYFxuICAgKiAtIGBwaG9uZS1wYWRgXG4gICAqXG4gICAqICppT1MgT25seSpcbiAgICpcbiAgICogVGhlIGZvbGxvd2luZyB2YWx1ZXMgd29yayBvbiBpT1Mgb25seTpcbiAgICpcbiAgICogLSBgYXNjaWktY2FwYWJsZWBcbiAgICogLSBgbnVtYmVycy1hbmQtcHVuY3R1YXRpb25gXG4gICAqIC0gYHVybGBcbiAgICogLSBgbmFtZS1waG9uZS1wYWRgXG4gICAqIC0gYHR3aXR0ZXJgXG4gICAqIC0gYHdlYi1zZWFyY2hgXG4gICAqXG4gICAqICpBbmRyb2lkIE9ubHkqXG4gICAqXG4gICAqIFRoZSBmb2xsb3dpbmcgdmFsdWVzIHdvcmsgb24gQW5kcm9pZCBvbmx5OlxuICAgKlxuICAgKiAtIGB2aXNpYmxlLXBhc3N3b3JkYFxuICAgKlxuICAgKi9cbiAga2V5Ym9hcmRUeXBlPzogP0tleWJvYXJkVHlwZSxcblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBob3cgdGhlIHJldHVybiBrZXkgc2hvdWxkIGxvb2suIE9uIEFuZHJvaWQgeW91IGNhbiBhbHNvIHVzZVxuICAgKiBgcmV0dXJuS2V5TGFiZWxgLlxuICAgKlxuICAgKiAqQ3Jvc3MgcGxhdGZvcm0qXG4gICAqXG4gICAqIFRoZSBmb2xsb3dpbmcgdmFsdWVzIHdvcmsgYWNyb3NzIHBsYXRmb3JtczpcbiAgICpcbiAgICogLSBgZG9uZWBcbiAgICogLSBgZ29gXG4gICAqIC0gYG5leHRgXG4gICAqIC0gYHNlYXJjaGBcbiAgICogLSBgc2VuZGBcbiAgICpcbiAgICogKkFuZHJvaWQgT25seSpcbiAgICpcbiAgICogVGhlIGZvbGxvd2luZyB2YWx1ZXMgd29yayBvbiBBbmRyb2lkIG9ubHk6XG4gICAqXG4gICAqIC0gYG5vbmVgXG4gICAqIC0gYHByZXZpb3VzYFxuICAgKlxuICAgKiAqaU9TIE9ubHkqXG4gICAqXG4gICAqIFRoZSBmb2xsb3dpbmcgdmFsdWVzIHdvcmsgb24gaU9TIG9ubHk6XG4gICAqXG4gICAqIC0gYGRlZmF1bHRgXG4gICAqIC0gYGVtZXJnZW5jeS1jYWxsYFxuICAgKiAtIGBnb29nbGVgXG4gICAqIC0gYGpvaW5gXG4gICAqIC0gYHJvdXRlYFxuICAgKiAtIGB5YWhvb2BcbiAgICovXG4gIHJldHVybktleVR5cGU/OiA/UmV0dXJuS2V5VHlwZSxcblxuICAvKipcbiAgICogTGltaXRzIHRoZSBtYXhpbXVtIG51bWJlciBvZiBjaGFyYWN0ZXJzIHRoYXQgY2FuIGJlIGVudGVyZWQuIFVzZSB0aGlzXG4gICAqIGluc3RlYWQgb2YgaW1wbGVtZW50aW5nIHRoZSBsb2dpYyBpbiBKUyB0byBhdm9pZCBmbGlja2VyLlxuICAgKi9cbiAgbWF4TGVuZ3RoPzogP251bWJlcixcblxuICAvKipcbiAgICogSWYgYHRydWVgLCB0aGUgdGV4dCBpbnB1dCBjYW4gYmUgbXVsdGlwbGUgbGluZXMuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGBmYWxzZWAuXG4gICAqL1xuICBtdWx0aWxpbmU/OiA/Ym9vbGVhbixcblxuICAvKipcbiAgICogQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgd2hlbiB0aGUgdGV4dCBpbnB1dCBpcyBibHVycmVkLlxuICAgKi9cbiAgb25CbHVyPzogPyhlOiBCbHVyRXZlbnQpID0+IG1peGVkLFxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB3aGVuIHRoZSB0ZXh0IGlucHV0IGlzIGZvY3VzZWQuXG4gICAqL1xuICBvbkZvY3VzPzogPyhlOiBGb2N1c0V2ZW50KSA9PiBtaXhlZCxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgd2hlbiB0aGUgdGV4dCBpbnB1dCdzIHRleHQgY2hhbmdlcy5cbiAgICovXG4gIG9uQ2hhbmdlPzogPyhlOiBDaGFuZ2VFdmVudCkgPT4gbWl4ZWQsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdoZW4gdGhlIHRleHQgaW5wdXQncyB0ZXh0IGNoYW5nZXMuXG4gICAqIENoYW5nZWQgdGV4dCBpcyBwYXNzZWQgYXMgYW4gYXJndW1lbnQgdG8gdGhlIGNhbGxiYWNrIGhhbmRsZXIuXG4gICAqL1xuICBvbkNoYW5nZVRleHQ/OiA/KHRleHQ6IHN0cmluZykgPT4gbWl4ZWQsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdoZW4gdGhlIHRleHQgaW5wdXQncyBjb250ZW50IHNpemUgY2hhbmdlcy5cbiAgICogVGhpcyB3aWxsIGJlIGNhbGxlZCB3aXRoXG4gICAqIGB7IG5hdGl2ZUV2ZW50OiB7IGNvbnRlbnRTaXplOiB7IHdpZHRoLCBoZWlnaHQgfSB9IH1gLlxuICAgKlxuICAgKiBPbmx5IGNhbGxlZCBmb3IgbXVsdGlsaW5lIHRleHQgaW5wdXRzLlxuICAgKi9cbiAgb25Db250ZW50U2l6ZUNoYW5nZT86ID8oZTogQ29udGVudFNpemVDaGFuZ2VFdmVudCkgPT4gbWl4ZWQsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdoZW4gdGV4dCBpbnB1dCBlbmRzLlxuICAgKi9cbiAgb25FbmRFZGl0aW5nPzogPyhlOiBFZGl0aW5nRXZlbnQpID0+IG1peGVkLFxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBhIHRvdWNoIGlzIGVuZ2FnZWQuXG4gICAqL1xuICBvblByZXNzSW4/OiA/KGV2ZW50OiBQcmVzc0V2ZW50KSA9PiBtaXhlZCxcblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gYSB0b3VjaCBpcyByZWxlYXNlZC5cbiAgICovXG4gIG9uUHJlc3NPdXQ/OiA/KGV2ZW50OiBQcmVzc0V2ZW50KSA9PiBtaXhlZCxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgd2hlbiB0aGUgdGV4dCBpbnB1dCBzZWxlY3Rpb24gaXMgY2hhbmdlZC5cbiAgICogVGhpcyB3aWxsIGJlIGNhbGxlZCB3aXRoXG4gICAqIGB7IG5hdGl2ZUV2ZW50OiB7IHNlbGVjdGlvbjogeyBzdGFydCwgZW5kIH0gfSB9YC5cbiAgICovXG4gIG9uU2VsZWN0aW9uQ2hhbmdlPzogPyhlOiBTZWxlY3Rpb25DaGFuZ2VFdmVudCkgPT4gbWl4ZWQsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdoZW4gdGhlIHRleHQgaW5wdXQncyBzdWJtaXQgYnV0dG9uIGlzIHByZXNzZWQuXG4gICAqIEludmFsaWQgaWYgYG11bHRpbGluZT17dHJ1ZX1gIGlzIHNwZWNpZmllZC5cbiAgICovXG4gIG9uU3VibWl0RWRpdGluZz86ID8oZTogRWRpdGluZ0V2ZW50KSA9PiBtaXhlZCxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgd2hlbiBhIGtleSBpcyBwcmVzc2VkLlxuICAgKiBUaGlzIHdpbGwgYmUgY2FsbGVkIHdpdGggYHsgbmF0aXZlRXZlbnQ6IHsga2V5OiBrZXlWYWx1ZSB9IH1gXG4gICAqIHdoZXJlIGBrZXlWYWx1ZWAgaXMgYCdFbnRlcidgIG9yIGAnQmFja3NwYWNlJ2AgZm9yIHJlc3BlY3RpdmUga2V5cyBhbmRcbiAgICogdGhlIHR5cGVkLWluIGNoYXJhY3RlciBvdGhlcndpc2UgaW5jbHVkaW5nIGAnICdgIGZvciBzcGFjZS5cbiAgICogRmlyZXMgYmVmb3JlIGBvbkNoYW5nZWAgY2FsbGJhY2tzLlxuICAgKi9cbiAgb25LZXlQcmVzcz86ID8oZTogS2V5UHJlc3NFdmVudCkgPT4gbWl4ZWQsXG5cbiAgLyoqXG4gICAqIEludm9rZWQgb24gY29udGVudCBzY3JvbGwgd2l0aCBgeyBuYXRpdmVFdmVudDogeyBjb250ZW50T2Zmc2V0OiB7IHgsIHkgfSB9IH1gLlxuICAgKiBNYXkgYWxzbyBjb250YWluIG90aGVyIHByb3BlcnRpZXMgZnJvbSBTY3JvbGxFdmVudCBidXQgb24gQW5kcm9pZCBjb250ZW50U2l6ZVxuICAgKiBpcyBub3QgcHJvdmlkZWQgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuXG4gICAqL1xuICBvblNjcm9sbD86ID8oZTogU2Nyb2xsRXZlbnQpID0+IG1peGVkLFxuXG4gIC8qKlxuICAgKiBUaGUgc3RyaW5nIHRoYXQgd2lsbCBiZSByZW5kZXJlZCBiZWZvcmUgdGV4dCBpbnB1dCBoYXMgYmVlbiBlbnRlcmVkLlxuICAgKi9cbiAgcGxhY2Vob2xkZXI/OiA/U3RyaW5naXNoLFxuXG4gIC8qKlxuICAgKiBUaGUgdGV4dCBjb2xvciBvZiB0aGUgcGxhY2Vob2xkZXIgc3RyaW5nLlxuICAgKi9cbiAgcGxhY2Vob2xkZXJUZXh0Q29sb3I/OiA/Q29sb3JWYWx1ZSxcblxuICAvKipcbiAgICogSWYgYHRydWVgLCB0aGUgdGV4dCBpbnB1dCBvYnNjdXJlcyB0aGUgdGV4dCBlbnRlcmVkIHNvIHRoYXQgc2Vuc2l0aXZlIHRleHRcbiAgICogbGlrZSBwYXNzd29yZHMgc3RheSBzZWN1cmUuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGBmYWxzZWAuIERvZXMgbm90IHdvcmsgd2l0aCAnbXVsdGlsaW5lPXt0cnVlfScuXG4gICAqL1xuICBzZWN1cmVUZXh0RW50cnk/OiA/Ym9vbGVhbixcblxuICAvKipcbiAgICogVGhlIGhpZ2hsaWdodCBhbmQgY3Vyc29yIGNvbG9yIG9mIHRoZSB0ZXh0IGlucHV0LlxuICAgKi9cbiAgc2VsZWN0aW9uQ29sb3I/OiA/Q29sb3JWYWx1ZSxcblxuICAvKipcbiAgICogVGhlIHN0YXJ0IGFuZCBlbmQgb2YgdGhlIHRleHQgaW5wdXQncyBzZWxlY3Rpb24uIFNldCBzdGFydCBhbmQgZW5kIHRvXG4gICAqIHRoZSBzYW1lIHZhbHVlIHRvIHBvc2l0aW9uIHRoZSBjdXJzb3IuXG4gICAqL1xuICBzZWxlY3Rpb24/OiA/JFJlYWRPbmx5PHt8XG4gICAgc3RhcnQ6IG51bWJlcixcbiAgICBlbmQ/OiA/bnVtYmVyLFxuICB8fT4sXG5cbiAgLyoqXG4gICAqIFRoZSB2YWx1ZSB0byBzaG93IGZvciB0aGUgdGV4dCBpbnB1dC4gYFRleHRJbnB1dGAgaXMgYSBjb250cm9sbGVkXG4gICAqIGNvbXBvbmVudCwgd2hpY2ggbWVhbnMgdGhlIG5hdGl2ZSB2YWx1ZSB3aWxsIGJlIGZvcmNlZCB0byBtYXRjaCB0aGlzXG4gICAqIHZhbHVlIHByb3AgaWYgcHJvdmlkZWQuIEZvciBtb3N0IHVzZXMsIHRoaXMgd29ya3MgZ3JlYXQsIGJ1dCBpbiBzb21lXG4gICAqIGNhc2VzIHRoaXMgbWF5IGNhdXNlIGZsaWNrZXJpbmcgLSBvbmUgY29tbW9uIGNhdXNlIGlzIHByZXZlbnRpbmcgZWRpdHNcbiAgICogYnkga2VlcGluZyB2YWx1ZSB0aGUgc2FtZS4gSW4gYWRkaXRpb24gdG8gc2ltcGx5IHNldHRpbmcgdGhlIHNhbWUgdmFsdWUsXG4gICAqIGVpdGhlciBzZXQgYGVkaXRhYmxlPXtmYWxzZX1gLCBvciBzZXQvdXBkYXRlIGBtYXhMZW5ndGhgIHRvIHByZXZlbnRcbiAgICogdW53YW50ZWQgZWRpdHMgd2l0aG91dCBmbGlja2VyLlxuICAgKi9cbiAgdmFsdWU/OiA/U3RyaW5naXNoLFxuXG4gIC8qKlxuICAgKiBQcm92aWRlcyBhbiBpbml0aWFsIHZhbHVlIHRoYXQgd2lsbCBjaGFuZ2Ugd2hlbiB0aGUgdXNlciBzdGFydHMgdHlwaW5nLlxuICAgKiBVc2VmdWwgZm9yIHNpbXBsZSB1c2UtY2FzZXMgd2hlcmUgeW91IGRvIG5vdCB3YW50IHRvIGRlYWwgd2l0aCBsaXN0ZW5pbmdcbiAgICogdG8gZXZlbnRzIGFuZCB1cGRhdGluZyB0aGUgdmFsdWUgcHJvcCB0byBrZWVwIHRoZSBjb250cm9sbGVkIHN0YXRlIGluIHN5bmMuXG4gICAqL1xuICBkZWZhdWx0VmFsdWU/OiA/U3RyaW5naXNoLFxuXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIGFsbCB0ZXh0IHdpbGwgYXV0b21hdGljYWxseSBiZSBzZWxlY3RlZCBvbiBmb2N1cy5cbiAgICovXG4gIHNlbGVjdFRleHRPbkZvY3VzPzogP2Jvb2xlYW4sXG5cbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIHRleHQgZmllbGQgd2lsbCBibHVyIHdoZW4gc3VibWl0dGVkLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlIGZvciBzaW5nbGUtbGluZSBmaWVsZHMgYW5kIGZhbHNlIGZvclxuICAgKiBtdWx0aWxpbmUgZmllbGRzLiBOb3RlIHRoYXQgZm9yIG11bHRpbGluZSBmaWVsZHMsIHNldHRpbmcgYGJsdXJPblN1Ym1pdGBcbiAgICogdG8gYHRydWVgIG1lYW5zIHRoYXQgcHJlc3NpbmcgcmV0dXJuIHdpbGwgYmx1ciB0aGUgZmllbGQgYW5kIHRyaWdnZXIgdGhlXG4gICAqIGBvblN1Ym1pdEVkaXRpbmdgIGV2ZW50IGluc3RlYWQgb2YgaW5zZXJ0aW5nIGEgbmV3bGluZSBpbnRvIHRoZSBmaWVsZC5cbiAgICovXG4gIGJsdXJPblN1Ym1pdD86ID9ib29sZWFuLFxuXG4gIC8qKlxuICAgKiBOb3RlIHRoYXQgbm90IGFsbCBUZXh0IHN0eWxlcyBhcmUgc3VwcG9ydGVkLCBhbiBpbmNvbXBsZXRlIGxpc3Qgb2Ygd2hhdCBpcyBub3Qgc3VwcG9ydGVkIGluY2x1ZGVzOlxuICAgKlxuICAgKiAtIGBib3JkZXJMZWZ0V2lkdGhgXG4gICAqIC0gYGJvcmRlclRvcFdpZHRoYFxuICAgKiAtIGBib3JkZXJSaWdodFdpZHRoYFxuICAgKiAtIGBib3JkZXJCb3R0b21XaWR0aGBcbiAgICogLSBgYm9yZGVyVG9wTGVmdFJhZGl1c2BcbiAgICogLSBgYm9yZGVyVG9wUmlnaHRSYWRpdXNgXG4gICAqIC0gYGJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzYFxuICAgKiAtIGBib3JkZXJCb3R0b21MZWZ0UmFkaXVzYFxuICAgKlxuICAgKiBzZWUgW0lzc3VlIzcwNzBdKGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC1uYXRpdmUvaXNzdWVzLzcwNzApXG4gICAqIGZvciBtb3JlIGRldGFpbC5cbiAgICpcbiAgICogW1N0eWxlc10oZG9jcy9zdHlsZS5odG1sKVxuICAgKi9cbiAgc3R5bGU/OiA/VGV4dFN0eWxlUHJvcCxcblxuICAvKipcbiAgICogSWYgYHRydWVgLCBjYXJldCBpcyBoaWRkZW4uIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGBmYWxzZWAuXG4gICAqXG4gICAqIE9uIEFuZHJvaWQgZGV2aWNlcyBtYW51ZmFjdHVyZWQgYnkgWGlhb21pIHdpdGggQW5kcm9pZCBRLFxuICAgKiB3aGVuIGtleWJvYXJkVHlwZSBlcXVhbHMgJ2VtYWlsLWFkZHJlc3MndGhpcyB3aWxsIGJlIHNldFxuICAgKiBpbiBuYXRpdmUgdG8gJ3RydWUnIHRvIHByZXZlbnQgYSBzeXN0ZW0gcmVsYXRlZCBjcmFzaC4gVGhpc1xuICAgKiB3aWxsIGNhdXNlIGN1cnNvciB0byBiZSBkaWFibGVkIGFzIGEgc2lkZS1lZmZlY3QuXG4gICAqXG4gICAqL1xuICBjYXJldEhpZGRlbj86ID9ib29sZWFuLFxuXG4gIC8qXG4gICAqIElmIGB0cnVlYCwgY29udGV4dE1lbnVIaWRkZW4gaXMgaGlkZGVuLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBgZmFsc2VgLlxuICAgKi9cbiAgY29udGV4dE1lbnVIaWRkZW4/OiA/Ym9vbGVhbixcblxuICBmb3J3YXJkZWRSZWY/OiA/UmVhY3RSZWZTZXR0ZXI8XG4gICAgUmVhY3QuRWxlbWVudFJlZjxIb3N0Q29tcG9uZW50PG1peGVkPj4gJiBJbXBlcmF0aXZlTWV0aG9kcyxcbiAgPixcbnx9PjtcblxudHlwZSBJbXBlcmF0aXZlTWV0aG9kcyA9ICRSZWFkT25seTx7fFxuICBjbGVhcjogKCkgPT4gdm9pZCxcbiAgaXNGb2N1c2VkOiAoKSA9PiBib29sZWFuLFxuICBnZXROYXRpdmVSZWY6ICgpID0+ID9SZWFjdC5FbGVtZW50UmVmPEhvc3RDb21wb25lbnQ8bWl4ZWQ+Pixcbnx9PjtcblxuY29uc3QgZW1wdHlGdW5jdGlvblRoYXRSZXR1cm5zVHJ1ZSA9ICgpID0+IHRydWU7XG5cbi8qKlxuICogQSBmb3VuZGF0aW9uYWwgY29tcG9uZW50IGZvciBpbnB1dHRpbmcgdGV4dCBpbnRvIHRoZSBhcHAgdmlhIGFcbiAqIGtleWJvYXJkLiBQcm9wcyBwcm92aWRlIGNvbmZpZ3VyYWJpbGl0eSBmb3Igc2V2ZXJhbCBmZWF0dXJlcywgc3VjaCBhc1xuICogYXV0by1jb3JyZWN0aW9uLCBhdXRvLWNhcGl0YWxpemF0aW9uLCBwbGFjZWhvbGRlciB0ZXh0LCBhbmQgZGlmZmVyZW50IGtleWJvYXJkXG4gKiB0eXBlcywgc3VjaCBhcyBhIG51bWVyaWMga2V5cGFkLlxuICpcbiAqIFRoZSBzaW1wbGVzdCB1c2UgY2FzZSBpcyB0byBwbG9wIGRvd24gYSBgVGV4dElucHV0YCBhbmQgc3Vic2NyaWJlIHRvIHRoZVxuICogYG9uQ2hhbmdlVGV4dGAgZXZlbnRzIHRvIHJlYWQgdGhlIHVzZXIgaW5wdXQuIFRoZXJlIGFyZSBhbHNvIG90aGVyIGV2ZW50cyxcbiAqIHN1Y2ggYXMgYG9uU3VibWl0RWRpdGluZ2AgYW5kIGBvbkZvY3VzYCB0aGF0IGNhbiBiZSBzdWJzY3JpYmVkIHRvLiBBIHNpbXBsZVxuICogZXhhbXBsZTpcbiAqXG4gKiBgYGBSZWFjdE5hdGl2ZVdlYlBsYXllclxuICogaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbiAqIGltcG9ydCB7IEFwcFJlZ2lzdHJ5LCBUZXh0SW5wdXQgfSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuICpcbiAqIGV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZWxlc3NUZXh0SW5wdXQgZXh0ZW5kcyBDb21wb25lbnQge1xuICogICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICogICAgIHN1cGVyKHByb3BzKTtcbiAqICAgICB0aGlzLnN0YXRlID0geyB0ZXh0OiAnVXNlbGVzcyBQbGFjZWhvbGRlcicgfTtcbiAqICAgfVxuICpcbiAqICAgcmVuZGVyKCkge1xuICogICAgIHJldHVybiAoXG4gKiAgICAgICA8VGV4dElucHV0XG4gKiAgICAgICAgIHN0eWxlPXt7aGVpZ2h0OiA0MCwgYm9yZGVyQ29sb3I6ICdncmF5JywgYm9yZGVyV2lkdGg6IDF9fVxuICogICAgICAgICBvbkNoYW5nZVRleHQ9eyh0ZXh0KSA9PiB0aGlzLnNldFN0YXRlKHt0ZXh0fSl9XG4gKiAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnRleHR9XG4gKiAgICAgICAvPlxuICogICAgICk7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiAvLyBza2lwIHRoaXMgbGluZSBpZiB1c2luZyBDcmVhdGUgUmVhY3QgTmF0aXZlIEFwcFxuICogQXBwUmVnaXN0cnkucmVnaXN0ZXJDb21wb25lbnQoJ0F3ZXNvbWVQcm9qZWN0JywgKCkgPT4gVXNlbGVzc1RleHRJbnB1dCk7XG4gKiBgYGBcbiAqXG4gKiBUd28gbWV0aG9kcyBleHBvc2VkIHZpYSB0aGUgbmF0aXZlIGVsZW1lbnQgYXJlIC5mb2N1cygpIGFuZCAuYmx1cigpIHRoYXRcbiAqIHdpbGwgZm9jdXMgb3IgYmx1ciB0aGUgVGV4dElucHV0IHByb2dyYW1tYXRpY2FsbHkuXG4gKlxuICogTm90ZSB0aGF0IHNvbWUgcHJvcHMgYXJlIG9ubHkgYXZhaWxhYmxlIHdpdGggYG11bHRpbGluZT17dHJ1ZS9mYWxzZX1gLlxuICogQWRkaXRpb25hbGx5LCBib3JkZXIgc3R5bGVzIHRoYXQgYXBwbHkgdG8gb25seSBvbmUgc2lkZSBvZiB0aGUgZWxlbWVudFxuICogKGUuZy4sIGBib3JkZXJCb3R0b21Db2xvcmAsIGBib3JkZXJMZWZ0V2lkdGhgLCBldGMuKSB3aWxsIG5vdCBiZSBhcHBsaWVkIGlmXG4gKiBgbXVsdGlsaW5lPWZhbHNlYC4gVG8gYWNoaWV2ZSB0aGUgc2FtZSBlZmZlY3QsIHlvdSBjYW4gd3JhcCB5b3VyIGBUZXh0SW5wdXRgXG4gKiBpbiBhIGBWaWV3YDpcbiAqXG4gKiBgYGBSZWFjdE5hdGl2ZVdlYlBsYXllclxuICogaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbiAqIGltcG9ydCB7IEFwcFJlZ2lzdHJ5LCBWaWV3LCBUZXh0SW5wdXQgfSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuICpcbiAqIGNsYXNzIFVzZWxlc3NUZXh0SW5wdXQgZXh0ZW5kcyBDb21wb25lbnQge1xuICogICByZW5kZXIoKSB7XG4gKiAgICAgcmV0dXJuIChcbiAqICAgICAgIDxUZXh0SW5wdXRcbiAqICAgICAgICAgey4uLnRoaXMucHJvcHN9IC8vIEluaGVyaXQgYW55IHByb3BzIHBhc3NlZCB0byBpdDsgZS5nLiwgbXVsdGlsaW5lLCBudW1iZXJPZkxpbmVzIGJlbG93XG4gKiAgICAgICAgIGVkaXRhYmxlID0ge3RydWV9XG4gKiAgICAgICAgIG1heExlbmd0aCA9IHs0MH1cbiAqICAgICAgIC8+XG4gKiAgICAgKTtcbiAqICAgfVxuICogfVxuICpcbiAqIGV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZWxlc3NUZXh0SW5wdXRNdWx0aWxpbmUgZXh0ZW5kcyBDb21wb25lbnQge1xuICogICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICogICAgIHN1cGVyKHByb3BzKTtcbiAqICAgICB0aGlzLnN0YXRlID0ge1xuICogICAgICAgdGV4dDogJ1VzZWxlc3MgTXVsdGlsaW5lIFBsYWNlaG9sZGVyJyxcbiAqICAgICB9O1xuICogICB9XG4gKlxuICogICAvLyBJZiB5b3UgdHlwZSBzb21ldGhpbmcgaW4gdGhlIHRleHQgYm94IHRoYXQgaXMgYSBjb2xvciwgdGhlIGJhY2tncm91bmQgd2lsbCBjaGFuZ2UgdG8gdGhhdFxuICogICAvLyBjb2xvci5cbiAqICAgcmVuZGVyKCkge1xuICogICAgIHJldHVybiAoXG4gKiAgICAgIDxWaWV3IHN0eWxlPXt7XG4gKiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGlzLnN0YXRlLnRleHQsXG4gKiAgICAgICAgYm9yZGVyQm90dG9tQ29sb3I6ICcjMDAwMDAwJyxcbiAqICAgICAgICBib3JkZXJCb3R0b21XaWR0aDogMSB9fVxuICogICAgICA+XG4gKiAgICAgICAgPFVzZWxlc3NUZXh0SW5wdXRcbiAqICAgICAgICAgIG11bHRpbGluZSA9IHt0cnVlfVxuICogICAgICAgICAgbnVtYmVyT2ZMaW5lcyA9IHs0fVxuICogICAgICAgICAgb25DaGFuZ2VUZXh0PXsodGV4dCkgPT4gdGhpcy5zZXRTdGF0ZSh7dGV4dH0pfVxuICogICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudGV4dH1cbiAqICAgICAgICAvPlxuICogICAgICA8L1ZpZXc+XG4gKiAgICAgKTtcbiAqICAgfVxuICogfVxuICpcbiAqIC8vIHNraXAgdGhlc2UgbGluZXMgaWYgdXNpbmcgQ3JlYXRlIFJlYWN0IE5hdGl2ZSBBcHBcbiAqIEFwcFJlZ2lzdHJ5LnJlZ2lzdGVyQ29tcG9uZW50KFxuICogICdBd2Vzb21lUHJvamVjdCcsXG4gKiAgKCkgPT4gVXNlbGVzc1RleHRJbnB1dE11bHRpbGluZVxuICogKTtcbiAqIGBgYFxuICpcbiAqIGBUZXh0SW5wdXRgIGhhcyBieSBkZWZhdWx0IGEgYm9yZGVyIGF0IHRoZSBib3R0b20gb2YgaXRzIHZpZXcuIFRoaXMgYm9yZGVyXG4gKiBoYXMgaXRzIHBhZGRpbmcgc2V0IGJ5IHRoZSBiYWNrZ3JvdW5kIGltYWdlIHByb3ZpZGVkIGJ5IHRoZSBzeXN0ZW0sIGFuZCBpdFxuICogY2Fubm90IGJlIGNoYW5nZWQuIFNvbHV0aW9ucyB0byBhdm9pZCB0aGlzIGlzIHRvIGVpdGhlciBub3Qgc2V0IGhlaWdodFxuICogZXhwbGljaXRseSwgY2FzZSBpbiB3aGljaCB0aGUgc3lzdGVtIHdpbGwgdGFrZSBjYXJlIG9mIGRpc3BsYXlpbmcgdGhlIGJvcmRlclxuICogaW4gdGhlIGNvcnJlY3QgcG9zaXRpb24sIG9yIHRvIG5vdCBkaXNwbGF5IHRoZSBib3JkZXIgYnkgc2V0dGluZ1xuICogYHVuZGVybGluZUNvbG9yQW5kcm9pZGAgdG8gdHJhbnNwYXJlbnQuXG4gKlxuICogTm90ZSB0aGF0IG9uIEFuZHJvaWQgcGVyZm9ybWluZyB0ZXh0IHNlbGVjdGlvbiBpbiBpbnB1dCBjYW4gY2hhbmdlXG4gKiBhcHAncyBhY3Rpdml0eSBgd2luZG93U29mdElucHV0TW9kZWAgcGFyYW0gdG8gYGFkanVzdFJlc2l6ZWAuXG4gKiBUaGlzIG1heSBjYXVzZSBpc3N1ZXMgd2l0aCBjb21wb25lbnRzIHRoYXQgaGF2ZSBwb3NpdGlvbjogJ2Fic29sdXRlJ1xuICogd2hpbGUga2V5Ym9hcmQgaXMgYWN0aXZlLiBUbyBhdm9pZCB0aGlzIGJlaGF2aW9yIGVpdGhlciBzcGVjaWZ5IGB3aW5kb3dTb2Z0SW5wdXRNb2RlYFxuICogaW4gQW5kcm9pZE1hbmlmZXN0LnhtbCAoIGh0dHBzOi8vZGV2ZWxvcGVyLmFuZHJvaWQuY29tL2d1aWRlL3RvcGljcy9tYW5pZmVzdC9hY3Rpdml0eS1lbGVtZW50Lmh0bWwgKVxuICogb3IgY29udHJvbCB0aGlzIHBhcmFtIHByb2dyYW1tYXRpY2FsbHkgd2l0aCBuYXRpdmUgY29kZS5cbiAqXG4gKi9cbmZ1bmN0aW9uIEludGVybmFsVGV4dElucHV0KHByb3BzOiBQcm9wcyk6IFJlYWN0Lk5vZGUge1xuICBjb25zdCBpbnB1dFJlZiA9IHVzZVJlZjxudWxsIHwgUmVhY3QuRWxlbWVudFJlZjxIb3N0Q29tcG9uZW50PG1peGVkPj4+KG51bGwpO1xuXG4gIC8vIEFuZHJvaWQgc2VuZHMgYSBcIm9uVGV4dENoYW5nZWRcIiBldmVudCBmb2xsb3dlZCBieSBhIFwib25TZWxlY3Rpb25DaGFuZ2VkXCIgZXZlbnQsIGZvclxuICAvLyB0aGUgc2FtZSBcIm1vc3QgcmVjZW50IGV2ZW50IGNvdW50XCIuXG4gIC8vIEZvciBjb250cm9sbGVkIHNlbGVjdGlvbiwgdGhhdCBtZWFucyB0aGF0IGltbWVkaWF0ZWx5IGFmdGVyIHRleHQgaXMgdXBkYXRlZCxcbiAgLy8gYSBjb250cm9sbGVkIGNvbXBvbmVudCB3aWxsIHBhc3MgaW4gdGhlICpwcmV2aW91cyogc2VsZWN0aW9uLCBldmVuIGlmIHRoZSBjb250cm9sbGVkXG4gIC8vIGNvbXBvbmVudCBkaWRuJ3QgbWVhbiB0byBtb2RpZnkgdGhlIHNlbGVjdGlvbiBhdCBhbGwuXG4gIC8vIFRoZXJlZm9yZSwgd2UgaWdub3JlIHNlbGVjdGlvbnMgYW5kIHBhc3MgdGhlbSB0aHJvdWdoIHVudGlsIHRoZSBzZWxlY3Rpb24gZXZlbnQgaGFzXG4gIC8vIGJlZW4gc2VudC5cbiAgLy8gTm90ZSB0aGF0IHRoaXMgbWl0aWdhdGlvbiBpcyBOT1QgbmVlZGVkIGZvciBGYWJyaWMuXG4gIGxldCBzZWxlY3Rpb246ID9TZWxlY3Rpb24gPVxuICAgIHByb3BzLnNlbGVjdGlvbiA9PSBudWxsXG4gICAgICA/IG51bGxcbiAgICAgIDoge1xuICAgICAgICAgIHN0YXJ0OiBwcm9wcy5zZWxlY3Rpb24uc3RhcnQsXG4gICAgICAgICAgZW5kOiBwcm9wcy5zZWxlY3Rpb24uZW5kID8/IHByb3BzLnNlbGVjdGlvbi5zdGFydCxcbiAgICAgICAgfTtcblxuICBjb25zdCBbbW9zdFJlY2VudEV2ZW50Q291bnQsIHNldE1vc3RSZWNlbnRFdmVudENvdW50XSA9IHVzZVN0YXRlPG51bWJlcj4oMCk7XG5cbiAgY29uc3QgW2xhc3ROYXRpdmVUZXh0LCBzZXRMYXN0TmF0aXZlVGV4dF0gPSB1c2VTdGF0ZTw/U3RyaW5naXNoPihwcm9wcy52YWx1ZSk7XG4gIGNvbnN0IFtsYXN0TmF0aXZlU2VsZWN0aW9uU3RhdGUsIHNldExhc3ROYXRpdmVTZWxlY3Rpb25dID0gdXNlU3RhdGU8e3xcbiAgICBzZWxlY3Rpb246ID9TZWxlY3Rpb24sXG4gICAgbW9zdFJlY2VudEV2ZW50Q291bnQ6IG51bWJlcixcbiAgfH0+KHtzZWxlY3Rpb24sIG1vc3RSZWNlbnRFdmVudENvdW50fSk7XG5cbiAgY29uc3QgbGFzdE5hdGl2ZVNlbGVjdGlvbiA9IGxhc3ROYXRpdmVTZWxlY3Rpb25TdGF0ZS5zZWxlY3Rpb247XG4gIGNvbnN0IGxhc3ROYXRpdmVTZWxlY3Rpb25FdmVudENvdW50ID1cbiAgICBsYXN0TmF0aXZlU2VsZWN0aW9uU3RhdGUubW9zdFJlY2VudEV2ZW50Q291bnQ7XG5cbiAgaWYgKGxhc3ROYXRpdmVTZWxlY3Rpb25FdmVudENvdW50IDwgbW9zdFJlY2VudEV2ZW50Q291bnQpIHtcbiAgICBzZWxlY3Rpb24gPSBudWxsO1xuICB9XG5cbiAgbGV0IHZpZXdDb21tYW5kczogVGV4dElucHV0TmF0aXZlQ29tbWFuZHM8SG9zdENvbXBvbmVudDxhbnk+PjtcbiAgaWYgKEFuZHJvaWRUZXh0SW5wdXRDb21tYW5kcykge1xuICAgIHZpZXdDb21tYW5kcyA9IEFuZHJvaWRUZXh0SW5wdXRDb21tYW5kcztcbiAgfSBlbHNlIHtcbiAgICB2aWV3Q29tbWFuZHMgPSBwcm9wcy5tdWx0aWxpbmVcbiAgICAgID8gUkNUTXVsdGlsaW5lVGV4dElucHV0TmF0aXZlQ29tbWFuZHNcbiAgICAgIDogUkNUU2luZ2xlbGluZVRleHRJbnB1dE5hdGl2ZUNvbW1hbmRzO1xuICB9XG5cbiAgY29uc3QgdGV4dCA9XG4gICAgdHlwZW9mIHByb3BzLnZhbHVlID09PSAnc3RyaW5nJ1xuICAgICAgPyBwcm9wcy52YWx1ZVxuICAgICAgOiB0eXBlb2YgcHJvcHMuZGVmYXVsdFZhbHVlID09PSAnc3RyaW5nJ1xuICAgICAgPyBwcm9wcy5kZWZhdWx0VmFsdWVcbiAgICAgIDogJyc7XG5cbiAgLy8gVGhpcyBpcyBuZWNlc3NhcnkgaW4gY2FzZSBuYXRpdmUgdXBkYXRlcyB0aGUgdGV4dCBhbmQgSlMgZGVjaWRlc1xuICAvLyB0aGF0IHRoZSB1cGRhdGUgc2hvdWxkIGJlIGlnbm9yZWQgYW5kIHdlIHNob3VsZCBzdGljayB3aXRoIHRoZSB2YWx1ZVxuICAvLyB0aGF0IHdlIGhhdmUgaW4gSlMuXG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgbmF0aXZlVXBkYXRlID0ge307XG5cbiAgICBpZiAobGFzdE5hdGl2ZVRleHQgIT09IHByb3BzLnZhbHVlICYmIHR5cGVvZiBwcm9wcy52YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG5hdGl2ZVVwZGF0ZS50ZXh0ID0gcHJvcHMudmFsdWU7XG4gICAgICBzZXRMYXN0TmF0aXZlVGV4dChwcm9wcy52YWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgc2VsZWN0aW9uICYmXG4gICAgICBsYXN0TmF0aXZlU2VsZWN0aW9uICYmXG4gICAgICAobGFzdE5hdGl2ZVNlbGVjdGlvbi5zdGFydCAhPT0gc2VsZWN0aW9uLnN0YXJ0IHx8XG4gICAgICAgIGxhc3ROYXRpdmVTZWxlY3Rpb24uZW5kICE9PSBzZWxlY3Rpb24uZW5kKVxuICAgICkge1xuICAgICAgbmF0aXZlVXBkYXRlLnNlbGVjdGlvbiA9IHNlbGVjdGlvbjtcbiAgICAgIHNldExhc3ROYXRpdmVTZWxlY3Rpb24oe3NlbGVjdGlvbiwgbW9zdFJlY2VudEV2ZW50Q291bnR9KTtcbiAgICB9XG5cbiAgICBpZiAoT2JqZWN0LmtleXMobmF0aXZlVXBkYXRlKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaW5wdXRSZWYuY3VycmVudCAhPSBudWxsKSB7XG4gICAgICB2aWV3Q29tbWFuZHMuc2V0VGV4dEFuZFNlbGVjdGlvbihcbiAgICAgICAgaW5wdXRSZWYuY3VycmVudCxcbiAgICAgICAgbW9zdFJlY2VudEV2ZW50Q291bnQsXG4gICAgICAgIHRleHQsXG4gICAgICAgIHNlbGVjdGlvbj8uc3RhcnQgPz8gLTEsXG4gICAgICAgIHNlbGVjdGlvbj8uZW5kID8/IC0xLFxuICAgICAgKTtcbiAgICB9XG4gIH0sIFtcbiAgICBtb3N0UmVjZW50RXZlbnRDb3VudCxcbiAgICBpbnB1dFJlZixcbiAgICBwcm9wcy52YWx1ZSxcbiAgICBwcm9wcy5kZWZhdWx0VmFsdWUsXG4gICAgbGFzdE5hdGl2ZVRleHQsXG4gICAgc2VsZWN0aW9uLFxuICAgIGxhc3ROYXRpdmVTZWxlY3Rpb24sXG4gICAgdGV4dCxcbiAgICB2aWV3Q29tbWFuZHMsXG4gIF0pO1xuXG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaW5wdXRSZWZWYWx1ZSA9IGlucHV0UmVmLmN1cnJlbnQ7XG5cbiAgICBpZiAoaW5wdXRSZWZWYWx1ZSAhPSBudWxsKSB7XG4gICAgICBUZXh0SW5wdXRTdGF0ZS5yZWdpc3RlcklucHV0KGlucHV0UmVmVmFsdWUpO1xuXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBUZXh0SW5wdXRTdGF0ZS51bnJlZ2lzdGVySW5wdXQoaW5wdXRSZWZWYWx1ZSk7XG5cbiAgICAgICAgaWYgKFRleHRJbnB1dFN0YXRlLmN1cnJlbnRseUZvY3VzZWRJbnB1dCgpID09PSBpbnB1dFJlZlZhbHVlKSB7XG4gICAgICAgICAgbnVsbHRocm93cyhpbnB1dFJlZlZhbHVlKS5ibHVyKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9LCBbaW5wdXRSZWZdKTtcblxuICBmdW5jdGlvbiBjbGVhcigpOiB2b2lkIHtcbiAgICBpZiAoaW5wdXRSZWYuY3VycmVudCAhPSBudWxsKSB7XG4gICAgICB2aWV3Q29tbWFuZHMuc2V0VGV4dEFuZFNlbGVjdGlvbihcbiAgICAgICAgaW5wdXRSZWYuY3VycmVudCxcbiAgICAgICAgbW9zdFJlY2VudEV2ZW50Q291bnQsXG4gICAgICAgICcnLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvLyBUT0RPOiBGaXggdGhpcyByZXR1cm5pbmcgdHJ1ZSBvbiBudWxsID09PSBudWxsLCB3aGVuIG5vIGlucHV0IGlzIGZvY3VzZWRcbiAgZnVuY3Rpb24gaXNGb2N1c2VkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBUZXh0SW5wdXRTdGF0ZS5jdXJyZW50bHlGb2N1c2VkSW5wdXQoKSA9PT0gaW5wdXRSZWYuY3VycmVudDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE5hdGl2ZVJlZigpOiA/UmVhY3QuRWxlbWVudFJlZjxIb3N0Q29tcG9uZW50PG1peGVkPj4ge1xuICAgIHJldHVybiBpbnB1dFJlZi5jdXJyZW50O1xuICB9XG5cbiAgY29uc3QgX3NldE5hdGl2ZVJlZiA9IHNldEFuZEZvcndhcmRSZWYoe1xuICAgIGdldEZvcndhcmRlZFJlZjogKCkgPT4gcHJvcHMuZm9yd2FyZGVkUmVmLFxuICAgIHNldExvY2FsUmVmOiByZWYgPT4ge1xuICAgICAgaW5wdXRSZWYuY3VycmVudCA9IHJlZjtcblxuICAgICAgLypcbiAgICAgICAgSGkgcmVhZGVyIGZyb20gdGhlIGZ1dHVyZS4gSSdtIHNvcnJ5IGZvciB0aGlzLlxuXG4gICAgICAgIFRoaXMgaXMgYSBoYWNrLiBJZGVhbGx5IHdlIHdvdWxkIGZvcndhcmRSZWYgdG8gdGhlIHVuZGVybHlpbmdcbiAgICAgICAgaG9zdCBjb21wb25lbnQuIEhvd2V2ZXIsIHNpbmNlIFRleHRJbnB1dCBoYXMgaXQncyBvd24gbWV0aG9kcyB0aGF0IGNhbiBiZVxuICAgICAgICBjYWxsZWQgYXMgd2VsbCwgaWYgd2UgdXNlZCB0aGUgc3RhbmRhcmQgZm9yd2FyZFJlZiB0aGVuIHRoZXNlXG4gICAgICAgIG1ldGhvZHMgd291bGRuJ3QgYmUgYWNjZXNzaWJsZSBhbmQgdGh1cyBiZSBhIGJyZWFraW5nIGNoYW5nZS5cblxuICAgICAgICBXZSBoYXZlIGEgY291cGxlIG9mIG9wdGlvbnMgb2YgaG93IHRvIGhhbmRsZSB0aGlzOlxuICAgICAgICAtIFJldHVybiBhIG5ldyByZWYgd2l0aCBldmVyeXRoaW5nIHdlIG1ldGhvZHMgZnJvbSBib3RoLiBUaGlzIGlzIHByb2JsZW1hdGljXG4gICAgICAgICAgYmVjYXVzZSB3ZSBuZWVkIFJlYWN0IHRvIGFsc28ga25vdyBpdCBpcyBhIGhvc3QgY29tcG9uZW50IHdoaWNoIHJlcXVpcmVzXG4gICAgICAgICAgaW50ZXJuYWxzIG9mIHRoZSBjbGFzcyBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgcmVmLlxuICAgICAgICAtIEJyZWFrIHRoZSBBUEkgYW5kIGhhdmUgc29tZSBvdGhlciB3YXkgdG8gY2FsbCBvbmUgc2V0IG9mIHRoZSBtZXRob2RzIG9yXG4gICAgICAgICAgdGhlIG90aGVyLiBUaGlzIGlzIG91ciBsb25nIHRlcm0gYXBwcm9hY2ggYXMgd2Ugd2FudCB0byBldmVudHVhbGx5XG4gICAgICAgICAgZ2V0IHRoZSBtZXRob2RzIG9uIGhvc3QgY29tcG9uZW50cyBvZmYgdGhlIHJlZi4gU28gaW5zdGVhZCBvZiBjYWxsaW5nXG4gICAgICAgICAgcmVmLm1lYXN1cmUoKSB5b3UgbWlnaHQgY2FsbCBSZWFjdE5hdGl2ZS5tZWFzdXJlKHJlZikuIFRoaXMgd291bGQgaG9wZWZ1bGx5XG4gICAgICAgICAgbGV0IHRoZSByZWYgZm9yIFRleHRJbnB1dCB0aGVuIGhhdmUgdGhlIG1ldGhvZHMgbGlrZSBgLmNsZWFyYC4gT3Igd2UgZG8gaXRcbiAgICAgICAgICB0aGUgb3RoZXIgd2F5IGFuZCBtYWtlIGl0IFRleHRJbnB1dC5jbGVhcih0ZXh0SW5wdXRSZWYpIHdoaWNoIHdvdWxkIGJlIGZpbmVcbiAgICAgICAgICB0b28uIEVpdGhlciB3YXkgdGhvdWdoIGlzIGEgYnJlYWtpbmcgY2hhbmdlIHRoYXQgaXMgbG9uZ2VyIHRlcm0uXG4gICAgICAgIC0gTXV0YXRlIHRoaXMgcmVmLiA6KCBHcm9zcywgYnV0IGFjY29tcGxpc2hlcyB3aGF0IHdlIG5lZWQgaW4gdGhlIG1lYW50aW1lXG4gICAgICAgICAgYmVmb3JlIHdlIGNhbiBnZXQgdG8gdGhlIGxvbmcgdGVybSBicmVha2luZyBjaGFuZ2UuXG4gICAgICAgICovXG4gICAgICBpZiAocmVmKSB7XG4gICAgICAgIHJlZi5jbGVhciA9IGNsZWFyO1xuICAgICAgICByZWYuaXNGb2N1c2VkID0gaXNGb2N1c2VkO1xuICAgICAgICByZWYuZ2V0TmF0aXZlUmVmID0gZ2V0TmF0aXZlUmVmO1xuICAgICAgfVxuICAgIH0sXG4gIH0pO1xuXG4gIGNvbnN0IF9vblByZXNzID0gKGV2ZW50OiBQcmVzc0V2ZW50KSA9PiB7XG4gICAgaWYgKHByb3BzLmVkaXRhYmxlIHx8IHByb3BzLmVkaXRhYmxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG51bGx0aHJvd3MoaW5wdXRSZWYuY3VycmVudCkuZm9jdXMoKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgX29uQ2hhbmdlID0gKGV2ZW50OiBDaGFuZ2VFdmVudCkgPT4ge1xuICAgIGNvbnN0IHRleHQgPSBldmVudC5uYXRpdmVFdmVudC50ZXh0O1xuICAgIHByb3BzLm9uQ2hhbmdlICYmIHByb3BzLm9uQ2hhbmdlKGV2ZW50KTtcbiAgICBwcm9wcy5vbkNoYW5nZVRleHQgJiYgcHJvcHMub25DaGFuZ2VUZXh0KHRleHQpO1xuXG4gICAgaWYgKGlucHV0UmVmLmN1cnJlbnQgPT0gbnVsbCkge1xuICAgICAgLy8gY2FsbGluZyBgcHJvcHMub25DaGFuZ2VgIG9yIGBwcm9wcy5vbkNoYW5nZVRleHRgXG4gICAgICAvLyBtYXkgY2xlYW4gdXAgdGhlIGlucHV0IGl0c2VsZi4gRXhpdHMgaGVyZS5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZXRMYXN0TmF0aXZlVGV4dCh0ZXh0KTtcbiAgICAvLyBUaGlzIG11c3QgaGFwcGVuIGxhc3QsIGFmdGVyIHdlIGNhbGwgc2V0TGFzdE5hdGl2ZVRleHQuXG4gICAgLy8gRGlmZmVyZW50IG9yZGVyaW5nIGNhbiBjYXVzZSBidWdzIHdoZW4gZWRpdGluZyBBbmRyb2lkVGV4dElucHV0c1xuICAgIC8vIHdpdGggbXVsdGlwbGUgRnJhZ21lbnRzLlxuICAgIC8vIFdlIG11c3QgdXBkYXRlIHRoaXMgc28gdGhhdCBjb250cm9sbGVkIGlucHV0IHVwZGF0ZXMgd29yay5cbiAgICBzZXRNb3N0UmVjZW50RXZlbnRDb3VudChldmVudC5uYXRpdmVFdmVudC5ldmVudENvdW50KTtcbiAgfTtcblxuICBjb25zdCBfb25TZWxlY3Rpb25DaGFuZ2UgPSAoZXZlbnQ6IFNlbGVjdGlvbkNoYW5nZUV2ZW50KSA9PiB7XG4gICAgcHJvcHMub25TZWxlY3Rpb25DaGFuZ2UgJiYgcHJvcHMub25TZWxlY3Rpb25DaGFuZ2UoZXZlbnQpO1xuXG4gICAgaWYgKGlucHV0UmVmLmN1cnJlbnQgPT0gbnVsbCkge1xuICAgICAgLy8gY2FsbGluZyBgcHJvcHMub25TZWxlY3Rpb25DaGFuZ2VgXG4gICAgICAvLyBtYXkgY2xlYW4gdXAgdGhlIGlucHV0IGl0c2VsZi4gRXhpdHMgaGVyZS5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZXRMYXN0TmF0aXZlU2VsZWN0aW9uKHtcbiAgICAgIHNlbGVjdGlvbjogZXZlbnQubmF0aXZlRXZlbnQuc2VsZWN0aW9uLFxuICAgICAgbW9zdFJlY2VudEV2ZW50Q291bnQsXG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgX29uRm9jdXMgPSAoZXZlbnQ6IEZvY3VzRXZlbnQpID0+IHtcbiAgICBUZXh0SW5wdXRTdGF0ZS5mb2N1c0lucHV0KGlucHV0UmVmLmN1cnJlbnQpO1xuICAgIGlmIChwcm9wcy5vbkZvY3VzKSB7XG4gICAgICBwcm9wcy5vbkZvY3VzKGV2ZW50KTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgX29uQmx1ciA9IChldmVudDogQmx1ckV2ZW50KSA9PiB7XG4gICAgVGV4dElucHV0U3RhdGUuYmx1cklucHV0KGlucHV0UmVmLmN1cnJlbnQpO1xuICAgIGlmIChwcm9wcy5vbkJsdXIpIHtcbiAgICAgIHByb3BzLm9uQmx1cihldmVudCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IF9vblNjcm9sbCA9IChldmVudDogU2Nyb2xsRXZlbnQpID0+IHtcbiAgICBwcm9wcy5vblNjcm9sbCAmJiBwcm9wcy5vblNjcm9sbChldmVudCk7XG4gIH07XG5cbiAgbGV0IHRleHRJbnB1dCA9IG51bGw7XG4gIGxldCBhZGRpdGlvbmFsVG91Y2hhYmxlUHJvcHM6IHt8XG4gICAgcmVqZWN0UmVzcG9uZGVyVGVybWluYXRpb24/OiAkUHJvcGVydHlUeXBlPFxuICAgICAgUHJvcHMsXG4gICAgICAncmVqZWN0UmVzcG9uZGVyVGVybWluYXRpb24nLFxuICAgID4sXG4gICAgLy8gVGhpcyBpcyBhIGhhY2sgdG8gbGV0IEZsb3cga25vdyB3ZSB3YW50IGFuIGV4YWN0IG9iamVjdFxuICB8fSA9IHsuLi5udWxsfTtcblxuICAvLyBUaGUgZGVmYXVsdCB2YWx1ZSBmb3IgYGJsdXJPblN1Ym1pdGAgaXMgdHJ1ZSBmb3Igc2luZ2xlLWxpbmUgZmllbGRzIGFuZFxuICAvLyBmYWxzZSBmb3IgbXVsdGktbGluZSBmaWVsZHMuXG4gIGNvbnN0IGJsdXJPblN1Ym1pdCA9IHByb3BzLmJsdXJPblN1Ym1pdCA/PyAhcHJvcHMubXVsdGlsaW5lO1xuXG4gIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2lvcycpIHtcbiAgICBjb25zdCBSQ1RUZXh0SW5wdXRWaWV3ID0gcHJvcHMubXVsdGlsaW5lXG4gICAgICA/IFJDVE11bHRpbGluZVRleHRJbnB1dFZpZXdcbiAgICAgIDogUkNUU2luZ2xlbGluZVRleHRJbnB1dFZpZXc7XG5cbiAgICBjb25zdCBzdHlsZSA9IHByb3BzLm11bHRpbGluZVxuICAgICAgPyBbc3R5bGVzLm11bHRpbGluZUlucHV0LCBwcm9wcy5zdHlsZV1cbiAgICAgIDogcHJvcHMuc3R5bGU7XG5cbiAgICBhZGRpdGlvbmFsVG91Y2hhYmxlUHJvcHMucmVqZWN0UmVzcG9uZGVyVGVybWluYXRpb24gPVxuICAgICAgcHJvcHMucmVqZWN0UmVzcG9uZGVyVGVybWluYXRpb247XG5cbiAgICB0ZXh0SW5wdXQgPSAoXG4gICAgICA8UkNUVGV4dElucHV0Vmlld1xuICAgICAgICByZWY9e19zZXROYXRpdmVSZWZ9XG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgYmx1ck9uU3VibWl0PXtibHVyT25TdWJtaXR9XG4gICAgICAgIGRhdGFEZXRlY3RvclR5cGVzPXtwcm9wcy5kYXRhRGV0ZWN0b3JUeXBlc31cbiAgICAgICAgbW9zdFJlY2VudEV2ZW50Q291bnQ9e21vc3RSZWNlbnRFdmVudENvdW50fVxuICAgICAgICBvbkJsdXI9e19vbkJsdXJ9XG4gICAgICAgIG9uQ2hhbmdlPXtfb25DaGFuZ2V9XG4gICAgICAgIG9uQ29udGVudFNpemVDaGFuZ2U9e3Byb3BzLm9uQ29udGVudFNpemVDaGFuZ2V9XG4gICAgICAgIG9uRm9jdXM9e19vbkZvY3VzfVxuICAgICAgICBvblNjcm9sbD17X29uU2Nyb2xsfVxuICAgICAgICBvblNlbGVjdGlvbkNoYW5nZT17X29uU2VsZWN0aW9uQ2hhbmdlfVxuICAgICAgICBvblNlbGVjdGlvbkNoYW5nZVNob3VsZFNldFJlc3BvbmRlcj17ZW1wdHlGdW5jdGlvblRoYXRSZXR1cm5zVHJ1ZX1cbiAgICAgICAgc2VsZWN0aW9uPXtzZWxlY3Rpb259XG4gICAgICAgIHN0eWxlPXtzdHlsZX1cbiAgICAgICAgdGV4dD17dGV4dH1cbiAgICAgIC8+XG4gICAgKTtcbiAgfSBlbHNlIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnKSB7XG4gICAgY29uc3Qgc3R5bGUgPSBbcHJvcHMuc3R5bGVdO1xuICAgIGNvbnN0IGF1dG9DYXBpdGFsaXplID0gcHJvcHMuYXV0b0NhcGl0YWxpemUgfHwgJ3NlbnRlbmNlcyc7XG4gICAgbGV0IGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW47XG4gICAgY29uc3QgY2hpbGRDb3VudCA9IFJlYWN0LkNoaWxkcmVuLmNvdW50KGNoaWxkcmVuKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICAhKHByb3BzLnZhbHVlICYmIGNoaWxkQ291bnQpLFxuICAgICAgJ0Nhbm5vdCBzcGVjaWZ5IGJvdGggdmFsdWUgYW5kIGNoaWxkcmVuLicsXG4gICAgKTtcbiAgICBpZiAoY2hpbGRDb3VudCA+IDEpIHtcbiAgICAgIGNoaWxkcmVuID0gPFRleHQ+e2NoaWxkcmVufTwvVGV4dD47XG4gICAgfVxuXG4gICAgdGV4dElucHV0ID0gKFxuICAgICAgLyogJEZsb3dGaXhNZSB0aGUgdHlwZXMgZm9yIEFuZHJvaWRUZXh0SW5wdXQgZG9uJ3QgbWF0Y2ggdXAgZXhhY3RseSB3aXRoXG4gICAgICAgIHRoZSBwcm9wcyBmb3IgVGV4dElucHV0LiBUaGlzIHdpbGwgbmVlZCB0byBnZXQgZml4ZWQgKi9cbiAgICAgIDxBbmRyb2lkVGV4dElucHV0XG4gICAgICAgIHJlZj17X3NldE5hdGl2ZVJlZn1cbiAgICAgICAgey4uLnByb3BzfVxuICAgICAgICBhdXRvQ2FwaXRhbGl6ZT17YXV0b0NhcGl0YWxpemV9XG4gICAgICAgIGJsdXJPblN1Ym1pdD17Ymx1ck9uU3VibWl0fVxuICAgICAgICBjaGlsZHJlbj17Y2hpbGRyZW59XG4gICAgICAgIGRpc2FibGVGdWxsc2NyZWVuVUk9e3Byb3BzLmRpc2FibGVGdWxsc2NyZWVuVUl9XG4gICAgICAgIG1vc3RSZWNlbnRFdmVudENvdW50PXttb3N0UmVjZW50RXZlbnRDb3VudH1cbiAgICAgICAgb25CbHVyPXtfb25CbHVyfVxuICAgICAgICBvbkNoYW5nZT17X29uQ2hhbmdlfVxuICAgICAgICBvbkZvY3VzPXtfb25Gb2N1c31cbiAgICAgICAgLyogJEZsb3dGaXhNZSB0aGUgdHlwZXMgZm9yIEFuZHJvaWRUZXh0SW5wdXQgZG9uJ3QgbWF0Y2ggdXAgZXhhY3RseVxuICAgICAgICAgKiB3aXRoIHRoZSBwcm9wcyBmb3IgVGV4dElucHV0LiBUaGlzIHdpbGwgbmVlZCB0byBnZXQgZml4ZWQgKi9cbiAgICAgICAgb25TY3JvbGw9e19vblNjcm9sbH1cbiAgICAgICAgb25TZWxlY3Rpb25DaGFuZ2U9e19vblNlbGVjdGlvbkNoYW5nZX1cbiAgICAgICAgc2VsZWN0aW9uPXtzZWxlY3Rpb259XG4gICAgICAgIHN0eWxlPXtzdHlsZX1cbiAgICAgICAgdGV4dD17dGV4dH1cbiAgICAgICAgdGV4dEJyZWFrU3RyYXRlZ3k9e3Byb3BzLnRleHRCcmVha1N0cmF0ZWd5fVxuICAgICAgLz5cbiAgICApO1xuICB9XG4gIHJldHVybiAoXG4gICAgPFRleHRBbmNlc3Rvci5Qcm92aWRlciB2YWx1ZT17dHJ1ZX0+XG4gICAgICA8VG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrXG4gICAgICAgIG9uTGF5b3V0PXtwcm9wcy5vbkxheW91dH1cbiAgICAgICAgb25QcmVzcz17X29uUHJlc3N9XG4gICAgICAgIG9uUHJlc3NJbj17cHJvcHMub25QcmVzc0lufVxuICAgICAgICBvblByZXNzT3V0PXtwcm9wcy5vblByZXNzT3V0fVxuICAgICAgICBhY2Nlc3NpYmxlPXtwcm9wcy5hY2Nlc3NpYmxlfVxuICAgICAgICBhY2Nlc3NpYmlsaXR5TGFiZWw9e3Byb3BzLmFjY2Vzc2liaWxpdHlMYWJlbH1cbiAgICAgICAgYWNjZXNzaWJpbGl0eVJvbGU9e3Byb3BzLmFjY2Vzc2liaWxpdHlSb2xlfVxuICAgICAgICBhY2Nlc3NpYmlsaXR5U3RhdGU9e3Byb3BzLmFjY2Vzc2liaWxpdHlTdGF0ZX1cbiAgICAgICAgbmF0aXZlSUQ9e3Byb3BzLm5hdGl2ZUlEfVxuICAgICAgICB0ZXN0SUQ9e3Byb3BzLnRlc3RJRH1cbiAgICAgICAgey4uLmFkZGl0aW9uYWxUb3VjaGFibGVQcm9wc30+XG4gICAgICAgIHt0ZXh0SW5wdXR9XG4gICAgICA8L1RvdWNoYWJsZVdpdGhvdXRGZWVkYmFjaz5cbiAgICA8L1RleHRBbmNlc3Rvci5Qcm92aWRlcj5cbiAgKTtcbn1cblxuY29uc3QgRXhwb3J0ZWRGb3J3YXJkUmVmOiBSZWFjdC5BYnN0cmFjdENvbXBvbmVudDxcbiAgUmVhY3QuRWxlbWVudENvbmZpZzx0eXBlb2YgSW50ZXJuYWxUZXh0SW5wdXQ+LFxuICBSZWFjdC5FbGVtZW50UmVmPEhvc3RDb21wb25lbnQ8bWl4ZWQ+PiAmIEltcGVyYXRpdmVNZXRob2RzLFxuPiA9IFJlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gVGV4dElucHV0KFxuICBwcm9wcyxcbiAgZm9yd2FyZGVkUmVmOiBSZWFjdFJlZlNldHRlcjxcbiAgICBSZWFjdC5FbGVtZW50UmVmPEhvc3RDb21wb25lbnQ8bWl4ZWQ+PiAmIEltcGVyYXRpdmVNZXRob2RzLFxuICA+LFxuKSB7XG4gIHJldHVybiA8SW50ZXJuYWxUZXh0SW5wdXQgey4uLnByb3BzfSBmb3J3YXJkZWRSZWY9e2ZvcndhcmRlZFJlZn0gLz47XG59KTtcblxuLy8gJEZsb3dGaXhNZVxuRXhwb3J0ZWRGb3J3YXJkUmVmLmRlZmF1bHRQcm9wcyA9IHtcbiAgYWxsb3dGb250U2NhbGluZzogdHJ1ZSxcbiAgcmVqZWN0UmVzcG9uZGVyVGVybWluYXRpb246IHRydWUsXG4gIHVuZGVybGluZUNvbG9yQW5kcm9pZDogJ3RyYW5zcGFyZW50Jyxcbn07XG5cbi8vIFRPRE86IERlcHJlY2F0ZSB0aGlzXG4vLyAkRmxvd0ZpeE1lXG5FeHBvcnRlZEZvcndhcmRSZWYucHJvcFR5cGVzID0gRGVwcmVjYXRlZFRleHRJbnB1dFByb3BUeXBlcztcblxuLy8gJEZsb3dGaXhNZVxuRXhwb3J0ZWRGb3J3YXJkUmVmLlN0YXRlID0ge1xuICBjdXJyZW50bHlGb2N1c2VkSW5wdXQ6IFRleHRJbnB1dFN0YXRlLmN1cnJlbnRseUZvY3VzZWRJbnB1dCxcblxuICBjdXJyZW50bHlGb2N1c2VkRmllbGQ6IFRleHRJbnB1dFN0YXRlLmN1cnJlbnRseUZvY3VzZWRGaWVsZCxcbiAgZm9jdXNUZXh0SW5wdXQ6IFRleHRJbnB1dFN0YXRlLmZvY3VzVGV4dElucHV0LFxuICBibHVyVGV4dElucHV0OiBUZXh0SW5wdXRTdGF0ZS5ibHVyVGV4dElucHV0LFxufTtcblxudHlwZSBUZXh0SW5wdXRDb21wb25lbnRTdGF0aWNzID0gJFJlYWRPbmx5PHt8XG4gIFN0YXRlOiAkUmVhZE9ubHk8e3xcbiAgICBjdXJyZW50bHlGb2N1c2VkSW5wdXQ6IHR5cGVvZiBUZXh0SW5wdXRTdGF0ZS5jdXJyZW50bHlGb2N1c2VkSW5wdXQsXG4gICAgY3VycmVudGx5Rm9jdXNlZEZpZWxkOiB0eXBlb2YgVGV4dElucHV0U3RhdGUuY3VycmVudGx5Rm9jdXNlZEZpZWxkLFxuICAgIGZvY3VzVGV4dElucHV0OiB0eXBlb2YgVGV4dElucHV0U3RhdGUuZm9jdXNUZXh0SW5wdXQsXG4gICAgYmx1clRleHRJbnB1dDogdHlwZW9mIFRleHRJbnB1dFN0YXRlLmJsdXJUZXh0SW5wdXQsXG4gIHx9PixcbiAgcHJvcFR5cGVzOiB0eXBlb2YgRGVwcmVjYXRlZFRleHRJbnB1dFByb3BUeXBlcyxcbnx9PjtcblxuY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICBtdWx0aWxpbmVJbnB1dDoge1xuICAgIC8vIFRoaXMgZGVmYXVsdCB0b3AgaW5zZXQgbWFrZXMgUkNUTXVsdGlsaW5lVGV4dElucHV0VmlldyBzZWVtIGFzIGNsb3NlIGFzIHBvc3NpYmxlXG4gICAgLy8gdG8gc2luZ2xlLWxpbmUgUkNUU2luZ2xlbGluZVRleHRJbnB1dFZpZXcgZGVmYXVsdHMsIHVzaW5nIHRoZSBzeXN0ZW0gZGVmYXVsdHNcbiAgICAvLyBvZiBmb250IHNpemUgMTcgYW5kIGEgaGVpZ2h0IG9mIDMxIHBvaW50cy5cbiAgICBwYWRkaW5nVG9wOiA1LFxuICB9LFxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gKChFeHBvcnRlZEZvcndhcmRSZWY6IGFueSk6IFJlYWN0LkFic3RyYWN0Q29tcG9uZW50PFxuICBSZWFjdC5FbGVtZW50Q29uZmlnPHR5cGVvZiBJbnRlcm5hbFRleHRJbnB1dD4sXG4gICRSZWFkT25seTx7fFxuICAgIC4uLlJlYWN0LkVsZW1lbnRSZWY8SG9zdENvbXBvbmVudDxtaXhlZD4+LFxuICAgIC4uLkltcGVyYXRpdmVNZXRob2RzLFxuICB8fT4sXG4+ICZcbiAgVGV4dElucHV0Q29tcG9uZW50U3RhdGljcyk7XG4iXX0=